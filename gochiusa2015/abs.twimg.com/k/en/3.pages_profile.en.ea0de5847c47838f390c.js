webpackJsonp([3],{"+Jt5":function(t,e,i){"use strict";function s(){this.defaultAttrs({pendingFollowersTitleSelector:".ProfileHeading-pendingFollowersText"}),this.handlePendingFollowerChange=function(t,e){e.pendingRequestsHtml&&this.select("pendingFollowersTitleSelector").html(e.pendingRequestsHtml)},this.after("initialize",function(){this.on(document,"dataFollowerAcceptSuccess",this.handlePendingFollowerChange),this.on(document,"dataFollowerDeclineSuccess",this.handlePendingFollowerChange)})}var o=i("DBjh");e.a=Object(o.default)(s)},"/gHE":function(t,e,i){"use strict";function s(t,e,i,s,p){var g=m({},t,{endpoint:e,itemType:s,eventData:{scribeContext:{component:p||s}}});Object(o.a)(m({},g,{statsName:i})),Object(a.a)("#timeline",g);var v="home"===g.pageName||"me"===g.pageName||"profile"===g.pageName,b=v?[h.a]:[];u.a.mixin.apply(this,b).attachTo("#timeline",g);var S=[];v&&(S=S.concat(l.a),f.a.attachTo("#timeline",g)),r.a.attachTo(document),n.a.mixin.apply(this,S).attachTo("#timeline",g),d.a.attachTo("#timeline",g),c.a.attachTo("#timeline",g)}var o=i("cuTm"),a=i("zqN9"),n=i("mS8d"),r=i("DR2D"),l=i("jAyJ"),h=i("3UWX"),c=i("7pRC"),d=i("jctv"),u=i("hODd"),f=i("08ua"),m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=s},"08to":function(t,e,i){"use strict";function s(){this.attributes({maxExcludedRecsInLocalStorage:100,endpoints:{users:{url:"/i/users/recommendations",method:"GET",successEvent:"dataDidGetUserRecommendations",errorEvent:"dataFailedToGetUserRecommendations"},dismiss:{url:"/i/users/recommendations/hide",method:"POST",successEvent:"dataDidDismissRecommendation",errorEvent:"dataFailedToDismissUserRecommendation"},promoted_self:{url:"/i/users/promoted_self",method:"GET",successEvent:"dataDidGetSelfPromotedAccount",errorEvent:"dataFailedToGetSelfPromotedAccount"}},endpointUrlOverrides:{}}),this.refreshEndpoint=function(t){return this.hitEndpoint(t,{"Cache-Control":"max-age=0",Pragma:"no-cache"})},this.hitEndpoint=function(t,e){var i=this;e=e||{};var s=this.attr.endpoints[t],o=this.attr.endpointUrlOverrides[t]||s.url;return function(t,a){a=a||{},a.excluded=a.excluded||[];var n=a.visible||[];delete a.visible,i.JSONRequest({type:s.method,url:o,headers:e,dataType:"json",data:r({},a,{excluded:i.storage.pushAll("excluded",a.excluded).concat(n).join(",")}),eventData:a,success:s.successEvent,error:s.errorEvent},s.method)}},this.excludeUsers=function(t,e){this.storage.pushAll("excluded",e.userIds),this.trigger("dataDidExcludeUserRecommendations",e)},this.excludeFollowed=function(t,e){e=e||{},"following"===e.newState&&e.userId&&this.storage.push("excluded",e.userId)},this.after("initialize",function(){var t=Object(a.a)({withArray:!0,withMaxElements:!0,withUniqueElements:!0});this.storage=new t("excluded_wtf_recs"),this.storage.setMaxElements("excluded",this.attr.maxExcludedRecsInLocalStorage),this.on(document,"uiRefreshUserRecommendations",this.refreshEndpoint("users")),this.on(document,"uiGetUserRecommendations",this.hitEndpoint("users")),this.on(document,"uiDismissUserRecommendation",this.hitEndpoint("dismiss")),this.on(document,"uiAddWtfBlacklistUsers",this.excludeUsers),this.on(document,"dataFollowStateChange",this.excludeFollowed),this.on(document,"uiPromptbirdWantsPromotedSelf",this.hitEndpoint("promoted_self"))})}var o=i("DBjh"),a=i("rWgq"),n=i("VtWx"),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},l=Object(o.default)(s,n.a);e.a=l},"08ua":function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({promotedTweetSelector:".promoted-tweet:not(.scribed)",promotedTweetForImpressionsSelector:".promoted-tweet:not(.presented)",scrollThrottle:100}),this.processTweets=function(){var e=this,i=n.a.getGlobalNavHeight(),s=this.$node.find(this.attr.promotedTweetSelector),o=this.$node.find(this.attr.promotedTweetForImpressionsSelector),a=s.filter(function(s,o){return n.a.isContainedInViewport(e.$window,t(o),i,0)}),r=o.filter(function(s,o){return n.a.isPartiallyContainedInViewport({$container:e.$window,$element:t(o),topThreshold:i,fractionInViewport:0})});if(r.length){r.addClass("presented");var l=r.map(function(e,i){return{impressionId:t(i).data("impression-id"),disclosureType:t(i).data("disclosure-type")}}).get();this.trigger("uiPromotedTweets1pxInViewport",{items:l})}if(a.length){a.addClass("scribed");var h=a.map(function(e,i){return{impressionId:t(i).data("impression-id"),disclosureType:t(i).data("disclosure-type")}}).get();this.trigger("uiPromotedTweetsInViewport",{items:h})}},this.after("initialize",function(e,i){this.$window=t(window),i&&i.inOverlay?this.on(e,"scroll resize",a.default.throttle(this.processTweets.bind(this),this.attr.scrollThrottle)):this.on(document,"scroll resize",a.default.throttle(this.processTweets.bind(this),this.attr.scrollThrottle)),this.on(document,"uiSwiftLoaded uiPageVisible uiPageChanged uiHasInjectedNewTimeline uiHasInjectedOldTimelineItems",this.processTweets)})}var o=i("DBjh"),a=i("YzIt"),n=i("/LRg");e.a=Object(o.default)(s)}).call(e,i("4kSj"))},"0QuB":function(t,e,i){"use strict";function s(){this.defaultAttrs({userItemSelector:"div.js-follower-request",streamUserItemSelector:"li.js-stream-item",followerActionsSelector:".friend-actions",profileActionsSelector:".js-profile-actions",acceptFollowerSelector:".js-action-accept",declineFollowerSelector:".js-action-deny",itemType:"user"}),this.findUser=function(t){return this.$node.find(this.attr.userItemSelector+"[data-user-id="+t+"]")},this.findFollowerActions=function(t){return this.findUser(t).find(this.attr.followerActionsSelector)},this.findProfileActions=function(t){return this.findUser(t).find(this.attr.profileActionsSelector)},this.handleAcceptSuccess=function(t,e){var i=this.findFollowerActions(e.userId),s=this.findProfileActions(e.userId);i.fadeOut(300,function(){return s.fadeIn(300)})},this.handleDeclineSuccess=function(t,e){this.findUser(e.userId).closest(this.attr.streamUserItemSelector).remove()},this.handleDecisionFailure=function(t,e){this.findFollowerActions(e.userId).find(".btn").prop("disabled",!1).removeClass("pending")},this.handleFollowerDecision=function(t){return function(e,i){e.preventDefault(),e.stopPropagation();var s=this.interactionData(e),o=this.findFollowerActions(s.userId);o.find(".btn").prop("disabled",!0),o.find("Accept"===t?this.attr.acceptFollowerSelector:this.attr.declineFollowerSelector).addClass("pending"),this.trigger("uiDidFollower"+t,s)}},this.after("initialize",function(){this.on("click",{acceptFollowerSelector:this.handleFollowerDecision("Accept"),declineFollowerSelector:this.handleFollowerDecision("Decline")}),this.on(document,"dataFollowerAcceptSuccess",this.handleAcceptSuccess),this.on(document,"dataFollowerDeclineSuccess",this.handleDeclineSuccess),this.on(document,"dataFollowerAcceptFailure dataFollowerDeclineFailure",this.handleDecisionFailure)})}var o=i("DBjh"),a=i("alSu");e.a=Object(o.default)(s,a.a)},"0iQm":function(t,e,i){"use strict";function s(){this.scribeTrendClick=function(t,e){this.scribe("search",e)},this.prepareScribeData=function(t){var e=t.initial?"initial":"newer",i={referring_event:e},s=!1;return i.items=t.items.map(function(t,e){var i={name:t.name,item_type:n.a.trend,item_query:t.name,position:e,token:t.token,id:t.id};return t.promotedTrendId&&(i.promoted_id=t.promotedTrendId,s=!0),i}),s&&(i.promoted=s),"clock"===t.source&&(i.event_initiator=r.a.clientSideApp),i},this.scribeTrendsResults=function(t,e){var i=this.prepareScribeData(e),s={element:i.referring_event,action:e.items&&e.items.length?"results":"no_results"};this.scribe(s,e,i),e.initial&&this.scribeTrendsImpression(e)},this.scribeTrendsImpression=function(t){this.scribe("impression",t)},this.__scribeChangeLocation=function(t,e){e.personalized&&this.scribe({component:"trends_location_dialog",element:"get_tailored_trends",action:"click"})},this.__scribeCustomizeLocation=function(t,e){this.scribe({component:"trends_location_dialog",element:"change_location",action:"click"})},this.after("initialize",function(){this.scribeOnEvent("uiTrendsDialogOpened","open"),this.on("uiTrendSelected",this.scribeTrendClick),this.on("uiTrendsDisplayed",this.scribeTrendsResults),this.on("uiChangeLocation",this.__scribeChangeLocation),this.on("uiTrendsDialogCustomizeLocation",this.__scribeCustomizeLocation)})}var o=i("DBjh"),a=i("3oDc"),n=i("rbkv"),r=i("UNvB");e.a=Object(o.default)(s,a.a)},"13rz":function(t,e,i){"use strict";function s(){this.defaultAttrs({removeCuratedTweetSelector:".js-action-remove-curated-tweet"}),this.getTimelineId=function(){return{timelineId:this.attr.timeline_id}},this.after("initialize",function(){var t=this.mkTweetDataCollectorForAction(this.interactionData,this.getTimelineId);this.on("click",{removeCuratedTweetSelector:this.composeHandler(this.preventDefault,this.getClosestTweet,t,this.triggerTweetAction("uiCurateRemoveTweet"))})})}e.a=s},"1Snf":function(t,e,i){"use strict";function s(){this.defaultAttrs({itemType:"custom-timeline"})}var o=i("4Pj3"),a=i("xgWv"),n=i("El2S");e.a=o.a.mixin(s,a.a,n.a)},"2Ag+":function(t,e,i){"use strict";function s(){this.defaultAttrs({scribeContext:{component:"profile_interstitial"}}),this.scribeViewTweets=function(t,e){var i=n({},this.attr.scribeContext,{element:e.scribeElement,action:"click"});this.scribe(i,e)},this.scribeViewProfileInterstitialWarning=function(t,e){var i=n({},this.attr.scribeContext,{element:e.scribeElement,action:"impression"});this.scribe(i,e)},this.after("initialize",function(){this.on(document,"uiProfilesInterstitialViewTweets",this.scribeViewTweets),this.on(document,"uiProfilesInterstitialImpression",this.scribeViewProfileInterstitialWarning)})}var o=i("DBjh"),a=i("3oDc"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r=Object(o.default)(s,a.a);e.a=r},"2BOW":function(t,e,i){"use strict";function s(){this.defaultAttrs({userAvatarSelector:".ProfileUserList-facepileItem .Avatar",userListPermalinkSelector:".ProfileUserList-permalink",userListUserCountSelector:".ProfileUserList-userCountLink",userListEditSelector:".ProfileUserList-editAction",userListUnfeatureSelector:".ProfileUserList-removeAction",userListSubscribeSelector:".ProfileUserList-subscribeAction.is-unsubscribed",userListUnsubsribeSelector:".ProfileUserList-subscribeAction.is-subscribed",itemType:"user"}),this.profileFeaturedListAvatarClick=function(t,e){this.trigger("uiProfileFeaturedListAvatarClick")},this.profileFeaturedListPermalinkClick=function(t,e){this.trigger("uiProfileFeaturedListPermalinkClick")},this.profileFeaturedListUserCountClick=function(t,e){this.trigger("uiProfileFeaturedListUserCountClick")},this.profileFeaturedListEditClick=function(t,e){this.trigger("uiProfileFeaturedListEditClick")},this.profileFeaturedListUnfeatureClick=function(t,e){this.trigger("uiProfileFeaturedListUnfeatureClick")},this.profileFeaturedListSubscribeClick=function(t,e){this.trigger("uiProfileFeaturedListSubscribeClick")},this.profileFeaturedListUnsubscribeClick=function(t,e){this.trigger("uiProfileFeaturedListUnsubscribeClick")},this.after("initialize",function(){this.trigger("uiHasProfileFeaturedList"),this.on("click",{userAvatarSelector:this.profileFeaturedListAvatarClick,userListPermalinkSelector:this.profileFeaturedListPermalinkClick,userListUserCountSelector:this.profileFeaturedListUserCountClick,userListEditSelector:this.profileFeaturedListEditClick,userListUnfeatureSelector:this.profileFeaturedListUnfeatureClick,userListSubscribeSelector:this.profileFeaturedListSubscribeClick,userListUnsubsribeSelector:this.profileFeaturedListUnsubscribeClick})})}var o=i("DBjh"),a=i("xgWv"),n=Object(o.default)(s,a.a);e.a=n},"2yP7":function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({closeSelector:".js-close",itemType:"user",userSelector:".js-actionable-user",targetSelector:"#suggested-users",childSelector:"",followedButtonSelector:".stream-item .following",lastStreamItemSelector:".stream-end-item",streamItemSelector:".stream-item",streamItemsSelector:"#suggested-users .stream-item",refreshAnimationDuration:200,isClusterFollowReplenishEnabled:!1}),this.getTimelineNodeSelector=function(t){return this.attr.targetSelector+(t?'[data-item-id="'+t+'"]':"")+" "+this.attr.childSelector},this.getPosition=function(e){return t(this.attr.streamItemsSelector).index(e.closest(this.attr.streamItemSelector))+1},this.replaceSuggestedUser=function(e,i){var s=t(this.attr.targetSelector).find(this.attr.followedButtonSelector).closest(this.attr.userSelector);if(0!==s.length){var o=this.getPosition(s),a=t(i.html).find(this.attr.userSelector),n=this.attr.refreshAnimationDuration;s.fadeOut(n,function(){s.replaceWith(a.hide()),a.fadeIn(n)});var r=[this.interactionData(a,{position:o})],l=[{id:a.attr("data-user-id"),impressionId:a.attr("data-impression-id")}];this.trigger("uiSuggestedUsersRendered",{isReplacement:!0,items:r,user_id:i.sourceEventData.userId}),this.trigger("uiUsersDisplayed",{users:l})}},this.slideInUsersList=function(e,i){var s=this;if(!this.$node.hasClass("has-content")){this.$node.addClass("has-content"),this.$node.html(i.html);var o=this.$node.outerHeight(),a=t(window).scrollTop();a>this.$node.position().top+o?t(window).scrollTop(a+o):this.$node.hide().slideDown();var n=this.$node.find(this.attr.userSelector),r=n.map(function(e,i){return s.interactionData(t(i),{position:e})}).get(),l=n.map(function(e,i){var s=t(i);return{id:s.attr("data-user-id"),impressionId:s.attr("data-impression-id")}}).get();this.trigger("uiSuggestedUsersRendered",{items:r,user_id:i.sourceEventData.userId}),this.trigger("uiUsersDisplayed",{users:l})}},this.isClusterFollowAction=function(t){return t.closest(this.attr.targetSelector).length>0},this.handleClusterFollow=function(e,i){this.isClusterFollowAction(t(e.target))&&this.attr.isClusterFollowReplenishEnabled&&this.trigger("uiGetClusterFollowReplacementSuggestion",{isReplacement:!0})},this.handleSuggestedUsersResults=function(t,e){e.isReplacement?this.replaceSuggestedUser(t,e):this.slideInUsersList(t,e)},this.slideOutContent=function(t,e){var i=this;this.$node.slideUp(function(){i.$node.empty().show(),i.$node.removeClass("has-content")})},this.after("initialize",function(){this.on(document,"dataSuggestedUsersSuccess",this.handleSuggestedUsersResults),this.on(document,"uiFollowAction",this.handleClusterFollow),this.on("click",{closeSelector:this.slideOutContent})})}var o=i("DBjh"),a=i("El2S"),n=i("xgWv"),r=i("alSu");e.a=Object(o.default)(s,a.a,n.a,r.a)}).call(e,i("4kSj"))},"3UWX":function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({promotedTweetStoreCookieName:"h"}),this.cookie=o.a,this.promotedTweetDismissed=function(t,e){e.impressionId&&this.removeFromPromotedTweetStoreCookie(e)},this.removePromotedTweetsFromBlockedUser=function(e,i){var s=this.$node.find("[data-user-id="+i.userId+"].js-stream-tweet.promoted-tweet"),o=this;t.each(s,function(e,i){var s=t(i).attr("data-tweet-id");s&&o.removeFromPromotedTweetStoreCookie({id:s})})},this.removeFromPromotedTweetStoreCookie=function(e){var i=void 0;try{i=JSON.parse(Object(o.a)(this.attr.promotedTweetStoreCookieName))}catch(t){i=[]}t.isArray(i)||(i=[i]),i=i.filter(function(t){return t&&t.tweet_id&&t.tweet_id!==e.id}),i=0===i.length?null:JSON.stringify(i),Object(o.a)(this.attr.promotedTweetStoreCookieName,i)},this.after("initialize",function(){this.on("uiTweetDismissed",this.promotedTweetDismissed),this.on(document,"jsClearReinjectionCookiesForUser",this.removePromotedTweetsFromBlockedUser)})}var o=i("dsp6");e.a=s}).call(e,i("4kSj"))},"3ZrE":function(t,e,i){"use strict";function s(){this.defaultAttrs({location:{},personalized:!1}),this.setLocationInfo=function(t,e){this.attr.personalized=!!e.personalized,this.attr.location=e.location||{},this.trigger("uiLocationInfoUpdated")},this.changeLocationInfo=function(t){this.trigger("uiChangeLocation",{location:t})},this.setPersonalizedTrends=function(){this.trigger("uiChangeLocation",{personalized:!0})},this.after("initialize",function(){this.on(document,"dataChangedTrendLocation",this.setLocationInfo)})}e.a=s},"3a6r":function(t,e,i){"use strict";(function(t){function i(){return t("body").hasClass("show-avatar-options")}e.a=i}).call(e,i("4kSj"))},"5XM1":function(t,e,i){"use strict";function s(t){T.a.attachTo(".ProfilePage",{testForCssSelector:".ProfilePage-testForEditingCss:visible"},t),a.a.attachTo(".ProfileCanopy-addHeaderCallout"),n.a.attachTo(document),r.a.attachTo(document,t),j.a.attachTo(document,t,{uploadTimeout:3e4}),y.a.attachTo(".ProfilePage",t,{saveProfileFooterSelector:".ProfilePage-editingButtons",saveProfileButtonSelector:".ProfilePage-saveButton",cancelProfileButtonSelector:".ProfilePage-cancelButton",profileSavingClass:"is-saving",profileEditingClass:"is-editing",useProfileErrorDialog:!1,bioProfileFieldSelector:".ProfileHeaderCard-bio",urlProfileFieldSelector:".ProfileHeaderCard-urlText",avatarSelector:".ProfileAvatar-image,.ProfileAvatarEditing-image",avatarContainerSelector:".ProfileAvatar-container,.ProfileAvatarEditing-container",avatarPlaceholderSelector:".ProfileAvatar-placeholder,.ProfileAvatarEditing-placeholder",hiddenClass:"u-hidden",editAvatarSelector:".ProfileAvatarEditing-button",editHeaderSelector:".ProfileHeaderEditing-button",canToggleHeaderOptions:!0});var e={editableFieldSelector:".ProfileHeaderCardEditing-editableField",measuringFieldSelector:".ProfileHeaderCardEditing-measuringField"};g.a.attachTo(".ProfileHeaderCardEditing-periscopeProfile",{editableCheckboxSelector:".ProfileHeaderEditing-editableCheckbox",globalProfileFieldSelector:".ProfileHeaderCard-periscopeProfile"}),v.a.attachTo(".ProfileHeaderCardEditing-name",{globalProfileFieldSelector:".ProfileHeaderCard-nameLink, .ProfileCardMini .ProfileNameTruncated-link"},e),l.a.attachTo(".ProfileHeaderCardEditing-bioRich",{globalProfileFieldSelector:".ProfileHeaderCard-bio",textSelector:".rich-editor",maxLength:160}),C.a.attachTo(".ProfileHeaderCardEditing-location"),I.a.attachTo(".ProfileHeaderCardEditing-location",{eventData:{scribeContext:{element:"geo_picker"}}}),v.a.attachTo(".ProfileHeaderCardEditing-url",{globalProfileFieldSelector:".ProfileHeaderCard-urlText",globalProfileFieldContainerSelector:".ProfileHeaderCard-url"},e),w.a.attachTo(".ProfileHeaderCardEditing-userColorButton"),u.a.attachTo(".ProfileHeaderCardEditing-userColor"),b.a.attachTo(document),A.a.attachTo("#profile_image_upload_dialog"),A.a.attachTo("#header_image_upload_dialog"),f.a.attachTo(document),k.a.attachTo(document);var i={scribeContext:{page:t.pageName,section:t.sectionName,component:"profile_image_upload"}};P.a.attachTo("#avatar_confirm_remove_dialog",{uploadType:"avatar"}),p.a.attachTo(".avatar-settings .uploader-image .photo-selector",{maxSizeInBytes:10485760,fileTooBigMessage:Object(o.default)("Please select a profile image that is less than 10 MB."),uploadType:"avatar",eventData:i,formAuthenticityToken:t.formAuthenticityToken}),x.a.attachTo("#profile_image_upload_dialog",{uploadType:"avatar",eventData:i,maximumWidth:512,maximumHeight:512,isAvatarWhenShowingAvatarOptions:!1,maxImageSize:716800}),d.a.attachTo("#choose-photo",{supportsAutoOpen:!1,uploadType:"avatar",alwaysOpen:!0,confirmDelete:!0,eventData:i}),m.a.attachTo(".ProfileAvatarEditing-button",{uploadType:"avatar",eventData:i});var s={scribeContext:{page:t.pageName,section:t.sectionName,component:"header_image_upload"}};P.a.attachTo("#header_confirm_remove_dialog",{uploadType:"header"}),p.a.attachTo(".header-settings .uploader-image .photo-selector",{fileNameString:"user[profile_header_image_name]",fileDataString:"user[profile_header_image]",fileInputString:"user[profile_header_image]",uploadType:"header",maxSizeInBytes:1024e4,fileTooBigMessage:Object(o.default)("Please select an image that is less than 10MB."),onError:function(){window.scrollTo(0,0)},eventData:s,formAuthenticityToken:t.formAuthenticityToken}),x.a.attachTo("#header_image_upload_dialog",{uploadType:"header",maskPadding:0,top:0,left:0,maximumWidth:1500,maximumHeight:500,imageNameSelector:"#choose-header div.photo-selector input.file-name",imageDataSelector:"#choose-header div.photo-selector input.file-data",eventData:s,modalEnabledClass:"",savingClass:"is-saving",isAvatarWhenShowingAvatarOptions:!1,cropMaskSelector:".ProfileHeaderUploadDialog-cropMask",cropZoneSelector:".ProfileHeaderUploadDialog-cropZone",cropImageSelector:".ProfileHeaderUploadDialog-cropImage",cropOverlaySelector:".ProfileHeaderUploadDialog-cropOverlay"}),O.a.attachTo(".ProfileCanopy"),d.a.attachTo("#choose-header",{defaultToFileInputOpen:!0,uploadType:"header",chooseExistingSelector:"#header-choose-existing",chooseWebcamSelector:"#header-choose-webcam",deleteImageSelector:"#header-delete-image",alwaysOpen:!0,confirmDelete:!0,eventData:s}),m.a.attachTo(".ProfileHeaderEditing-button",{uploadType:"header",eventData:s}),t.birthdateData.DOBCollectionEnabled&&(h.a.attachTo(".BirthdateSelect",{maximumDateAvailable:t.birthdateData.maximumBirthdate,shouldShowVisibilityPopover:t.birthdateData.shouldShowVisibilityPopover,visibilitySettingsLearnMorePath:t.birthdateData.visibilitySettingsLearnMorePath,userId:t.userId,environment:t.environment}),S.a.attachTo(".BirthdateSelect"),c.a.attachTo(document)),D.a.attachTo(".ProfilePage")}e.a=s;var o=i("0d4m"),a=i("p1nM"),n=i("Mf6W"),r=i("aaCG"),l=i("F6pr"),h=i("HdrC"),c=i("KLaw"),d=i("MX49"),u=i("LmDk"),f=i("eNG/"),m=i("wTlF"),p=i("CsT+"),g=i("DFH/"),v=i("FkT7"),b=i("XPAo"),S=i("BlFr"),w=i("eDty"),C=i("T+s6"),y=i("eo6+"),T=i("A9ky"),P=i("SFXG"),D=i("nlPD"),I=i("xiIe"),k=i("SWot"),O=i("iLiX"),x=i("n+wM"),A=i("lkYH"),j=i("BfPX")},"5hfi":function(t,e,i){"use strict";function s(){this.followerRequestAction=function(t,e){return function(i,s){var o=this,a=function(t){return o.trigger("dataFollower"+e+"Success",{userId:s.userId,pendingRequestsHtml:t.pendingRequestsHtml})},n=function(){return o.trigger("dataFollower"+e+"Failure",{userId:s.userId})};this.post({url:t,data:{user_id:s.userId},eventData:s,success:a,error:n})}},this.after("initialize",function(){this.on(document,"uiDidFollowerAccept",this.followerRequestAction("/i/user/accept","Accept")),this.on(document,"uiDidFollowerDecline",this.followerRequestAction("/i/user/deny","Decline"))})}var o=i("DBjh"),a=i("VtWx");e.a=Object(o.default)(s,a.a)},"60Bg":function(t,e,i){"use strict";var s=i("mS8d"),o=i("13rz");e.a=s.a.mixin(o.a)},"6b+H":function(t,e,i){"use strict";function s(){var t=/:[A-Z0-9_-]+$/i;this.scribeMediaThumbnailResults=function(e,i){var s=i.thumbnails.length,o=s?"results":"no_results",a={};s&&(a.items=i.thumbnails.map(function(e){return{name:e.replace(t,"")}})),this.scribe({action:o},i,a)},this.scribeMediaThumbnailClick=function(e,i){var s={url:i.url&&i.url.replace(t,"")},o={element:i.mediaType,action:"click"};this.scribe(o,i,s)},this.after("initialize",function(){this.on(document,"uiMediaGalleryResults",this.scribeMediaThumbnailResults),this.on(document,"uiMediaThumbnailsVisible",this.scribeMediaThumbnailResults),this.on(document,"uiMediaThumbnailClick",this.scribeMediaThumbnailClick)})}var o=i("DBjh"),a=i("3oDc");e.a=Object(o.default)(s,a.a)},"6ob3":function(t,e,i){"use strict";function s(){this.defaultAttrs({itemType:"user"})}var o=i("4Pj3"),a=i("GbBZ"),n=i("G/SW"),r=i("xgWv"),l=i("El2S"),h=i("w0oo"),c=i("G3LU");e.a=o.a.mixin(s,a.a,n.a,r.a,l.a,h.a,c.a)},"7pRC":function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({rtbItemSelector:".RtbAd-container",openWhyThisRtbAdSelector:".RtbAd .js-actionWhyThisAd",reportRtbAdSelector:".RtbAd .js-actionReport",dismissRtbAdSelector:".RtbAd .js-action-dismiss",blockRtbAdSelector:".RtbAd .js-actionBlock",unblockRtbAdSelector:".RtbAd .js-actionUnblock"}),this.getClosestRtbAd=function(e){return t(e.target).closest(this.attr.rtbItemSelector)},this.whyThisAd=function(t,e){window.open(h,"_blank"),this.trigger("uiCloseDropdowns")},this.dismissRtbAd=function(t,e){var i=this.getClosestRtbAd(t);this.trigger(i,"uiDismissTweet")},this.blockUser=function(t,e){this.blockOrUnblockUser(t,"uiNeedsBlockDialog")},this.unblockUser=function(t,e){this.trigger("uiCloseDropdowns"),this.blockOrUnblockUser(t,"uiUnblockAction")},this.blockOrUnblockUser=function(t,e){var i=this.getClosestRtbAd(t),s=r({},this.interactionData(i),{id:i.attr("data-item-id"),screenName:i.attr("data-screen-name")});this.trigger(i,e,s)},this.reportRtbAd=function(t,e){var i=this.getClosestRtbAd(t),s=r({},this.interactionData(i),{userId:i.attr("data-user-id"),target:"rtb-ad"});this.trigger(i,"uiNeedsReportDialog",s)},this.after("initialize",function(){this.on("click",{openWhyThisRtbAdSelector:this.whyThisAd,reportRtbAdSelector:this.reportRtbAd,dismissRtbAdSelector:this.dismissRtbAd,blockRtbAdSelector:this.blockUser,unblockRtbAdSelector:this.unblockUser})})}var o=i("DBjh"),a=i("VtWx"),n=i("alSu"),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},l=Object(o.default)(s,a.a,n.a),h="https://support.twitter.com/articles/20175261";e.a=l}).call(e,i("4kSj"))},"8PbC":function(t,e,i){"use strict";(function(t){function i(){this.defaultAttrs({viewAllSelector:"button.view-all-supplements",interactionsPageViewAllToggleSelector:".stream-item-activity-notification button.view-all-supplements",additionalStreamItemsSelector:".sub-stream-item-showing, .sub-stream-item-hidden"}),this.toggleInteractionsSupplements=function(e,i){var s=t(i.el),o=s.hasClass("show");this.toggleSupplementTrigger(s,o),this.toggleSubStreamItemsVisibility(s.parent(),o)},this.toggleSupplementTrigger=function(t,e){t.toggleClass("hide",e).toggleClass("show",!e)},this.toggleSubStreamItemsVisibility=function(t,e){t.find(this.attr.additionalStreamItemsSelector).toggleClass("sub-stream-item-hidden",!e).toggleClass("sub-stream-item-showing",e)},this.after("initialize",function(){this.on("click",{interactionsPageViewAllToggleSelector:this.toggleInteractionsSupplements})})}e.a=i}).call(e,i("4kSj"))},"8SYk":function(t,e,i){(function(e){function s(){this.defaultAttrs({breakpoints:[],debounceWait:100,debounceImmediate:!1}),this.onResize=function(_,t){var e=this.findBreakpointFor(t);this.hasChanged(e)&&(this.breakpoint=e,this.trigger("viewport-update",e))},this.hasChanged=function(t){return t["min-width"]!==this.breakpoint["min-width"]||t["max-width"]!==this.breakpoint["max-width"]},this.findBreakpointFor=function(t){return this.attr.breakpoints.filter(function(e){var i=!e["min-width"]||t.width>=e["min-width"],s=!e["max-width"]||t.width<=e["max-width"];return i&&s})[0]},this.viewport=function(){return{width:this.$window.width()}},this.after("initialize",function(){this.breakpoint={},this.$window=e(window),this.on("viewport-resize",this.onResize),this.on(window,"resize",o.debounce(function(){this.trigger("viewport-resize",this.viewport())}.bind(this),this.attr.debounceWait,this.attr.debounceImmediate)),this.trigger("viewport-resize",this.viewport())})}var o=i("Y6Nz"),a=i("IuVG");t.exports=a(s)}).call(e,i("4kSj"))},"8hg/":function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({regionsSelector:'select[name="regions"]',citiesSelector:'select[name="cities"]'}),this.initializeCities=function(){var e=this;this.citiesByRegionWoeid={},this.$cities.find("option").each(function(i,s){var o=t(s),a=o.data("woeid");e.citiesByRegionWoeid[a]||(e.citiesByRegionWoeid[a]=[]),e.citiesByRegionWoeid[a].push(o)})},this.updateDropdown=function(){var t=this.$regions.val(),e=this.citiesByRegionWoeid[t]||"";this.$cities.empty(),this.$cities.html(e)},this.updateRegion=function(){this.updateDropdown();var t=this.$cities.children().first();t.length&&(t.prop("selected",!0),t.change())},this.updateCity=function(){var t=this.$cities.find("option:selected"),e=parseInt(t.val(),10),i=t.data("name");this.currentSelection=e,this.changeLocationInfo({woeid:e,name:i})},this.possiblyClearSelection=function(){this.currentSelection!==this.attr.location.woeid&&this.reset()},this.reset=function(){this.currentSelection=null,this.$regions.find('option[value=""]').prop("selected",!0),this.updateDropdown()},this.after("initialize",function(){this.$regions=this.select("regionsSelector"),this.$cities=this.select("citiesSelector"),this.initializeCities(),this.on(this.$regions,"change",this.updateRegion),this.on(this.$cities,"change",this.updateCity),this.on(document,"uiTrendsDialogReset",this.reset),this.on("uiLocationInfoUpdated",this.possiblyClearSelection),this.updateDropdown()})}var o=i("DBjh"),a=i("3ZrE");e.a=Object(o.default)(s,a.a)}).call(e,i("4kSj"))},"8mUk":function(t,e,i){"use strict";var s=i("4Pj3"),o=i("GbBZ"),a=i("k1OA"),n=i("8PbC"),r=i("CA0f"),l=i("E+fT"),h=i("xgWv"),c=i("bgdb"),d=i("jyKx"),u=i("CNhr"),f=i("Pp1+"),m=s.a.mixin(o.a,a.a,n.a,r.a,l.a,h.a,c.a,d.a,u.a,f.a);e.a=m},"90rM":function(t,e,i){"use strict";function s(){this.defaultAttrs({itemType:"list"})}var o=i("4Pj3"),a=i("GbBZ"),n=i("G/SW"),r=i("xgWv"),l=i("El2S");e.a=o.a.mixin(s,a.a,n.a,r.a,l.a)},"9Vkh":function(t,e,i){"use strict";function s(){this.attributes({periscopeUserId:null,periscopeLiveStatusPollInterval:null,periscopeLiveStatusMaxPollInterval:null,defaultExpireTimeout:45e3,defaultExpireInterval:12e4});this.getPeriscopeLiveStatus=function(){if(this.isLinkVisible()){var t=Date.now();this.get({url:"https://embed.pscp.tv/id/"+this.attr.periscopeUserId+".json",dataType:"json"}).done(this.successLive.bind(this,t)).fail(this.errorLive.bind(this))}},this.isLinkVisible=function(){return!this.$node.hasClass("u-hidden")},this.successLive=function(t,e,i,s){this.checkifLive(t,e,i,s),this.intervalPeriscopeLive.cancelBackoff()},this.errorLive=function(){this.sendLive(!1),this.intervalPeriscopeLive.backoff(this.attr.periscopeLiveStatusMaxPollInterval,2)},this.isLive=function(t,e,i,s,o,a){return!!e&&i-e<s&&t-a<o},this.checkifLive=function(t,e,i,s){var o=Date.now(),a=1e3*e.live_at,n=new Date(s.getResponseHeader("X-Date")),r=1e3*s.getResponseHeader("X-Live-Expire-Timeout")||this.attr.defaultExpireTimeout,l=1e3*s.getResponseHeader("X-Client-Expire-Interval")||this.attr.defaultExpireInterval;this.sendLive(this.isLive(o,a,n,r,l,t))},this.sendLive=function(t){this.trigger("dataGetLiveStatus",{isLive:t})},this.clearInterval=function(){a.default.clearInterval(this.intervalPeriscopeLive),this.intervalPeriscopeLive=null},this.after("initialize",function(){this.on(document,"dataPollPeriscopeLive uiSwiftLoaded uiPageChanged",this.getPeriscopeLiveStatus),this.intervalPeriscopeLive=a.default.setIntervalEvent("dataPollPeriscopeLive",this.attr.periscopeLiveStatusPollInterval),this.on(document,"uiBeforePageChanged",this.clearInterval)})}var o=i("DBjh"),a=i("r8Bt"),n=i("VtWx");e.a=Object(o.default)(s,n.a)},"9Ycz":function(t,e,i){"use strict";function s(){this.scribeResults=function(t,e){e=e||[],e.isInitial&&this.scribe("impression",e);var i=(e.userIds||[]).map(function(t,e){return{id:t,item_type:"user",position:e}}),s={items:i},o=i.length?"results":"no_results";this.scribe(o,e,s)},this.scribeRefresh=function(t,e){this.scribe({element:"refresh_link",action:"click"},e)},this.after("initialize",function(){this.on("uiRelatedUsersDisplayed",this.scribeResults),this.on("uiRelatedUsersRefreshClick",this.scribeRefresh)})}var o=i("DBjh"),a=i("3oDc");e.a=Object(o.default)(s,a.a)},"9n2V":function(t,e,i){"use strict";function s(t,e,i){var s=l({},e,i,{eventData:{scribeContext:{component:"user_recommendations"}}});r.a.attachTo(t,s),o.a.attachTo(t,s),a.a.attachTo(document,s),n.a.attachTo(t,s)}e.a=s;var o=i("F3RN"),a=i("08to"),n=i("hYUW"),r=i("IF4z"),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}},"9qF2":function(t,e,i){"use strict";(function(t){function s(){a.default.mixin(this,[o.a]),this.defaultAttrs({messageStreamItemSelector:".MessageStreamItem",dismissButtonSelector:".MessageStreamItem .Icon--close.js-dismiss",dismissSelector:".MessageStreamItem .js-dismiss",primaryActionSelector:".MessageStreamItem .js-primary-action",secondaryActionSelector:".MessageStreamItem .js-secondary-action"}),this.dismissMessage=function(t){this.scribe({component:this.getScribeComponent(t),action:"dismiss"});var e=this.getStreamItem(t);e.fadeOut(function(){return e.remove()})},this.scribeDismissButton=function(t){this.scribeClick(t,"dismiss")},this.scribePrimaryAction=function(t){this.scribeClick(t,"primary_action")},this.scribeSecondaryAction=function(t){this.scribeClick(t,"secondary_action")},this.scribeClick=function(t,e){this.scribe({component:this.getScribeComponent(t),element:e,action:"click"})},this.getScribeComponent=function(t){return this.getStreamItem(t).attr("data-component-context")},this.getStreamItem=function(e){return t(e.target).closest(this.attr.messageStreamItemSelector)},this.after("initialize",function(){this.on("click",{dismissButtonSelector:this.scribeDismissButton,dismissSelector:this.dismissMessage,primaryActionSelector:this.scribePrimaryAction,secondaryActionSelector:this.scribeSecondaryAction})})}e.a=s;var o=i("3oDc"),a=i("q9/C")}).call(e,i("4kSj"))},A9ky:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({profileEditingCSSBundle:""}),this.initializeInlineProfileEditing=function(t,e){n.a.loadOnce(this.attr.profileEditingCSSBundle,this.triggerStart.bind(this,e.scribeElement))},this.editHeader=function(e,i){t(document).one("uiEditProfileStart",this.showHeaderOptions.bind(this)),this.trigger("uiEditProfileInitialize",{scribeElement:i.scribeElement})},this.showHeaderOptions=function(){this.trigger("uiShowEditHeaderOptions")},this.triggerStart=function(t){this.trigger("uiEditProfileStart",{scribeContext:{element:t}})},this.updateNightmode=function(t,e){var i=this.attr.profileEditingCSSBundle;e.nightModeActivated?this.attr.profileEditingCSSBundle=i.replace("twitter_","nightmode_twitter_"):this.attr.profileEditingCSSBundle=i.replace("nightmode_","")},this.after("initialize",function(){this.retryCount=0,this.on(document,"uiEditProfileInitialize",this.initializeInlineProfileEditing),this.on(document,"uiEditProfileInitializeAndFocusOnHeaderOptions",this.editHeader),this.on(document,"uiNightModeChanged",this.updateNightmode)})}var o=i("DBjh"),a=i("rBC2"),n=i.n(a);e.a=Object(o.default)(s)}).call(e,i("4kSj"))},AN05:function(t,e,i){"use strict";(function(t){function i(){this.removeSeparatedModule=function(e){var i=t(e.target);this.trigger(i,"uiRemoveClassBeforePromptbird"),i.remove()},this.after("initialize",function(){this.on(document,"uiRemoveSeparatedModule",this.removeSeparatedModule)})}e.a=i}).call(e,i("4kSj"))},AUHA:function(t,e,i){"use strict";function s(){this.defaultAttrs({momentOembedEndpoint:"//publish.twitter.com/oembed?url=https%3A%2F%2Ftwitter.com/i/moments/"}),this.getMomentOembed=function(t,e){this.get({dataType:"jsonp",url:this.attr.momentOembedEndpoint+e.momentId,data:{id:e.momentId},success:"dataMomentEmbedUrl"})},this.after("initialize",function(){this.on("uiMomentEmbedNeedsOembed",this.getMomentOembed)})}var o=i("DBjh"),a=i("VtWx");e.a=Object(o.default)(s,a.a)},Acw8:function(t,e,i){"use strict";function s(){this.profileAlertsScribes={signinfrm:{page:"profile",section:"alerts",component:"login_callout",element:"form",action:"login_click"},signup:{page:"profile",section:"alerts",component:"signup_callout",element:"form",action:"signup_click"}},this.scribeForm=function(t,e){var i=t.target.className.match(/signinfrm|signup/);i&&i.length&&this.scribe(this.profileAlertsScribes[i[0]])},this.after("initialize",function(){this.on("submit",this.scribeForm)})}var o=i("DBjh"),a=i("3oDc");e.a=Object(o.default)(s,a.a)},AtlA:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({scribeContext:{component:"profile_heading"},toggleElementSelector:".ProfileHeading-toggleItem"}),this.scribeTogglesImpression=function(){var e=this;this.select("toggleElementSelector").each(function(i,s){var o=n({},e.attr.scribeContext,{element:t(s).data("element-term"),action:"impression"});e.scribe(o)})},this.after("initialize",function(){this.scribeTogglesImpression()})}var o=i("DBjh"),a=i("3oDc"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(o.default)(s,a.a)}).call(e,i("4kSj"))},BfPX:function(t,e,i){"use strict";function s(){this.defaultAttrs({noShowError:!0}),this.verifyUsername=function(t,e){this.get({url:"/users/username_available",eventData:e,data:e,success:"dataUsernameResult",error:"dataUsernameError"})},this.verifyEmail=function(t,e){this.get({url:"/users/email_available",eventData:e,data:e,success:"dataEmailResult",error:"dataEmailError"})},this.cancelPendingEmail=function(t,e){var i=function(t){this.trigger("dataCancelEmailSuccess",t)},s=function(t){this.trigger("dataCancelEmailFailure",t)};this.post({url:e.url,data:{},success:i.bind(this),error:s.bind(this)})},this.resendPendingEmail=function(t,e){var i=function(t){this.trigger("dataResendEmailSuccess",t)},s=function(t){this.trigger("dataResendEmailFailure",t)};this.post({url:e.url,data:{},success:i.bind(this),error:s.bind(this)})},this.resendPassword=function(t,e){var i=this;this.post({url:e.url,data:{},dataType:"text",success:function(){return i.trigger("dataForgotPasswordSuccess",{})}})},this.deleteGeoData=function(t){var e=function(t){this.trigger("dataGeoDeletionError",{})};this.post({url:"/account/delete_location_data",dataType:"text",data:{},error:e.bind(this)})},this.revokeAuthority=function(t,e){this.post({url:"/oauth/revoke",eventData:e,data:e,success:"dataOAuthRevokeResultSuccess",error:"dataOAuthRevokeResultFailure"})},this.revokeActiveSession=function(t,e){this.post({url:"/account/sessions/revoke",eventData:e,data:e,success:"dataActiveSessionRevokeResultSuccess",error:"dataActiveSessionRevokeResultFailure"})},this.revokeAllActiveSessions=function(t,e){this.post({url:"/account/sessions/revoke_all",eventData:e,data:e,success:"dataAllActiveSessionsRevokeResultSuccess",error:"dataAllActiveSessionsRevokeResultFailure"})},this.notifyFailure=function(t){this.trigger("dataSaveImageFailure",{uploadType:t.uploadType})},this.updateProfileImage=function(t,e){var i={header:"/i/profiles/update_profile_banner",avatar:"/i/profiles/update_profile_image"};t.page_context=this.attr.pageName,t.section_context=this.attr.sectionName,t.mediaId=e,this.post({url:i[t.uploadType],eventData:t,data:t,success:"dataSaveImageSuccess",error:"dataSaveImageFailure"})},this.saveImage=function(t,e){var i=this,s=e.fileId,o=a.a.get(s);if(o){this.trigger(document,"uiMediaSruInit",{fileId:s,uploadId:o.uploadId,mediaCategory:o.mediaCategory});var n={uploadType:e.uploadType},r=e.cropData||{},h=l({},n,e.scribeData,r);return this.mediaSruFinalize(o).then(this.updateProfileImage.bind(this,h)).catch(function(t){throw i.notifyFailure(h),t})}},this.deleteImage=function(t,e){var i={header:"/i/profiles/remove_profile_banner",avatar:"/i/profiles/remove_profile_image"};e.page_context=this.attr.pageName,e.section_context=this.attr.sectionName,this.destroy({url:i[e.uploadType],eventData:e,data:e,success:"dataDeleteImageSuccess",error:"dataDeleteImageFailure"})},this.after("initialize",function(){this.on("uiUsernameChange",this.verifyUsername),this.on("uiEmailChange",this.verifyEmail),this.on("uiCancelPendingEmail",this.cancelPendingEmail),this.on("uiResendPendingEmail",this.resendPendingEmail),this.on("uiForgotPassword",this.resendPassword),this.on("uiDeleteGeoData",this.deleteGeoData),this.on("uiRevokeClick",this.revokeAuthority),this.on("uiRevokeActiveSessionClick",this.revokeActiveSession),this.on("uiRevokeAllActiveSessionsClick",this.revokeAllActiveSessions),this.on("uiImageSave",this.saveImage),this.on("uiDeleteImage",this.deleteImage)})}var o=i("DBjh"),a=i("H6fk"),n=i("VtWx"),r=i("x+k1"),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},h=Object(o.default)(s,n.a,r.a);e.a=h},BlFr:function(t,e,i){"use strict";function s(){this.oldBirthdateData={},this.newBirthdateData={},this.saveOldBirthdateData=function(t,e){this.oldBirthdateData=e},this.setNewBirthdateData=function(t,e){this.newBirthdateData=e},this.isNewBirthdateDifferentThanOldBirthdate=function(){return Object.keys(this.newBirthdateData).some(function(t){return this.newBirthdateData[t].value!==this.oldBirthdateData[t].value},this)},this.isValidNewBirthdate=function(){var t=!1,e=!1;for(var i in this.newBirthdateData)"date_select"===this.newBirthdateData[i].type&&(0===this.newBirthdateData[i].value?t=!0:e=!0);return e&&!t||t&&!e},this.syncBirthdateData=function(){if(this.isNewBirthdateDifferentThanOldBirthdate())if(this.isValidNewBirthdate())for(var t in this.newBirthdateData)this.trigger("uiInlineEditSave",{newValue:this.newBirthdateData[t].value,field:this.newBirthdateData[t].name});else this.trigger("uiBirthdateSelectHasInvalidDate")},this.replaceOldBirthdateData=function(){this.oldBirthdateData=this.newBirthdateData},this.resetOldBirthdateData=function(){this.isNewBirthdateDifferentThanOldBirthdate()&&this.trigger("uiBirthdateSelectSetFields",this.oldBirthdateData)},this.after("initialize",function(){this.on("uiBirthdateSelectDataInitialized",this.saveOldBirthdateData),this.on("uiBirthdateSelectDataUpdated",this.setNewBirthdateData),this.on("uiBirthdateSelectGotInvalidDateMessage","uiInlineEditSaveValidationError"),this.on(document,"uiEditProfileSaveFields",this.syncBirthdateData),this.on(document,"uiEditProfileSuccess",this.replaceOldBirthdateData),this.on(document,"uiEditProfileCancel uiBeforePageChanged",this.resetOldBirthdateData)})}var o=i("DBjh");e.a=Object(o.default)(s)},CfM2:function(t,e,i){"use strict";function s(t){Object(o.a)(t),Object(a.a)(n({},t,{useDeduping:!0}),"swift_profile_tweets")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var o=i("NcZX"),a=i("Z6Tj"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}},CgtT:function(t,e,i){"use strict";function s(){this.defaultAttrs({genericSelectSelector:".js-dateSelector",daySelectSelector:".js-dateSelectDay",monthSelectSelector:".js-dateSelectMonth",yearSelectSelector:".js-dateSelectYear",missingFieldClass:"is-missing",maximumDateAvailable:void 0}),this.dayOptions,this.monthOptions,this.yearOptions,this.isLeapYear=function(t){return t%4==0&&t%100!=0||t%400==0},this.getDaysInMonth=function(t,e){var i=+t||1,s=+(e||this.yearOptions[1].value);switch(i){case 2:return this.isLeapYear(s)?29:28;case 4:case 6:case 9:case 11:return 30;default:return 31}},this.getDateSelected=function(){var t=this.select("daySelectSelector"),e=this.select("monthSelectSelector"),i=this.select("yearSelectSelector");return{day:t.val(),month:e.val(),year:i.val()}},this.getDateSelectedData=function(){var t=this.select("daySelectSelector"),e=this.select("monthSelectSelector"),i=this.select("yearSelectSelector");return{day:{value:t.val(),name:t.attr("name"),type:"date_select"},month:{value:e.val(),name:e.attr("name"),type:"date_select"},year:{value:i.val(),name:i.attr("name"),type:"date_select"}}},this.setDateSelectorOption=function(t,e){var i=this.select("genericSelectSelector").filter('[name="'+t+'"]');i.val()!==e&&(i.val(e),this.updateDateOptions())},this.hasSelectedMaximumYear=function(t){return this.attr.maximumDateAvailable&&t.year>=this.attr.maximumDateAvailable.year},this.hasSelectedMaximumMonth=function(t){return this.attr.maximumDateAvailable&&t.month>=this.attr.maximumDateAvailable.month},this.updateDateOptions=function(){this.setFieldsWidth(),this.updateYearOptions(),this.updateMonthOptions(),this.updateDayOptions(),this.swapSelectedAttrs(),this.trigger("uiDateSelectorOptionsChanged",this.getDateSelectedData())},this.setFieldsWidth=function(){var t=this.select("daySelectSelector"),e=this.select("monthSelectSelector"),i=this.select("yearSelectSelector");t.is(":visible")&&t.css({width:t.css("width")}),e.is(":visible")&&e.css({width:e.css("width")}),i.is(":visible")&&i.css({width:i.css("width")})},this.updateDayOptions=function(){var t=this,e=this.select("daySelectSelector"),i=this.getDateSelected(),s=this.getDaysInMonth(i.month,i.year),o=this.hasSelectedMaximumYear(i)&&this.hasSelectedMaximumMonth(i),a=i.day,n=a,r=this.dayOptions.filter(function(e,i){var a=+i.value;return o?a<=t.attr.maximumDateAvailable.day:a<=s});a>0&&o&&a>=this.attr.maximumDateAvailable.day?n=this.attr.maximumDateAvailable.day:a>0&&a>s&&(n=s),e.empty().append(r).val(n);var l=!n&&(i.year>0||i.month>0);e.toggleClass(this.attr.missingFieldClass,l)},this.updateMonthOptions=function(){var t=this,e=this.select("monthSelectSelector"),i=this.getDateSelected(),s=this.monthOptions,o=i.month,a=o;this.hasSelectedMaximumYear(i)&&(s=s.filter(function(e,s){var o=+s.value;return o===t.attr.maximumDateAvailable.month&&i.day<=t.attr.maximumDateAvailable.day||o<t.attr.maximumDateAvailable.month}),o>0&&o>this.attr.maximumDateAvailable.month&&(a=this.attr.maximumDateAvailable.month)),e.empty().append(s).val(a);var n=!a&&(i.year>0||i.day>0);e.toggleClass(this.attr.missingFieldClass,n)},this.updateYearOptions=function(){var t=this,e=this.select("yearSelectSelector"),i=this.getDateSelected(),s=this.yearOptions,o=i.year,a=o;this.hasSelectedMaximumMonth(i)&&(i.month>this.attr.maximumDateAvailable.month||i.day>this.attr.maximumDateAvailable.day)&&(s=s.filter(function(e,i){return+i.value<t.attr.maximumDateAvailable.year}),o===this.attr.maximumDateAvailable.year&&(a=this.attr.maximumDateAvailable.year-1)),e.empty().append(s).val(a);var n=!a&&(i.month>0||i.day>0);e.toggleClass(this.attr.missingFieldClass,n)},this.swapSelectedAttrs=function(){var t=this.getDateSelected();this.dayOptions.prop("selected",!1).filter('[value="'+t.day+'"]').prop("selected",!0),this.monthOptions.prop("selected",!1).filter('[value="'+t.month+'"]').prop("selected",!0),this.yearOptions.prop("selected",!1).filter('[value="'+t.year+'"]').prop("selected",!0)},this.after("initialize",function(){this.dayOptions=this.select("daySelectSelector").find("option"),this.monthOptions=this.select("monthSelectSelector").find("option"),this.yearOptions=this.select("yearSelectSelector").find("option"),this.on(document,"uiEditProfileStart",this.updateDateOptions),this.on("change",{genericSelectSelector:this.updateDateOptions})}),this.disableDateOptions=function(){var t=this.getDateSelected();this.dayOptions.filter('[value!=""]').prop("disabled",!0),this.dayOptions.filter('[value="'+t.day+'"]').prop("disabled",!1),this.monthOptions.filter('[value!=""]').prop("disabled",!0),this.monthOptions.filter('[value="'+t.month+'"]').prop("disabled",!1),this.yearOptions.filter('[value!=""]').prop("disabled",!0),this.yearOptions.filter('[value="'+t.year+'"]').prop("disabled",!1)},this.enableDateOptions=function(){this.dayOptions.prop("disabled",!1),this.monthOptions.prop("disabled",!1),this.yearOptions.prop("disabled",!1)}}e.a=s},Cs1b:function(t,e,i){"use strict";function s(){this.defaultAttrs({preexpandTweetbox:!0,defaultText:""}),this.after("initialize",function(){this.initTweetbox({defaultText:this.attr.defaultText})})}var o=i("DBjh"),a=i("W5ds");e.a=Object(o.default)(a.a,s)},"CsT+":function(t,e,i){"use strict";function s(){this.defaults={uploadType:"",fileNameTextSelector:".photo-file-name",alertEvent:"uiAlertBanner"},this.updateFileNameText=function(t,e){var i=this.truncate(e.fileName,18);this.select("fileNameSelector").val(e.fileName),this.select("fileNameTextSelector").text(i),this.trigger("uiFileNameReady",{fileName:i})},this.addFileError=function(t){var e=t===n.a.FILE_TOO_LARGE?this.attr.fileTooBigMessage:Object(a.a)(t);e&&this.trigger(this.attr.alertEvent,{message:e}),this.scribe({component:"profile_image",element:"upload",action:"failure"}),"function"==typeof this.attr.onError&&this.attr.onError(),this.reset()},this.truncate=function(t,e){if(t.length<=e)return t;var i=Math.ceil(e/2),s=Math.floor(e/2);return t.substr(0,i)+"…"+t.substr(t.length-s,s)},this.initializeButton=function(){this.select("buttonSelector").prop("disabled",!1),this.updateAcceptedFormats()},this.resetUploader=function(){this.select("fileNameSelector").val(""),this.select("fileNameTextSelector").text(Object(h.default)("No file selected"))},this.after("initialize",function(){this.maxSizeInBytes=this.attr.maxSizeInBytes,this.initializeButton(),this.on(this.$node,"uiPreviewThumbnailShow",this.updateFileNameText),this.on("uiResetUploader",this.resetUploader)})}var o=i("DBjh"),a=i("YlCE"),n=i("JSdv"),r=i("40xB"),l=i("3oDc"),h=i("0d4m"),c=Object(o.default)(s,r.a,l.a);e.a=c},CybW:function(t,e,i){"use strict";function s(){this.after("initialize",function(){this.scribeOnEvent("uiNeedsDMDialog",{section:"business_profile",component:"message_cta",action:"click"})})}var o=i("DBjh"),a=i("3oDc");e.a=Object(o.default)(s,a.a)},DDDD:function(t,e,i){"use strict";function s(){this.defaultAttrs({isLiveClass:"is-live"}),this.updateLiveStatus=function(t,e){this.$node.toggleClass(this.attr.isLiveClass,e.isLive)},this.after("initialize",function(){this.on("dataGetLiveStatus",this.updateLiveStatus)})}var o=i("DBjh");e.a=Object(o.default)(s)},"DEQ+":function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({top:"20%",triggerSelector:".js-deleteMoment",confirmDeleteSelector:".js-confirmDeleteMoment",momentCapsuleSelector:".MomentCapsuleSummary",momentId:void 0,deleteInline:!1}),this.onConfirmDeleteMoment=function(t,e){this.trigger("uiMomentMakerDeleteMoment",{moment_id:this.momentId})},this.onDeleteSuccess=function(e,i){if(this.attr.deleteInline){var s=this.attr.momentCapsuleSelector+'[data-moment-id="'+this.momentId+'"]';t(s).remove(),this.close(),this.momentId=void 0}else this.redirect(i.href)},this.onDeleteFailure=function(){this.momentId=void 0,this.close(),this.trigger("uiShowError",{message:Object(o.default)("Something went wrong. This Moment couldn't be deleted. Give it a minute, then try again.")})},this.redirect=function(t){location.href=t},this.before("openWhenTriggerClicked",function(e){this.momentId=this.attr.momentId||t(e.target).closest("[data-moment-id]").attr("data-moment-id")}),this.after("initialize",function(){this.on("click",{confirmDeleteSelector:this.onConfirmDeleteMoment}),this.on(document,"dataMomentMakerDeleteMomentSuccess",this.onDeleteSuccess),this.on(document,"dataMomentMakerDeleteMomentFailure",this.onDeleteFailure)})}var o=i("0d4m"),a=i("DBjh"),n=i("UHc7");e.a=Object(a.default)(n.a,s)}).call(e,i("4kSj"))},"DFH/":function(t,e,i){"use strict";(function(t){function s(){this.attributes({editableCheckboxSelector:null,globalProfileFieldSelector:null,hiddenClass:"u-hidden"}),this.editableFieldValue=function(){return this.$editableField.is(":checked")},this.saveOldValue=function(){this.oldValue=this.editableFieldValue()},this.resetToOldValues=function(){this.$editableField.prop("checked",this.oldValue),this.updateProfileField(this.oldValue)},this.syncValue=function(){var t=this.editableFieldValue();this.oldValue!==t&&(this.updateProfileField(t),this.trigger("uiInlineEditSave",{newValue:t,field:this.$editableField.attr("name")}))},this.updateProfileField=function(t){"boolean"==typeof this.oldValue&&this.$profileField.toggleClass(this.attr.hiddenClass,!t)},this.closeOpenDropdowns=function(){this.trigger("uiEditProfileHideOptions")},this.after("initialize",function(){this.$editableField=this.select("editableCheckboxSelector"),this.$profileField=t(this.attr.globalProfileFieldSelector),this.on(document,"uiEditProfileStart",this.saveOldValue),this.on(document,"uiEditProfileSaveFields",this.syncValue),this.on(document,"uiEditProfileCancel uiEditProfileEditError",this.resetToOldValues),this.on(this.$editableField,"focus",this.closeOpenDropdowns)})}var o=i("DBjh");e.a=Object(o.default)(s)}).call(e,i("4kSj"))},DJnx:function(t,e,i){"use strict";(function(t){function i(){this.defaultAttrs({selectedStreamItemSelector:".selected-stream-item",ownTweetSelector:".my-tweet"}),this.isSelected=function(e,i,s){var o=this.select("selectedStreamItemSelector"),a=o[0],n=e.target;return o.is(n)||!(!a||!t.contains(a,n))},this.getSelectedTweet=function(t,e,i){var s=this.select("selectedStreamItemSelector").find(this.attr.tweetItemSelector),o=!!s.length;return o&&(i.$tweet=s),o},this.after("initialize",function(){if(this.attr.loggedIn){var t=this.mkTweetDataCollectorForAction(this.interactionDataWithCard),e=this.mkTweetDataCollectorForAction(this.interactionDataWithCard,this.getDataForReply);this.on("uiShortcutFavorite",this.composeHandler(this.isSelected,this.getSelectedTweet,t,this.toggleFavorite)),this.on("uiShortcutRetweet",this.composeHandler(this.isSelected,this.getSelectedTweet,t,this.toggleRetweet)),this.on("uiShortcutReply",this.composeHandler(this.isSelected,this.getSelectedTweet,e,this.triggerTweetAction("uiReplyToTweet")))}})}e.a=i}).call(e,i("4kSj"))},Dfow:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({bodySelector:".MomentAnalyticsDialog-body",cardSelector:".MomentAnalyticsDialog-card",dataSelector:".MomentAnalyticsDialog-data",maxTop:47,spinnerSelector:".MomentAnalyticsDialog-spinner",triggerSelector:".js-openMomentAnalytics"}),this.updatePopup=function(t,e){this.$spinner.hide(),this.$card.html(e.moment),this.$data.html(e.analytics),this.$modalBody.show(),this.trigger("uiMomentAnalyticsRendered")},this.resetAndClose=function(){this.reset(),this.close()},this.reset=function(){this.$spinner.show(),this.$modalBody.hide()},this.before("openWhenTriggerClicked",function(e){var i=t(e.currentTarget),s=i.attr("data-moment-id");this.trigger("uiMomentAnalyticsDialogOpened",{momentId:s}),this.scribe({component:"moment_analytics",action:"open"},this.getMomentScribeInfo(i))}),this.after("initialize",function(){this.$modalBody=this.select("bodySelector"),this.$card=this.select("cardSelector"),this.$data=this.select("dataSelector"),this.$spinner=this.select("spinnerSelector"),this.on(document,"dataLoadMomentAnalyticsSuccess",this.updatePopup),this.on(document,"uiDialogCloseRequested",this.reset),this.on(document,"dataLoadMomentAnalyticsFailure",this.resetAndClose)})}var o=i("DBjh"),a=i("UHc7"),n=i("Qs/v"),r=i("zvXx"),l=i("3oDc");e.a=Object(o.default)(a.a,r.a,n.a,l.a,s)}).call(e,i("4kSj"))},"E8/S":function(t,e,i){"use strict";function s(){this.defaultAttrs({analyticsLinkSelector:".TweetImpressionsModule-analyticsLink a"}),this.after("initialize",function(){this.on("click",{analyticsLinkSelector:this.analyticsLinkSelectorClicked})}),this.analyticsLinkSelectorClicked=function(){this.scribe({component:"tweet_impression_module",element:"analytics_link",action:"click"})}}var o=i("DBjh"),a=i("3oDc");e.a=Object(o.default)(s,a.a)},EOwp:function(t,e,i){"use strict";function s(t){Object(a.a)(t),Object(o.default)(l.a).attachTo(".ListCreationModule",{createCustomTimelineSelector:".ListCreationModule-action .EdgeButton"});var e=c({},t,{endpoint:t.timeline_url,itemType:"custom-timeline",eventData:{scribeContext:{component:"stream"}}});Object(n.a)(e),r.a.attachTo(".GridTimeline",{containerSelector:".GridTimeline-items",itemsSelector:".GridTimeline-items",timelineEndSelector:".GridTimeline-end",errorMessageSelector:".GridTimeline-footer .Icon--fail",streamItemsSelector:".GridTimeline-items"}),h.a.attachTo(document,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var o=i("DBjh"),a=i("NcZX"),n=i("cuTm"),r=i("1Snf"),l=i("Y4bJ"),h=i("HEdP"),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}},"EWF/":function(t,e,i){"use strict";function s(t){var e=o.a.fromQuery(location).multiplier;return t*(window.DEBUG.multiplier||e||1)}e.a=s;var o=i("sxXh")},EnIf:function(t,e,i){"use strict";function s(t){Object(o.a)(t);var e=T({},t,{endpoint:t.timeline_url,itemType:"",eventData:{scribeContext:{component:"moments"}}});Object(a.a)(e),r.a.attachTo(".GridTimeline",{containerSelector:".GridTimeline-items",itemsSelector:".GridTimeline-items",timelineEndSelector:".GridTimeline-end",errorMessageSelector:".GridTimeline-footer .Icon--fail",streamItemsSelector:".GridTimeline-items"}),l.a.attachTo(document),h.a.attachTo("#moment-analytics-dialog"),c.a.attachTo(document),d.a.attachTo(document),u.a.attachTo(".ProfileUserMomentsTimeline"),v.a.attachTo(document),b.a.attachTo("#delete-moment-dialog",{deleteInline:!0}),S.a.attachTo(document),w.a.attachTo(document),C.a.attachTo(document),n.a.attachTo(".MomentSummaryActionsMenu"),f.a.attachTo(".MomentSummaryActionsMenu"),m.a.attachTo(document),p.a.attachTo(document),g.a.attachTo("#moment-share-dialog"),t.momentsNuxTooltipsEnabled&&y.a.attachTo(".ProfileUserMomentsTimeline-createButton",{tooltipName:"user_moment_profile_create_moment_tooltip"})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var o=i("NcZX"),a=i("cuTm"),n=i("r2dR"),r=i("b5/S"),l=i("Kyl9"),h=i("Dfow"),c=i("8Xx6"),d=i("KfqD"),u=i("F2sH"),f=i("fBID"),m=i("AUHA"),p=i("V2DB"),g=i("Qw78"),v=i("OSHF"),b=i("DEQ+"),S=i("U8+L"),w=i("LB/2"),C=i("lTdQ"),y=i("g2cS"),T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}},F2sH:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({itemSelector:".MomentCapsuleSummary",ctaSelector:".MomentCallToAction",defaultLinkSelector:".js-default-link"}),this.onCapsuleClick=function(e,i){if(this.isValidClickTarget(e)){var s=t(i.el).closest(this.attr.itemSelector),o=s.find(this.attr.defaultLinkSelector);this.trigger("uiMomentClicked",this.getMomentScribeInfo(o)),this.trigger("uiNavigate",{href:o.attr("href")})}},this.onDefaultLinkClick=function(e,i){var s=t(e.target);this.trigger("uiMomentClicked",this.getMomentScribeInfo(s))},this.onCtaClick=function(e){var i=t(e.target);this.trigger("uiMomentCtaClicked",this.getMomentScribeInfo(i))},this.isValidClickTarget=function(e){return 0===t(e.target).closest("a, button").length},this.after("initialize",function(){this.on("click",{itemSelector:this.onCapsuleClick,defaultLinkSelector:this.onDefaultLinkClick,ctaSelector:this.onCtaClick})})}var o=i("DBjh"),a=i("Qs/v");e.a=Object(o.default)(s,a.a)}).call(e,i("4kSj"))},F3RN:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({dashboardSelector:".dashboard-user-recommendations",recUserSelector:".js-actionable-user",dismissRecSelector:".js-action-dismiss",viewAllSelector:".js-view-all-link",findFriendsSelector:".js-find-friends-link"}),this.dismissRecommendation=function(e,i){if(!this.currentlyRefreshing){this.currentlyDismissing=!0;var s=t(e.target).closest(this.attr.recSelector),o=s.attr("data-user-id");this.trigger("uiDismissUserRecommendation",{recommended_user_id:o,impressionId:s.attr("data-impression-id"),excluded:[o],visible:this.getVisibleIds(s),token:s.attr("data-feedback-token"),dismissable:this.attr.wtfOptions.dismissable,refreshUserId:o}),this.animateContentOut(s,"animationCallback")}},this.handleDismissResponse=function(e,i){var s=this;if(i=i||{},this.currentlyDismissing=!1,i.user_recommendations_html){var o=this.currentlyRefreshingUser(i),a=t(i.user_recommendations_html),n=a.attr("data-user-id");if(this.select("recSelector").is("[data-user-id="+n+"]"))return void o.find(this.attr.dismissRecSelector).click();var r=this.getItemPosition(o);this.animateContentIn(o,"animationCallback",i.user_recommendations_html,{modOp:"replaceWith",scribeCallback:function(){var t={oldUser:s.interactionData(o,{position:r})};a.length&&(t.newUser=s.interactionData(a,{position:r})),s.trigger("uiDidDismissUserRecommendation",t)}})}else this.handleEmptyDismissResponse(i)},this.handleDismissError=function(t,e){this.handleEmptyDismissResponse(e)},this.handleEmptyDismissResponse=function(t){var e=this.currentlyRefreshingUser(t);e&&e.remove(),this.select("recSelector").length||(this.trigger("uiShowMessage",{message:Object(o.default)("You have no more recommendations today!")}),this.$node.remove())},this.enable=function(){this.disabled=!1,this.refreshRecommendations({type:"empty-timeline"}),this.$node.show()},this.initRecommendations=function(t,e){this.disabled?this.$node.hide():this.verifyInitialRecommendations(t,e)},this.reset=function(){this.currentlyRefreshing||this.currentlyDismissing?this.select("dashboardSelector").html(""):(this.select("dashboardSelector").css("opacity",1),this.select("recUserSelector").css("opacity",1))},this.expandWhoToFollow=function(t,e){this.currentlyExpanding=!0;var i=c({},this.attr.wtfOptions,{limit:3,visible:this.getVisibleIds(t),refreshUserId:e.userId,get_replacement:!0});this.trigger("uiGetUserRecommendations",i)},this.triggerLinkClickScribes=function(e){var i=this,s={import_link:this.attr.findFriendsSelector,view_all_link:this.attr.viewAllSelector,refresh_link:this.attr.refreshRecsSelector},o=t(e.target);t.each(s,function(t,e){o.is(e)&&i.trigger(document,"uiClickedWtfLink",{element:t})})},this.getNewRecommendations=function(t,e,i){"wtf-component"===this.attr.wtfOptions.display_location&&!this.currentlyExpanding&&this.getVisibleIds(null,!0).length<=3?this.expandWhoToFollow(e,i):t(e,i)},this.after("initialize",function(){this.disabled=!!this.attr.wtfOptions&&this.attr.wtfOptions.disabled,this.on(document,"dataDidDismissRecommendation",this.handleDismissResponse),this.on(document,"dataFailedToDismissUserRecommendation",this.handleDismissError),this.on(document,"uiDidHideEmptyTimelineModule",this.enable),this.on(document,"uiSwiftLoaded uiPageChanged",this.initRecommendations),this.on(document,"uiBeforePageChanged",this.reset),this.on("click",{dismissRecSelector:this.dismissRecommendation,viewAllSelector:this.triggerLinkClickScribes,findFriendsSelector:this.triggerLinkClickScribes,refreshRecsSelector:this.triggerLinkClickScribes}),this.around("cycleRecommendation",function(t,e,i){this.getNewRecommendations(t,e,i)})})}var o=i("0d4m"),a=i("DBjh"),n=i("El2S"),r=i("xgWv"),l=i("e6X4"),h=i("PtJB"),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(a.default)(s,n.a,r.a,l.a,h.a)}).call(e,i("4kSj"))},F6pr:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({additionalTopBarPositionSelector:".ProfileCanopy"}),this.reset=function(){},this.syncValue=function(){var t=this.getVisibleText().trim();this.oldTextValue!==t&&this.trigger("uiInlineEditSave",{newValue:t,field:this.$text.attr("name")})},this.saveOldValue=function(){this.oldTextValue=this.getVisibleText().trim(),this.generatePictographsDeferred()},this.resetToOldValue=function(){this.setVisibleText(this.oldTextValue)},this.updateProfileField=function(){var e=t(this.attr.globalProfileFieldSelector);this.getVisibleText().trim()||e.html(""),e.attr("dir",this.$text.attr("dir"))},this.after("initialize",function(){this.initTextNode(),this.on(document,"uiEditProfileSaveFields",this.syncValue),this.on(document,"uiEditProfileStart",this.saveOldValue),this.on(document,"uiEditProfileCancel",this.resetToOldValue),this.on(document,"uiEditProfileEnd",this.updateProfileField)})}var o=i("DBjh"),a=i("FBSA"),n=i("84/5"),r=i("LcyA"),l=i("pUl/"),h=i("+HBl"),c=Object(o.default)(s,l.a,n.a,a.a,r.a,h.a);e.a=c}).call(e,i("4kSj"))},FkT7:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({editableFieldSelector:".editable-field",profileFieldSelector:".profile-field",globalProfileFieldSelector:null,globalProfileFieldContainerSelector:null,measuringFieldSelector:".measuring-field",padding:20,extraCharsForMeasuring:""}),this.syncDimensions=function(){if(this.$measuringField.length){var t=this.getDimensions(this.currentText());if(this.isTextArea){var e=Math.ceil(t.height/this.lineHeight);this.$editableField.attr("rows",e)}else this.$editableField.width(t.width+this.padding)}},this.saveOldValues=function(){this.oldTextValue=this.editableFieldValue(),this.oldHtmlValue=this.$profileField.html()},this.resetProfileField=function(){this.$profileField.html(this.oldHtmlValue)},this.resetToOldValues=function(){this.$editableField.val(this.oldTextValue).trigger("uiInputChanged"),this.resetProfileField(),this.updateProfileFieldContainerVisibility()},this.syncValue=function(){var t=this.editableFieldValue();this.oldTextValue!==t&&(this.setProfileField(),this.trigger("uiInlineEditSave",{newValue:t,field:this.$editableField.attr("name")}))},this.setProfileField=function(){var t=this.editableFieldValue();this.truncateLength&&t.length>this.truncateLength&&(t=t.substr(0,this.truncateLength)+"…"),this.$profileField.text(t),this.updateProfileFieldContainerVisibility()},this.currentText=function(){return this.editableFieldValue()||this.getPlaceholderText()},this.editableFieldValue=function(){return this.$editableField.val()},this.updateProfileFieldContainerVisibility=function(){var t=""===this.editableFieldValue().trim();this.$profileFieldContainer.toggleClass("u-hidden",t)},this.addPadding=function(){this.padding=this.attr.padding},this.removePadding=function(){this.padding=0},this.getDimensions=function(t){return this.truncateLength&&(t=t.substr(0,this.truncateLength)),this.prevText!==t&&(this.measureDimensions(t),this.prevText=t),{width:this.width,height:this.height}},this.measureDimensions=function(t){this.$measuringField.text(t+this.attr.extraCharsForMeasuring),this.height=this.$measuringField.height(),this.width=this.$measuringField.width()},this.preventNewlineAndLeadingSpace=function(t){(13===t.keyCode||32===t.keyCode&&!this.editableFieldValue())&&(t.preventDefault(),t.stopImmediatePropagation())},this.getPlaceholderText=function(){return this.$editableField.attr("placeholder")},this.closeOpenDropdowns=function(){this.trigger("uiEditProfileHideOptions")},this.after("initialize",function(){this.$editableField=this.select("editableFieldSelector"),this.$profileField=this.attr.globalProfileFieldSelector?t(this.attr.globalProfileFieldSelector):this.select("profileFieldSelector"),this.$measuringField=this.select("measuringFieldSelector"),this.$profileFieldContainer=t(this.attr.globalProfileFieldContainerSelector),this.lineHeight=parseInt(this.$profileField.css("line-height"),10)||1.2*parseInt(this.$profileField.css("font-size"),10),this.isTextArea=this.$editableField.is("textarea"),this.truncateLength=parseInt(this.$editableField.attr("data-truncate-length"),10),this.padding=0,this.on(document,"uiEditProfileSaveFields",this.syncValue),this.on(document,"uiEditProfileStart",this.saveOldValues),this.on(document,"uiEditProfileCancel",this.resetToOldValues),this.on(document,"uiEditProfileStart",this.syncDimensions),this.on(document,"uiShowProfileEditError",this.resetProfileField),this.on(this.$editableField,"keydown",this.preventNewlineAndLeadingSpace),this.on(this.$editableField,"focus",this.closeOpenDropdowns),this.isTextArea||(this.on(this.$editableField,"focus",this.addPadding),this.on(this.$editableField,"blur",this.removePadding)),this.on(this.$editableField,"keyup focus blur update paste",this.syncDimensions)})}var o=i("DBjh");e.a=Object(o.default)(s)}).call(e,i("4kSj"))},"G/Dn":function(t,e,i){"use strict";function s(){}var o=i("DBjh"),a=i("Oofp");e.a=Object(o.default)(s,a.a)},G3LU:function(t,e,i){"use strict";(function(t){function i(){this.aroundGetOldItemsData=function(e){var i=e();return this.attr.useExcludedIdsPagination&&(i.excluded=this.select("excludedUserSelector").map(function(){return t(this).attr("data-user-id")}).toArray().join(","),i.cursor=void 0),i},this.after("initialize",function(){this.around("getOldItemsData",this.aroundGetOldItemsData)})}e.a=i}).call(e,i("4kSj"))},HJfX:function(t,e,i){"use strict";function s(t){Object(o.a)(t),Object(a.default)(t),Object(n.a)(t),Object(r.a)(t),l.a.attachTo(".ProfileHeading-editButtons",{timeline_id:t.timeline_id})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var o=i("hhhH"),a=i("DNqT"),n=i("SAvb"),r=i("NcZX"),l=i("RF9A")},HdFY:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({editHeaderSelector:".edit-header-target",editAvatarSelector:".profile-picture",cancelOptionsSelector:".cancel-options",changePhotoSelector:"#choose-photo",changeHeaderSelector:"#choose-header",canToggleHeaderOptions:!1}),this.isShowingHeaderOptions=function(){return this.$body.hasClass("show-header-options")},this.optionsEnabled=function(){this.canShowOptions=!0},this.optionsDisabled=function(){this.canShowOptions=!1},this.toggleAvatarOptions=function(t){t.preventDefault(),this.hideHeaderOptions(),Object(o.a)()?this.hideAvatarOptions():this.showAvatarOptions()},this.showAvatarOptions=function(){this.canShowOptions&&!Object(o.a)()&&(this.$body.addClass("show-avatar-options"),this.trigger(this.select("changePhotoSelector"),"uiShouldShowDropdown"))},this.hideAvatarOptions=function(){this.$body.hasClass("show-avatar-options")&&(this.$body.removeClass("show-avatar-options"),this.trigger(document,"uiForceDropdownClosed"))},this.toggleHeaderOptions=function(t){t.preventDefault(),this.hideAvatarOptions(),this.isShowingHeaderOptions()?this.hideHeaderOptions():this.showHeaderOptions()},this.showHeaderOptions=function(){this.canShowOptions&&!this.$body.hasClass("show-header-options")&&(this.$body.addClass("show-header-options"),this.trigger(this.select("changeHeaderSelector"),"uiShouldShowDropdown"))},this.hideHeaderOptions=function(){this.$body.hasClass("show-header-options")&&(this.$body.removeClass("show-header-options"),this.trigger(document,"uiForceDropdownClosed"))},this.hideOptions=function(){this.hideHeaderOptions(),this.hideAvatarOptions()},this.after("initialize",function(){this.$body=t("body"),this.on("click",{editAvatarSelector:this.toggleAvatarOptions,editHeaderSelector:this.attr.canToggleHeaderOptions?this.toggleHeaderOptions:this.showHeaderOptions,cancelOptionsSelector:this.hideOptions}),this.attr.canToggleHeaderOptions||this.on("uiDropdownCloseRequested",function(t){this.isShowingHeaderOptions()&&t.preventDefault()}),this.on("uiEditProfileStart",this.optionsEnabled),this.on("uiEditProfileEnd",this.optionsDisabled),this.on("uiProfileHeaderUpdated uiProfileAvatarUpdated uiEditProfileEnd uiEditProfileHideOptions",this.hideOptions),this.on(document,"uiShortcutEsc",this.hideOptions),this.on(document,"uiShowEditAvatarOptions",this.showAvatarOptions),this.on(document,"uiShowEditHeaderOptions",this.showHeaderOptions)})}var o=i("3a6r");e.a=s}).call(e,i("4kSj"))},HdrC:function(t,e,i){"use strict";function s(){this.defaultAttrs({buttonSelector:".BirthdateSelect-button",fieldsSelector:".BirthdateSelect-fields",birthyearSelector:".BirthdateSelect-birthyear",expandedClass:"is-expanded",hasShownWarningPopoverClass:"hasShownWarningPopover",notSetClass:"is-notSet",showFieldsAnimationDuration:550,minAgeForYearVisibility:18,shouldShowVisibilityPopover:!1,visibilitySettingsLearnMorePath:null,userId:null,maximumNumberOfBirthdateChanges:6,environment:""});this.localStorage=new h.a("dob_select"),this.initialBirthdateData={},this.selectedBirthdateData={},this.showFields=function(){var t=this;this.maybeAddVisibilityHelpPopover(),this.$node.addClass(this.attr.expandedClass),setTimeout(function(){return t.select("fieldsSelector").addClass(t.attr.expandedClass)},this.attr.showFieldsAnimationDuration),this.select("fieldsSelector").focus(),this.trigger("uiBirthdateSelectFieldsExpanded"),this.hasChangedDateMoreThanAllowed()&&this.trigger("uiBirthdateSelectHasReachedChangeLimit")},this.resetFields=function(){this.$node.removeClass(this.attr.expandedClass),this.$node.removeClass(this.attr.hasShownWarningPopoverClass),this.selectedBirthdateData=this.initialBirthdateData,this.select("fieldsSelector").removeClass(this.attr.expandedClass)},this.updateYearVisibility=function(t,e){var i=this.select("birthyearSelector");this.shouldHideYearVisibility(e)?this.hideOptions(i,function(t){return t.data("option-value")>0}):this.unhideOptions(i)},this.shouldHideYearVisibility=function(t){var e=t.year.value,i=t.month.value,s=t.day.value,o=new Date,a=o.getUTCFullYear()-e,n=o.getUTCMonth()+1,r=o.getUTCDate(),l=a<this.attr.minAgeForYearVisibility,h=a===this.attr.minAgeForYearVisibility,c=h&&n<i,d=h&&n===parseInt(i,10),u=d&&r<s;return l||c||u},this.hasChangedDateMoreThanAllowed=function(){var t=this.localStorage.getItem(this.numChangesStorageKey)||0;return"selenium"===this.attr.environment?t>=1:t>=this.attr.maximumNumberOfBirthdateChanges},this.initializeSelectedBirthdateData=function(){var t=this.localStorage.getItem(this.lastBirthdateChangeStorageKey)||0,e=t+12096e5>Date.now(),i=this.hasChangedDateMoreThanAllowed();e&&i?this.disableDateOptions():this.enableDateOptions(),!e&&i&&this.localStorage.setItem(this.numChangesStorageKey,0),this.initialBirthdateData=this.selectedBirthdateData=c({},this.getDateSelectedData(),this.getSelectedVisibilitySettingsData()),this.trigger("uiBirthdateSelectDataInitialized",this.selectedBirthdateData),this.maybeAddBirthdateChangePopover()},this.updateSelectedBirthdateData=function(t,e){this.selectedBirthdateData=c({},this.selectedBirthdateData,e),this.isChangingDateFields()&&this.hasChangedDateMoreThanAllowed()?(this.trigger("uiShowError",{message:Object(o.default)("You can only change your birthday a limited number of times")}),this.selectedBirthdateData=this.initialBirthdateData,this.trigger("uiBirthdateSelectSetFields",this.initialBirthdateData)):(this.trigger("uiBirthdateSelectDataUpdated",this.selectedBirthdateData),this.maybeAddBirthdateChangePopover())},this.setBirthdateSelectFields=function(t,e){Object.keys(e).forEach(function(t){var i=e[t];"date_select"===i.type?this.setDateSelectorOption(i.name,i.value):"visibility_setting"===i.type&&this.setVisibilitySettingOption(i.name,i.value)},this)},this.notifyInvalidDate=function(){var t=this.getDateSelected(),e=void 0;e=t.year||t.month?t.year||t.day?t.month||t.day?t.year?t.month?t.day?Object(o.default)("Complete your birthday"):Object(o.default)("Complete your birthday by entering the day"):Object(o.default)("Complete your birthday by entering the month"):Object(o.default)("Complete your birthday by entering the year"):Object(o.default)("Complete your birthday by entering the month and day"):Object(o.default)("Complete your birthday by entering the year and day"):Object(o.default)("Complete your birthday by entering the year and month"),this.trigger("uiBirthdateSelectGotInvalidDateMessage",{message:e})},this.maybeAddBirthdateChangePopover=function(){var t=this.isChangingDateFields()||this.hasChangedDateMoreThanAllowed();!this.$node.hasClass(this.attr.hasShownWarningPopoverClass)&&t&&(this.addPopover(Object(o.default)("You can only change your birthday a limited number of times")),this.$node.addClass(this.attr.hasShownWarningPopoverClass))},this.isChangingDateFields=function(){return Object.keys(this.selectedBirthdateData).some(function(t){var e=this.selectedBirthdateData[t],i=this.initialBirthdateData[t];return"date_select"===e.type&&e.value>0&&i.value>0&&e.value!==i.value},this)},this.maybeAddVisibilityHelpPopover=function(){if(this.attr.shouldShowVisibilityPopover&&!this.localStorage.getItem(this.popoverStorageKey)){this.localStorage.setItem(this.popoverStorageKey,!0);var t=void 0;t=this.attr.visibilitySettingsLearnMorePath?Object(o.default)('You can control who sees your birthday on Twitter.<br /><a href="{{learn_more_path}}" target="_blank">Learn More</a>',{learn_more_path:this.attr.visibilitySettingsLearnMorePath}):Object(o.default)("You can control who sees your birthday on Twitter."),this.addPopover(t)}},this.maybeRemovePopovers=function(){this.select("fieldsSelector").hasClass(this.attr.expandedClass)&&this.hideAndClearPopover()},this.setButtonTitle=function(t,e){e.has_birthdate?this.select("buttonSelector").text(e.title).removeClass(this.attr.notSetClass):this.select("buttonSelector").text(Object(o.default)("Birthday")).addClass(this.attr.notSetClass)},this.storeNumberOfTimesBirthdateChanged=function(){if(this.isChangingDateFields()){var t=this.localStorage.getItem(this.numChangesStorageKey)||0;this.localStorage.setItem(this.numChangesStorageKey,t+1),this.localStorage.setItem(this.lastBirthdateChangeStorageKey,Date.now())}},this.after("initialize",function(){this.popoverStorageKey=this.attr.userId+"_hasShownVisibilityHelpPopover",this.numChangesStorageKey=this.attr.userId+"_timesBirthdateHasBeenChanged",this.lastBirthdateChangeStorageKey=this.attr.userId+"_msBirthdateWasLastChanged",this.on(document,"uiEditProfileStart",this.initializeSelectedBirthdateData),this.on("uiVisibilitySettingSelected uiDateSelectorOptionsChanged",this.updateSelectedBirthdateData),this.on("uiBirthdateSelectHasInvalidDate",this.notifyInvalidDate),this.on(this.select("buttonSelector"),"click",this.showFields),this.on(document,"uiEditProfileEnd uiBeforePageChanged",this.resetFields),this.on(document,"uiEditProfileSuccess",this.storeNumberOfTimesBirthdateChanged),this.on("uiVisibilitySettingSelected",this.close),this.on("uiDateSelectorOptionsChanged",this.updateYearVisibility),this.on("uiBirthdateSelectSetFields",this.setBirthdateSelectFields),this.on(document,"uiBirthdateSelectGotTitle",this.setButtonTitle),this.on(document,"click",this.maybeRemovePopovers)})}var o=i("0d4m"),a=i("DBjh"),n=i("CgtT"),r=i("sNB3"),l=i("f0ww"),h=i("WODX"),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(a.default)(s,n.a,r.a,l.a)},HjF0:function(t,e,i){"use strict";function s(){this.defaultAttrs({listContainerSelector:".trend-location-picker"}),this.loadTrendLocations=function(t,e){var i=e.trendLocations;this.$list.empty(),i.forEach(function(t){var e=this.$template.clone(!1),i=e.find("button");i.text(t.name),i.attr("data-woeid",t.woeid),i.attr("data-name",t.name),this.$list.append(e)},this),this.$node.toggle(i.length>0)},this.after("initialize",function(){this.$list=this.select("listContainerSelector"),this.$template=this.$list.find("li:first").clone(!1),this.on(document,"dataGotRecentTrendLocations",this.loadTrendLocations),this.trigger("uiWantsRecentTrendLocations")})}var o=i("DBjh"),a=i("Oofp");e.a=Object(o.default)(s,a.a)},IF4z:function(t,e,i){"use strict";function s(){this.scribeImpression=function(t,e){this.scribe(n({},e.scribeContext,{element:"wtf_import_prompt",action:"impression"}))},this.scribeToggle=function(t,e){this.scribe(n({},e.scribeContext,{element:"wtf_import_prompt",action:e.action}),{section:"other_services"})},this.after("initialize",function(){this.on("uiWTFImportPromptImpression",this.scribeImpression),this.on("uiWTFImportPromptToggle",this.scribeToggle)})}var o=i("DBjh"),a=i("3oDc"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(o.default)(s,a.a)},IvKl:function(t,e,i){"use strict";function s(){this.defaultAttrs({createOrUpdateEventName:"uiUpdateCustomTimeline",orderSelector:"[name=edit-timeline-order]:checked"}),this.around("params",function(t){var e=t();return e.id=this.attr.timeline_id,e}),this.openDialog=function(){var t={is_create_dialog:!1,id_prefix:"edit",timeline_name:this.attr.timeline_name,timeline_description:this.attr.timeline_description,tweet_chron:"tweet_chron"===this.attr.timeline_order,tweet_reverse_chron:"tweet_reverse_chron"===this.attr.timeline_order,curation_reverse_chron:"curation_reverse_chron"===this.attr.timeline_order},e=h.a.render(t);this.$node.html(e),this.$dialog=this.$dialogContainer.find(this.attr.modalSelector),this.open()},this.after("open",function(){a.a.attachTo(".custom-timeline-name-field",{maxLength:25,superwarnLength:20,warnLength:15,textSelector:"#custom-timeline-name",counterSelector:".custom-timeline-name-count"}),a.a.attachTo(".custom-timeline-description-field",{maxLength:160,superwarnLength:150,warnLength:140,textSelector:"#custom-timeline-description",counterSelector:".custom-timeline-description-count"})}),this.after("initialize",function(){this.on(document,"uiOpenEditCustomTimelineDialog",this.openDialog)})}var o=i("DBjh"),a=i("7Xpg"),n=i("UHc7"),r=i("SJmD"),l=i("jmwl"),h=i.n(l);e.a=Object(o.default)(n.a,r.a,s)},J2an:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({itemType:"user",contentSelector:".js-users-list",slideDuration:300,top:47,closeOnOtherDialogOpened:!0}),this.openDialog=function(t,e){this.setContent(""),this.$body.stop(),this.open(),this.trigger("uiGetUsers",{ids:e.userIds})},this.insertUsers=function(t,e){var i=this.$body[0].scrollHeight;this.setContent(e.html);var s=Math.min(this.$body[0].scrollHeight,this.maxContentHeight());this.$body.height(i),this.slideInContent(s)},this.slideInContent=function(t){var e=this;this.$body.animate({height:t},{duration:this.attr.slideDuration,complete:function(){return e.trigger(e.$dialog,"uiDialogContentChanged")}})},this.setContent=function(t){this.$body.css("height",""),this.$node.toggleClass("has-content",!!t),this.$content.html(t)},this.showError=function(e,i){this.setContent(t("<p>").addClass("error").html(i.message))},this.maxContentHeight=function(t,e){return this.$window.height()-2*this.attr.top-this.$header.outerHeight()},this.after("initialize",function(){this.$window=t(window),this.$header=this.select("modalHeaderSelector"),this.$body=this.select("modalBodySelector"),this.$content=this.select("contentSelector"),this.on(document,"uiOpenScrollBumpDialog",this.openDialog),this.on(document,"dataUsersSuccess",this.insertUsers),this.on(document,"dataUsersError",this.showError)})}var o=i("DBjh"),a=i("UHc7"),n=i("El2S"),r=i("xgWv");e.a=Object(o.default)(s,a.a,n.a,r.a)}).call(e,i("4kSj"))},JhPo:function(t,e,i){"use strict";(function(t){function s(){var e=t(window);this.defaultAttrs({disableScrollThreshold:!0,scrollDebounceInterval:0,resizeDebounceInterval:5,transitionDuration:300,finalHeaderHeight:20,originalHeaderImagePosition:50,finalHeaderImagePosition:0,parallaxRatio:.5,enabledCanopyViewportThreshold:720,lockedStateClass:"is-locked",defaultStateClass:"is-default",profileHeaderClass:"ProfileCanopy-header",topbarSelector:".topbar",profileHeaderSelector:".ProfileCanopy-header",profileHeaderBgImageSelector:".ProfileCanopy-headerBg img",profileHeaderAvatarSelector:".ProfileCanopy-avatar",profileCardMiniSelector:".ProfileCanopy-card",largeCanopyClass:"ProfileCanopy--large"}),this.scrollRatioForHeader=function(t){return this.canopyLockPosition>0?this.scrollPos/this.canopyLockPosition:1},this.absoluteTransitionThreshold=function(){return this.globalNavHeight+this.profileHeaderHeight},this.withinAbsoluteTransitionThreshold=function(){return this.scrollPos<this.absoluteTransitionThreshold()},this.pastCanopyLockThreshold=function(){return this.scrollPos>=this.canopyLockPosition},this.determineScrollToTop=function(t){this.$node.hasClass(this.attr.lockedStateClass)&&Object(r.a)(0,this.attr.transitionDuration)},this.profileCanopyIsLocked=function(){return this.$node.hasClass(this.attr.lockedStateClass)},this.lockProfileCanopy=function(){this.removeAccessibilityOfProfileHeaderAvatar(),this.$node.addClass(this.attr.lockedStateClass),this.lockHeaderParallax()},this.unlockProfileCanopy=function(){this.removeAccessibilityOfMiniProfileCard(),this.parallaxTick()},this.removeAccessibilityOfProfileHeaderAvatar=function(){this.removeAccessibility(this.$profileHeaderAvatar),this.reinstateAccessibility(this.$profileCardMini)},this.removeAccessibilityOfMiniProfileCard=function(){this.removeAccessibility(this.$profileCardMini),this.reinstateAccessibility(this.$profileHeaderAvatar)},this.updateNavHeight=function(){this.globalNavHeight=t(this.attr.topbarSelector).height(),this.determineCanopyScrollBehavior()},this.lockHeaderParallax=function(){var t=this.calculateShiftAmount();this.$profileHeaderBgImage.css({transform:"translate3d(0px, "+t+"px, 0)"}),this.$profileHeader.css({"margin-top":this.globalNavHeight-this.canopyLockPosition})},this.parallaxTick=function(){var t=this;this.parallaxTick.ticking||(this.parallaxTick.ticking=!0,requestAnimationFrame(function(){t.shiftHeaderParallax(),t.parallaxTick.ticking=!1,t.$node.removeClass(t.attr.lockedStateClass)}))},this.calculateShiftAmount=function(){return(this.backgroundImageHeight-this.profileHeaderHeight)*this.attr.parallaxRatio},this.shiftHeaderParallax=function(){this.$profileHeader.css({"margin-top":0});var t=this.scrollRatioForHeader(),e=this.calculateShiftAmount()*t,i=void 0;i=e>0?{transform:"translate3d(0px, "+e+"px, 0)"}:{transform:"none"},this.$profileHeaderBgImage.css(i)},this.determineTransition=function(t){this.scrollPos=t,this.enabled&&this.pastCanopyLockThreshold()?this.lockProfileCanopy():this.unlockProfileCanopy()},this.determineCanopyScrollBehavior=function(){this.isEditingProfile||e.height()<this.attr.enabledCanopyViewportThreshold?(this.enabled=!1,this.lastGlobalNavSelector&&(o.a.setGlobalNavSelector(this.lastGlobalNavSelector),this.lastGlobalNavSelector=void 0)):(this.enabled=!0,this.lastGlobalNavSelector||(this.lastGlobalNavSelector=o.a.getGlobalNavSelector(),o.a.setGlobalNavSelector(".ProfileCanopy-inner"))),this.updateCanopyValuesForReflow()},this.profileEditingOn=function(){this.isEditingProfile=!0,this.determineCanopyScrollBehavior()},this.profileEditingOff=function(){this.isEditingProfile=!1,this.determineCanopyScrollBehavior()},this.setResponsiveVariableValues=function(){this.profileHeaderHeight=this.$profileHeader.height(),this.canopyLockPosition=this.profileHeaderHeight-this.attr.finalHeaderHeight},this.updateCanopyValuesForReflow=function(t,e){this.setResponsiveVariableValues(),this.reflowCanopy()},this.reflowCanopy=function(){this.determineTransition(e.scrollTop())},this.showLargeCanopy=function(){this.$node.addClass(this.attr.largeCanopyClass)},this.showSmallCanopy=function(){this.$node.removeClass(this.attr.largeCanopyClass)},this.removeAccessibility=function(t){t.attr("aria-hidden",!0).find("a").attr("tabindex","-1")},this.reinstateAccessibility=function(t){t.removeAttr("aria-hidden").find("a").removeAttr("tabindex")},this.after("initialize",function(){var e=this;this.isEditingProfile=!1,this.scrollPos=0,this.$body=t("body"),this.$window=t(window),this.$profileHeader=this.select("profileHeaderSelector"),this.$profileHeaderBgImage=this.select("profileHeaderBgImageSelector"),this.$profileHeaderAvatar=this.select("profileHeaderAvatarSelector"),this.$profileCardMini=this.select("profileCardMiniSelector"),this.updateNavHeight(),this.backgroundImageHeight=this.$profileHeaderBgImage.height(),this.on(this.$profileHeaderBgImage,"load",function(){return e.backgroundImageHeight=e.$profileHeaderBgImage.height()}),this.on(window,"scroll",n.default.throttle(function(){return e.reflowCanopy()},this.attr.scrollDebounceInterval)),this.on(window,"resize",n.default.throttle(function(){return e.determineCanopyScrollBehavior()},this.attr.resizeDebounceInterval)),this.on("click",{profileHeaderSelector:this.determineScrollToTop}),this.on(document,"uiProfileEditingOn",this.profileEditingOn),this.on(document,"uiProfileEditingOff",this.profileEditingOff),this.on(document,"uiShowLargeCanopy",this.showLargeCanopy),this.on(document,"uiShowSmallCanopy",this.showSmallCanopy),this.on(document,"uiBannerDismissed",this.updateNavHeight),this.on(document,"uiSwiftLoaded uiPageChanged viewport-update",this.determineCanopyScrollBehavior)})}var o=i("reQR"),a=i("DBjh"),n=i("YzIt"),r=i("lV5l");e.a=Object(a.default)(s)}).call(e,i("4kSj"))},JnjQ:function(t,e,i){"use strict";function s(){this.defaultAttrs({scribeInterval:6e4,page:void 0}),this.getTime=function(){return Date.now()},this.handleTweetsVisible=function(t,e){this.recordVisibleTweets(e.tweetData),e.cursorData&&this.recordVisibleCursors(e.cursorData)},this.recordVisibleCursors=function(t){var e=this,i={};t.forEach(function(t){e.visibleCursors[t.cursor]&&(e.previouslyVisibleCursors[t.cursor]=t.type),i[t.cursor]=t.type}),this.visibleCursors=i},this.recordVisibleTweets=function(t){var e={},i=this.getTime();t.forEach(function(t){this.visibleTweets[t.tweetId]?e[t.tweetId]=l({},this.visibleTweets[t.tweetId],{visibility_end:i}):e[t.tweetId]=l({},t,{visibility_start:i,visibility_end:i})},this),this.visibleTweetKeys().forEach(function(t){var i=this.visibleTweets[t],s=!e[t],o=i.visibility_start!==i.visibility_end;s&&o&&this.previouslyVisibleTweets.push(this.visibleTweets[t])},this),this.visibleTweets=e},this.flushVisibleTweets=function(t,e){var i=this.getTime();this.visibleTweetKeys().forEach(function(t){this.visibleTweets[t].visibility_end=i},this),this.recordVisibleTweets([]),this.scribeVisibilityResults()},this.onScribeVisibilityResults=function(t,e){e.page===this.attr.page&&(this.scribeVisibilityResults(),this.scribeCursorVisibilityResults())},this.scribeCursorVisibilityResults=function(){var t=this;if(Object.keys(this.previouslyVisibleCursors).length){var e={component:"tweet",element:"cursor",action:"impression"};Object.keys(this.previouslyVisibleCursors).forEach(function(i){t.previouslyScribedCursors[i]||(t.scribe(e,{event_info:t.previouslyVisibleCursors[i]}),t.previouslyScribedCursors[i]=!0)}),this.previouslyVisibleCursors={}}},this.scribeVisibilityResults=function(){if(this.previouslyVisibleTweets.length){var t={component:"stream",element:"linger",action:"results"},e={items:this.previouslyVisibleTweets.map(function(t){return this.interactionItem(t)},this)};this.previouslyVisibleTweets=[],this.scribe(t,e)}},this.visibleTweetKeys=function(){return Object.keys(this.visibleTweets).filter(function(t){return this.visibleTweets.propertyIsEnumerable(t)},this)},this.before("teardown",function(){this.pollingInterval.clear()}),this.after("initialize",function(){this.visibleTweets={},this.previouslyVisibleTweets=[],this.visibleCursors={},this.previouslyVisibleCursors={},this.previouslyScribedCursors={},this.pollingInterval=r.default.setIntervalEvent("uiScribeVisibilityResults",this.attr.scribeInterval,{page:this.attr.page}),this.on(document,"uiScribeVisibilityResults",this.onScribeVisibilityResults),this.on(document,"uiBeforePageChanged uiTeardown",this.flushVisibleTweets),this.on("uiTweetsVisible",this.handleTweetsVisible)})}var o=i("DBjh"),a=i("3oDc"),n=i("gcfh"),r=i("r8Bt"),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(o.default)(s,a.a,n.a)},KAJk:function(t,e,i){"use strict";function s(){this.after("initialize",function(){var t=this.attr.profile_user_follows_alcohol_brand;t&&this.$node.trigger("uiShowStickyMessage",{message:t})})}var o=i("DBjh"),a=Object(o.default)(s);e.a=a},KLaw:function(t,e,i){"use strict";function s(){this.defaultAttrs({scribeContext:{component:"inline_edit",element:"birthdate_select"}}),this.scribeBirthdateSelectAction=function(t,e,i){var s=i&&i.sourceEventData,o=n({},this.attr.scribeContext,{action:t});this.scribe(o,s||i)},this.after("initialize",function(){this.on(document,"uiBirthdateSelectFieldsExpanded",this.scribeBirthdateSelectAction.bind(this,"expand")),this.on(document,"uiBirthdateSelectHasInvalidDate",this.scribeBirthdateSelectAction.bind(this,"invalid")),this.on(document,"uiBirthdateSelectHasReachedChangeLimit",this.scribeBirthdateSelectAction.bind(this,"limit_exceeded"))})}var o=i("DBjh"),a=i("3oDc"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(o.default)(s,a.a)},KfqD:function(t,e,i){"use strict";function s(){this.after("initialize",function(){this.scribeOnEvent("uiMomentClicked",{action:"click"}),this.scribeOnEvent("uiMomentCtaClicked",{action:"click"}),this.scribeOnEvent("uiFollowMoment",{action:"follow"}),this.scribeOnEvent("uiUnfollowMoment",{action:"unfollow"}),this.scribeOnEvent("uiLikeMoment",{action:"like"}),this.scribeOnEvent("uiUnlikeMoment",{action:"unlike"}),this.scribeOnEvent("uiMomentShareViaTweet",{component:"share_moment",action:"open"}),this.scribeOnEvent("uiMomentShareViaDM",{component:"moment_capsule_menu",action:"share_via_dm"}),this.scribeOnEvent("uiMomentCopyLink",{component:"copy_link_to_moment",action:"open"}),this.scribeOnEvent("uiMomentEmbed",{component:"embed_moment",action:"open"})})}var o=i("DBjh"),a=i("3oDc");e.a=Object(o.default)(s,a.a)},Kyl9:function(t,e,i){"use strict";function s(){this.loadAnalytics=function(t,e){this.get({url:"/i/moments/analytics_dialog",data:{moment_id:e.momentId},success:"dataLoadMomentAnalyticsSuccess",error:"dataLoadMomentAnalyticsFailure"})},this.after("initialize",function(){this.on(document,"uiMomentAnalyticsDialogOpened",this.loadAnalytics)})}var o=i("DBjh"),a=i("VtWx");e.a=Object(o.default)(s,a.a)},LAg4:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({itemSelector:".ProfileNav-item",moreMenuNavItemSelector:".ProfileNav-item--more",persistentMoreMenuItemSelector:".ProfileNav-dropdownItem.js-persistent",resizeDebounceInterval:10,persistentMoreMenu:!1,moreMenuItemMinimum:2}),this.createNavItems=function(){var e=this;this.hiddenNavItems=[],this.navItems=[],this.movableItems=[];var i=this.select("persistentMoreMenuItemSelector").length;this.attr.moreMenuItemMinimum-=i,this.attr.moreMenuItemMinimum<0&&(this.attr.moreMenuItemMinimum=0),this.navItems=this.select("itemSelector").get().reverse().map(function(i){var s=t(i),a=new o(s,e);return s.is(e.attr.moreMenuNavItemSelector)&&(e.moreMenuNavItem=a),a.moreItem&&e.movableItems.push(a),a.moreItem&&!a.visible&&e.hiddenNavItems.push(a),a})},this.adaptNav=function(){var t=parseInt(this.$node.css("width"),10),e=this.getWidthOfVisibleNavItems();t<e?this.hideSomeNavItems(t,e):t>e&&this.showSomeNavItems(t,e)},this.getWidthOfVisibleNavItems=function(){return this.navItems.reduce(function(t,e){return e.visible?t+e.width:t},0)},this.hideSomeNavItems=function(t,e){var i=this,s=e+(this.moreMenuNavItem.visible?0:this.moreMenuNavItem.width);this.movableItems.forEach(function(e){e.visible&&(i.hiddenNavItems.length<i.attr.moreMenuItemMinimum||s>t)&&(e.hide(),s-=e.width)}),this.moreMenuNavItem.show()},this.showSomeNavItems=function(t,e){for(var i=e-this.moreMenuNavItem.width,s=[],o=void 0,a=this.hiddenNavItems.length-1;a>=0&&(o=this.hiddenNavItems[a],o.width+i<=t);a--)s.push(o),i+=o.width;if(this.attr.persistentMoreMenu||this.hiddenNavItems.length!==s.length)for(var n=e,r=0;r<s.length&&this.hiddenNavItems.length>this.attr.moreMenuItemMinimum&&(o=s[r],o.width+n<=t);r++)o.show(),n+=o.width;else s.forEach(function(t){return t.show()}),this.moreMenuNavItem.hide()},this.after("initialize",function(){this.on(window,"resize",n.default.debounce(this.adaptNav.bind(this),this.attr.resizeDebounceInterval)),this.createNavItems(),this.adaptNav()})}function o(t,e){this.$item=t,this.nav=e,this.width=t.outerWidth(!0),this.visible=t.is(":visible"),this.moreItem=this.getMoreItem()}var a=i("DBjh"),n=i("YzIt");e.a=Object(a.default)(s),o.prototype.show=function(){this.moreItem&&!this.visible&&(this.moreItem.hide(),this.nav.hiddenNavItems.pop()),this.$item.removeClass("is-hidden"),this.visible=!0},o.prototype.hide=function(){this.moreItem&&this.visible&&(this.moreItem.show(),this.nav.hiddenNavItems.push(this)),this.$item.addClass("is-hidden"),this.visible=!1},o.prototype.getMoreItem=function(){if(this.nav){var t=this.nav.$node.find(this.$item.data("more-item"));return t.length?new o(t):void 0}}}).call(e,i("4kSj"))},"LB/2":function(t,e,i){"use strict";function s(){this.defaultAttrs({momentFinishLaterSelector:".MomentMakerTopBar-finishLaterButton",momentDoneSelector:".MomentMakerTopBar-doneButton"}),this.scribeTopBarClick=function(t){this.scribe({component:"top_bar",element:t,action:"click"})},this.scribeVisibilityUpdate=function(t,e){this.scribe({component:"visibility_dialog",element:e.visibility_mode,action:"click"})},this.scribeDeleteClick=function(){this.scribe({component:"delete_dialog",element:"delete",action:"click"})},this.after("initialize",function(){this.on("click",{momentFinishLaterSelector:this.scribeTopBarClick.bind(this,"finish_later"),momentDoneSelector:this.scribeTopBarClick.bind(this,"done")}),this.on("uiMomentMakerDeleteMoment",this.scribeDeleteClick),this.on("uiMomentMakerUpdateVisibility",this.scribeVisibilityUpdate)})}var o=i("DBjh"),a=i("3oDc");e.a=Object(o.default)(s,a.a)},LR11:function(t,e,i){"use strict";function s(){this.defaultAttrs({endpoint:"/i/related_users/",profileId:null,responseField:"related_users_html",maxExcludedIds:100,storageTTL:864e5}),this.processResponse=function(t){if(this.trigger("dataRelatedUsersRefreshed",t),t[this.attr.responseField])this.emptyResponse=!1;else{if(this.emptyResponse)return void(this.emptyResponse=!1);this.emptyResponse=!0,this.storage.removeItem(this.storageName),this.trigger("uiRefreshRelatedUsers")}},this.requestUsers=function(t,e){e=e||{};var i=this.getExcludedUsers(e.excludedIds||[]),s={};i.length>0&&(s.excluded=i),this.get({acceptEmptyStringAsJsonResponse:!0,url:this.attr.endpoint+this.attr.profileId,eventData:e,data:s,success:this.processResponse.bind(this)})},this.getExcludedUsers=function(t){return t.length&&this.storage.pushAll(this.storageName,t),this.storage.getArray(this.storageName).join(",")},this.after("initialize",function(){if(this.attr.profileId){this.emptyResponse=!1,this.storageName="excluded_"+this.attr.profileId;var t=Object(a.a)({withArray:!0,withMaxElements:!0,withUniqueElements:!0,withExpiry:!0});this.storage=new t("excluded_related_users"),this.storage.setMaxElements(this.storageName,this.attr.maxExcludedIds),this.on(document,"uiRefreshRelatedUsers",this.requestUsers)}})}var o=i("DBjh"),a=i("rWgq"),n=i("VtWx");e.a=Object(o.default)(s,n.a)},LW6z:function(t,e,i){"use strict";function s(){this.defaultAttrs({itemType:"tweet"}),this.removeTweetFromTimeline=function(t,e){var i=Object(r.a)(this.$node,".tweet",e.sourceEventData.id);this.trigger(i,"uiBeforeTweetRemoved",e),i.closest(this.attr.tweetContainerSelector).remove(),this.trigger("uiTweetRemoved",e)},this.after("initialize",function(){this.on(document,"dataTweetRemovedFromTimeline",this.removeTweetFromTimeline)})}var o=i("8mUk"),a=i("G/SW"),n=i("El2S"),r=i("xO2U");e.a=o.a.mixin(s,a.a,n.a)},LmDk:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({colorPickerColorBoxSelector:".ColorPicker-color",colorPickerColorRadioSelector:".ColorPicker-color :radio",colorPickerHexBoxSelector:".ColorPicker-hex",colorPickerHexInputSelector:".ColorPicker-hexInput",colorPickerHexRadioSelector:".ColorPicker-hex :radio",colorPickerMoreBoxSelector:".ColorPicker-more",colorPickerMoreRadioSelector:".ColorPicker-more :radio",colorPickerSelector:".ColorPicker",colorPickerTransparentContainerSelector:".ColorPicker-transparent",currentColorSelector:".js-current-color",hiddenClass:"u-hiddenVisually",iconCheckClass:"Icon--check",iconDiscoverClass:"Icon--discover",iconSelector:".Icon",radioSelector:":radio",isFocusedClass:"is-focused"});var e={9:"Tab",37:"Left Arrow",38:"Up Arrow",39:"Right Arrow",40:"Down Arrow"};this.addFocusClass=function(i,s){e.hasOwnProperty(i.which)&&t(s.el).addClass(this.attr.isFocusedClass)},this.removeFocusClass=function(i,s){(e.hasOwnProperty(i.which)||"focusout"===i.type)&&t(s.el).removeClass(this.attr.isFocusedClass)},this.removeAndAddClassesToTargetIcon=function(t,e,i){t="string"==typeof t?t:"",e="string"==typeof e?e:"",i.find(this.attr.iconSelector).removeClass(t).addClass(e)},this.focusColorPicker=function(){this.$colorPickerHexInput.is(":visible")?this.$colorPickerHexInput.focus():this.select("colorPickerSelector").focus()},this.changeHexBoxColor=function(t){this.$colorPickerHexBox.css("border-color",t).css("background-color",t).attr("data-color",t),this.$colorPickerHexInput.css("border-color",t)},this.changeHexInput=function(t){"#"===t.charAt(0)&&(t=t.substring(1)),this.$colorPickerHexInput.val(t)},this.isHexCode=function(t){return t.match("^#([0-9a-f]{3}|[0-9a-f]{6})$")},this.currentColor=function(){return this.select("currentColorSelector").attr("data-color").toLowerCase()},this.setColor=function(t){t=t.toLowerCase(),this.isHexCode(t)&&(this.select("currentColorSelector").attr("value",t),this.trigger("uiColorPicked",{targetSelector:"#"+this.select("togglerSelector").attr("id"),hex:t}),this.isHexVisible?this.changeHexBoxColor(t):this.changeHexInput(t))},this.showHex=function(){this.select("colorPickerMoreBoxSelector").closest(this.attr.colorPickerTransparentContainerSelector).addClass(this.attr.hiddenClass).hide(),this.$colorPickerHexBox.removeClass(this.attr.hiddenClass).css("display","inline-block"),this.$colorPickerHexInput.val("").focus()},this.hideHex=function(){this.$colorPickerHexBox.addClass(this.attr.hiddenClass).hide(),this.select("colorPickerMoreBoxSelector").closest(this.attr.colorPickerTransparentContainerSelector).removeClass(this.attr.hiddenClass).css("display","inline-block");var t=this.$colorPickerHexBox.data("original-color");this.changeHexBoxColor(t),this.removeAndAddClassesToTargetIcon(null,this.attr.iconDiscoverClass,this.$colorPickerHexBox)},this.initColorPicker=function(){this.$colorPickerHexBox.hide(),this.$colorPickerHexInput.attr("placeholder",this.currentColor().substring(1)),this.$selectedBox&&this.removeAndAddClassesToTargetIcon(this.attr.iconCheckClass,null,this.$selectedBox);var t=this.currentColor(),e='[data-color="'+(t||"")+'"]',i=this.$node.find(this.attr.colorPickerColorBoxSelector+e).first();0===i.length?(this.isHexVisible=!0,this.showHex(),t?(this.changeHexBoxColor(t),this.changeHexInput(t),this.$selectedBox=this.$colorPickerHexBox,this.removeAndAddClassesToTargetIcon(this.attr.iconDiscoverClass,this.attr.iconCheckClass,this.$selectedBox)):this.$selectedBox=this.select("colorPickerMoreBoxSelector")):(this.isHexVisible=!1,this.hideHex(),this.$selectedBox=i,this.removeAndAddClassesToTargetIcon(null,this.attr.iconCheckClass,this.$selectedBox),this.$selectedBox.find(this.attr.radioSelector).prop("checked",!0))},this.selectColorBox=function(e){var i=t(e.target).closest("[data-color]").attr("data-color").toLowerCase();this.isHexVisible?(this.isHexVisible=!1,this.setColor(i),this.hideHex()):this.setColor(i),this.removeAndAddClassesToTargetIcon(this.attr.iconCheckClass,null,this.$selectedBox),this.$selectedBox=t(e.target).closest(this.attr.colorPickerColorBoxSelector),this.removeAndAddClassesToTargetIcon(null,this.attr.iconCheckClass,this.$selectedBox)},this.selectMoreBox=function(){!1===this.isHexVisible&&(this.showHex(),this.isHexVisible=!0,this.$selectedBox.find(this.attr.radioSelector).prop("checked",!0))},this.selectHexInput=function(e){var i="#"+t(e.target).val();this.setColor(i),!1===this.$selectedBox.is(this.$colorPickerHexBox)&&this.isHexCode("#"+this.$colorPickerHexInput.val())&&(this.removeAndAddClassesToTargetIcon(this.attr.iconCheckClass,null,this.$selectedBox),this.$selectedBox=this.$colorPickerHexBox,this.removeAndAddClassesToTargetIcon(this.attr.iconDiscoverClass,this.attr.iconCheckClass,this.$selectedBox),this.select("colorPickerHexRadioSelector").prop("checked",!0))},this.renderColorPicker=function(){var t=l.a.render();this.$node.append(t),this.$colorPickerHexBox=this.select("colorPickerHexBoxSelector"),this.$colorPickerHexInput=this.select("colorPickerHexInputSelector"),this.wasRendered=!0},this.addColorPicker=function(){this.wasRendered||this.renderColorPicker(),this.initColorPicker()},this.after("closeAndRestoreFocus",function(){this.select("togglerSelector").focus()}),this.after("initialize",function(){this.wasRendered=!1,this.on("uiDropdownOpened",a.default.once(this.addColorPicker)),this.on("uiDropdownOpened",this.focusColorPicker),this.on(document,"uiEditProfileStart",this.addColorPicker),this.on("change",{colorPickerColorRadioSelector:this.selectColorBox}),this.on("click",{colorPickerMoreRadioSelector:this.selectMoreBox}),this.on("input",{colorPickerHexInputSelector:this.selectHexInput}),this.on("keyup",{colorPickerColorBoxSelector:this.addFocusClass,colorPickerMoreBoxSelector:this.addFocusClass}),this.on("keydown focusout",{colorPickerColorBoxSelector:this.removeFocusClass,colorPickerMoreBoxSelector:this.removeFocusClass})}),this.before("teardown",function(){this.select("colorPickerSelector").remove()})}var o=i("DBjh"),a=i("YzIt"),n=i("oHsY"),r=i("VPF5"),l=i.n(r);e.a=Object(o.default)(n.a,s)}).call(e,i("4kSj"))},MX49:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({fileInputSelector:".file-input",uploadType:"avatar",chooseExistingSelector:"#photo-choose-existing",chooseWebcamSelector:"#photo-choose-webcam",deleteImageSelector:"#photo-delete-image",caretSelector:".dropdown-caret",photoSelector:"div.photo-selector",showDeleteSuccessMessage:!0,alwaysOpen:!1,confirmDelete:!1,defaultToFileInputOpen:!1,supportsAutoOpen:!0}),this.openWebCamDialog=function(t){t.preventDefault(),this.trigger("uiCropperWebcam",{uploadType:this.attr.uploadType})},this.webcamDetected=function(){l.a.hasCanvas()&&this.updateDropdownItemVisibility(this.select("chooseWebcamSelector"),!0)},this.dropdownOpened=function(t,e){var i=e&&e.scribeContext||this.attr.eventData.scribeContext;this.scribe(c({},i,{action:"open"}))},this.deleteImage=function(){if("background"!==this.attr.uploadType){this.attr.confirmDelete&&(this.preventMenuClose=!0);var t=this.attr.confirmDelete?"uiConfirmDeleteImage":"uiDeleteImage";this.trigger(t,{uploadType:this.attr.uploadType})}else this.hideFileName();this.attr.confirmDelete||this.hideDeleteLink()},this.handleSaveImageSuccess=function(t,e){e.message&&this.attr.showSaveSuccessMessage&&this.trigger("uiAlertBanner",e),this.showDeleteLink()},this.handleSaveImageFailure=function(t,e){e.message=e.message||Object(h.default)("Sorry! Something went wrong saving your photo. Please try again.",this.attr),this.trigger("uiAlertBanner",e)},this.handleDeleteImageSuccess=function(t,e){e.message&&this.attr.showDeleteSuccessMessage&&this.trigger("uiAlertBanner",e)},this.handleDeleteImageFailure=function(t,e){e.message=e.message||Object(h.default)("Sorry! Something went wrong deleting your photo. Please try again.",this.attr),this.trigger("uiAlertBanner",e),this.showDeleteLink()},this.showDeleteLinkForTargetedButton=function(t,e){"background"===e.uploadType&&this.showDeleteLink()},this.showDeleteLink=function(t,e){this.updateDropdownItemVisibility(this.select("deleteImageSelector"),!0)},this.hideDeleteLink=function(t,e){this.updateDropdownItemVisibility(this.select("deleteImageSelector"),!1)},this.showFileName=function(t,e){this.$node.siblings(".display-file-requirement").hide(),this.$node.siblings(".display-file-name").text(e.fileName).show()},this.hideFileName=function(){this.$node.siblings(".display-file-requirement").show(),this.$node.siblings(".display-file-name").hide()},this.updateDropdownItemVisibility=function(t,e){t.toggleClass("u-hidden",!e),this.updateMenuHierarchy()},this.upliftFilePicker=function(){var t=this.select("photoSelector");this.select("togglerSelector").hide(),t.find("button").prop("disabled",!1),t.appendTo(this.$node)},this.moveFilePickerBackIntoMenu=function(){this.select("photoSelector").appendTo(this.select("chooseExistingSelector")),this.select("togglerSelector").show()},this.updateMenuHierarchy=function(){this.attr.alwaysOpen||(1===this.availableDropdownItems().length?this.upliftFilePicker():this.moveFilePickerBackIntoMenu())},this.availableDropdownItems=function(){return this.select("menuItemSelector").filter(function(){return"none"!==t(this).css("display")})},this.addCaretHover=function(){this.select("caretSelector").addClass("hover")},this.removeCaretHover=function(){this.select("caretSelector").removeClass("hover")},this.handleCloseRequest=function(t){(this.attr.alwaysOpen||this.preventMenuClose)&&t.preventDefault()},this.handleOpenRequest=function(t){var e=this.availableDropdownItems();1===e.length&&this.attr.supportsAutoOpen&&l.a.supportsCropper()&&(t.preventDefault(),this.attr.defaultToFileInputOpen?(this.trigger("uiEditProfileHideOptions"),e.find(this.attr.fileInputSelector).click()):e.click())},this.preventIncompatibleBrowsersUploadingPhotos=function(t){l.a.supportsCropper()||(this.trigger("uiAlertBanner",{message:Object(h.default)("Please upgrade your browser to upload photos.")}),t.preventDefault())},this.after("initialize",function(){this.on(document,"uiFileSelected",this.verifyUploadType(this.showDeleteLinkForTargetedButton)),this.on(document,"uiFileNameReady",this.verifyUploadType(this.showFileName)),this.on(document,"uiHideDeleteLink",this.verifyUploadType(this.hideDeleteLink)),this.on(document,"dataSaveImageSuccess",this.verifyUploadType(this.handleSaveImageSuccess)),this.on(document,"dataSaveImageFailure",this.verifyUploadType(this.handleSaveImageFailure)),this.on(document,"dataDeleteImageSuccess",this.verifyUploadType(this.handleDeleteImageSuccess)),this.on(document,"dataDeleteImageFailure",this.verifyUploadType(this.handleDeleteImageFailure)),this.on("uiDropdownOpened",this.dropdownOpened),this.on("uiDropdownOpenRequested",this.handleOpenRequest),this.on("uiDropdownCloseRequested",this.handleCloseRequest),this.on("click",{chooseWebcamSelector:this.openWebCamDialog,deleteImageSelector:this.deleteImage,chooseExistingSelector:this.preventIncompatibleBrowsersUploadingPhotos}),this.on("mouseover focusin",{firstMenuItemSelector:this.addCaretHover}),this.on("mouseout focusout",{firstMenuItemSelector:this.removeCaretHover}),this.updateMenuHierarchy()}),this.before("teardown",function(){return delete window.webcam})}var o=i("DBjh"),a=i("mGri"),n=i("3oDc"),r=i("NPjf"),l=i("P2na"),h=i("0d4m"),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(o.default)(s,a.a,n.a,r.a)}).call(e,i("4kSj"))},Mf6W:function(t,e,i){"use strict";function s(){this.showMessage=function(t,e){this.trigger("uiShowMessage",e)},this.after("initialize",function(){this.on("uiAlertBanner",this.showMessage)})}var o=i("DBjh");e.a=Object(o.default)(s)},Mpd9:function(t,e,i){"use strict";function s(){this.redirect=function(t,e){this.attr.redirectUrl&&"following"===e.newState&&this.trigger("uiNavigate",{href:this.attr.redirectUrl})},this.after("initialize",function(){this.on(document,"dataFollowStateChange",this.redirect)})}e.a=s},N4z3:function(t,e,i){"use strict";function s(){this.after("initialize",function(){this.scribeOnEvent("uiAvatarClicked",{element:"avatar",action:"click"}),this.scribeOnEvent("uiFullNameClicked",{element:"fullname",action:"click"}),this.scribeOnEvent("uiUsernameClicked",{element:"username",action:"click"}),this.scribeOnEvent("uiUrlClicked",{element:"url",action:"click"}),this.scribeOnEvent("uiLocationClicked",{element:"place_tag",action:"click"}),this.scribeOnEvent("uiBirthdayClicked",{element:"birthday",action:"click"})})}var o=i("DBjh"),a=i("3oDc");e.a=Object(o.default)(s,a.a)},N7h8:function(t,e,i){"use strict";function s(t){Object(o.a)(t),n.a.attachTo(document,{containerSelector:"#timeline",viewportThreshold:200}),Object(a.a)(t,t.timeline_url,"swift_list_tweets_timeline","tweet","tweet")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var o=i("PJeN"),a=i("/gHE"),n=i("A1Ox")},NMQQ:function(t,e,i){"use strict";function s(){this.defaultAttrs({successFromEndpoints:{update:"dataDidUpdateList","subscribe.json":"dataDidSubscribeToList","unsubscribe.json":"dataDidSubscribeToList","destroy.json":"dataDidDeleteList",feature:"dataDidUserFeatureList",unfeature:"dataDidUserUnfeatureList"},errorsFromEndpoints:{update:"dataFailedToUpdateList","subscribe.json":"dataFailedToSubscribeToList","unsubscribe.json":"dataFailedToSubscribeToList","destroy.json":"dataFailedToDeleteList",feature:"dataFailedToUserFeatureList",unfeature:"dataFailedToUserUnfeatureList"}}),this.takeAction=function(t,e,i){var s=function(e){e&&e.message&&this.trigger("uiShowMessage",{message:e.message}),this.trigger(this.attr.successFromEndpoints[t],e)},o=function(e){e&&e.message&&this.trigger("uiShowMessage",{message:e.message}),this.trigger(this.attr.errorsFromEndpoints[t],e)},a={url:"/i/lists/"+t,data:i,eventData:i,success:s.bind(this),error:o.bind(this),retryIfUnavailable:!0};this.post(a)},this.hitEndpoint=function(t){return this.takeAction.bind(this,t)},this.refreshFollowCard=function(t,e){var i=this.followCardEndpoint;this.get({url:i,data:{},eventData:e,success:"dataGotFollowCard",error:"dataFailedToGetFollowCard"})},this.after("initialize",function(){this.followCardEndpoint=this.attr.follow_card_url,this.on(document,"uiRefreshFollowCard",this.refreshFollowCard),this.on("uiUpdateList",this.hitEndpoint("update")),this.on("uiSubscribeToList",this.hitEndpoint("subscribe.json")),this.on("uiUnsubscribeFromList",this.hitEndpoint("unsubscribe.json")),this.on("uiDeleteList",this.hitEndpoint("destroy.json")),this.on("uiDidUserFeatureList",this.hitEndpoint("feature")),this.on("uiDidUserUnfeatureList",this.hitEndpoint("unfeature"))})}var o=i("DBjh"),a=i("VtWx"),n=Object(o.default)(s,a.a);e.a=n},NPjf:function(t,e,i){"use strict";function s(){this.verifyUploadType=function(t){return function(e,i){if(i&&(i.uploadType||i.sourceEventData&&i.sourceEventData.uploadType)===this.attr.uploadType)return t.apply(this,arguments)}}}e.a=s},NcZX:function(t,e,i){"use strict";function s(t){if(Object(o.a)(X({},t,{promoCTASelector:".StreamItem .leadgen-card-forward .promotion-cta"})),Object(n.default)(t),t.profile_user){Object(l.a)(".js-wtf-module",t,{wtfOptions:t.wtfOptions,disableProfilePopup:!0}),Object(h.a)(t),Object(r.a)(t),M.a.attachTo(".ProfilePage"),t.inlineProfileEditing&&Object(a.a)(t),U.a.attachTo(document),c.a.scribeData.profile_id=t.profile_id,c.a.scribeData.business_profile=t.business_profile;t.business_profile&&d.a.attachTo(".DMButton");H.a.attachTo(document,{debounceWait:0,breakpoints:[{"max-width":864},{"min-width":865,"max-width":1200},{"min-width":1201,"max-width":1500},{"min-width":1501,"max-width":1730},{"min-width":1731,"max-width":1930},{"min-width":1931}]}),T.a.attachTo(".ProfileCanopy",t),D.a.attachTo(document),P.a.attachTo(".ProfilePage--withWarning"),F.a.attachTo(".ProfileNav"),L.a.attachTo(".ProfileNav",{persistentMoreMenu:!1,moreMenuItemMinimum:2}),C.a.attachTo(".ProfileNav",{eventData:{scribeContext:{component:"dashboard_nav"}}}),v.a.attachTo(".ProfileNav-item--more");var e={scribeContext:{component:"profile_follow_card"}};I.a.attachTo(".ProfileCanopy-avatar",t,e,{nonEmptyAvatarSelector:".ProfileAvatar-container",emptyAvatarSelector:".ProfileAvatar-placeholder"}),f.a.attachTo(".ProfileCanopy-avatar");I.a.attachTo(".ProfileNav-item--userActions",t,e),f.a.attachTo(".ProfileNav-item--userActions");I.a.attachTo(".ProfileHeaderCard",t,e,{fullNameSelector:".ProfileHeaderCard-name a",usernameSelector:".ProfileHeaderCard-screenname a",urlSelector:".ProfileHeaderCard-urlText a",locationSelector:".ProfileHeaderCard-locationText a",birthdaySelector:".ProfileHeaderCard-birthdateText a"}),f.a.attachTo(".ProfileHeaderCard"),t.periscopeUserId&&(V.a.attachTo(".ProfileHeaderCard-periscopeProfile"),G.a.attachTo(".ProfileHeaderCard-periscopeProfile"),W.a.attachTo(".ProfileHeaderCard-periscopeProfile",{periscopeUserId:t.periscopeUserId,periscopeLiveStatusPollInterval:t.periscopeLiveStatusPollInterval,periscopeLiveStatusMaxPollInterval:20*t.periscopeLiveStatusPollInterval})),t.b2c_logged_out_support_indicators_enabled&&t.business_profile&&A.a.attachTo(".ProfileHeaderCard-onlineHours");I.a.attachTo(".ProfileCardMini",t,{nonEmptyAvatarSelector:".ProfileCardMini-avatar",fullNameSelector:".ProfileNameTruncated a",usernameSelector:" .ProfileCardMini-screenname a",scribeContext:{component:"profile_follow_card_mini"}}),f.a.attachTo(".ProfileCardMini"),m.a.attachTo(".ProfileHeading"),u.a.attachTo(".ProfileCanopy",e);E.a.attachTo(".ProfileUserList--socialProof"),j.a.attachTo(".ProfileUserList--socialProof",{socialProofAvatarSelector:".ProfileUserList-facepileItem .Avatar",followersYouFollowSelector:".ProfileUserList-permalink"});var i={profileUser:t.profile_user,gridPushState:!0,pushStateUrl:"/"+t.profile_user.screen_name+"/media",defaultGalleryTitle:t.profile_user.name,thumbnailContainerSelector:".PhotoRail-mediaBox",thumbnailPlaceholderSelector:".js-photoRailInsertPoint",thumbnailSize:83,thumbnailsVisible:6,showAllInlineMedia:!0,showSensitiveContent:t.showSensitiveContent,eventData:{scribeContext:{component:"dashboard_media"}}};w.a.attachTo(document),S.a.attachTo(document,{endpoint:"/i/profiles/show/"+t.profile_user.screen_name+"/media_timeline"}),g.a.attachTo(".PhotoRail",i);var s={allowThreading:!1,eventData:{scribeContext:{component:"profile_sidebar"}}};k.a.attachTo(".NewTweetButton",s),x.a.attachTo(".DMButton",s),O.a.attachTo(".UserActions-editButton"),p.a.attachTo(document),B.a.attachTo(".js-profileClusterFollow",{eventData:{scribeContext:{component:"user_similarities_list"}},targetSelector:".ProfileClusterFollow",userSelector:".ProfileCard"},t),t.followerRequestsReminderMessage&&b.a.attachTo(".ProfilePage",{followerRequestsReminderMessage:t.followerRequestsReminderMessage,environment:t.environment}),z.a.attachTo(document,t);var R=["Balloon--red","Balloon--blue","Balloon--yellow","Balloon--purple","Balloon--green"];N.a.attachTo(".ProfilePage",{autoPlayBalloonsAnimation:t.autoPlayBalloonsAnimation,colors:t.balloonAnimationColors||R}),$.a.attachTo(document,{scribeContext:{component:"birthday"}});q.a.attachTo(".TweetImpressionsModule"),t.momentsNuxTooltipsEnabled&&(Y.a.attachTo(".ProfileNav-item--moments .ProfileNav-stat--link.is-CurrentUser",{tooltipName:"profile_moments_nav_tooltip_self"}),Y.a.attachTo(".ProfileNav-item--moments .ProfileNav-stat--link.is-OtherUser",{tooltipName:"profile_moments_nav_tooltip_other"})),y.a.attachTo(".ProfilePage",{userColor:t.profile_user.profile_link_color,screenName:t.profile_user.screen_name})}}e.a=s;var o=i("hhhH"),a=i("5XM1"),n=i("DNqT"),r=i("smxC"),l=i("9n2V"),h=i("Vfkp"),c=i("NNES"),d=i("CybW"),u=i("g2j4"),f=i("N4z3"),m=i("AtlA"),p=i("ar00"),g=i("yxF7"),v=i("r2dR"),b=i("g5oN"),S=i("eQsE"),w=i("6b+H"),C=i("y9Hg"),y=i("SwEw"),T=i("JhPo"),P=i("kGvc"),D=i("2Ag+"),I=i("Runy"),k=i("FUor"),O=i("hndZ"),x=i("rrZS"),A=i("lwf/"),j=i("Vedm"),E=i("O4zH"),F=i("dDG0"),L=i("LAg4"),M=i("qxtN"),B=i("2yP7"),R=i("8SYk"),H=i.n(R),z=i("KAJk"),U=i("9RxZ"),N=i("uDE7"),$=i("s9SF"),V=i("DDDD"),W=i("9Vkh"),G=i("YooO"),q=i("E8/S"),Y=i("g2cS"),X=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}},O1q0:function(t,e,i){"use strict";function s(){this.defaultAttrs({storageName:"recent_trend_locations",storageKey:"locations",maxRecentLocations:5}),this.initializeStorage=function(){var t=Object(a.a)({withArray:!0,withMaxElements:!0});this.storage=new t(this.attr.storageName),this.storage.setMaxElements(this.attr.storageKey,this.attr.maxRecentLocations)},this.getRecentTrendLocations=function(){this.trigger("dataGotRecentTrendLocations",{trendLocations:this.storage.getArray(this.attr.storageKey)})},this.saveRecentLocation=function(t,e){var i=e.location||{};i.woeid&&!this.hasRecentLocation(i.woeid)&&(this.storage.push(this.attr.storageKey,i),this.getRecentTrendLocations())},this.hasRecentLocation=function(t){return this.storage.getArray(this.attr.storageKey).some(function(e){return e.woeid===t})},this.after("initialize",function(){this.initializeStorage(),this.on("uiWantsRecentTrendLocations",this.getRecentTrendLocations),this.on("dataChangedTrendLocation",this.saveRecentLocation)})}var o=i("DBjh"),a=i("rWgq"),n=i("VtWx");e.a=Object(o.default)(s,n.a)},O4zH:function(t,e,i){"use strict";function s(){this.defaultAttrs({scribeContext:{component:"profile_follow_card"}}),this.scribeProfileSocialProof=function(t,e){var i=n({},this.attr.scribeContext,{element:"social_proof",action:"impression"});this.scribe(i,e)},this.scribeSocialProofAvatarClick=function(t,e){var i=n({},this.attr.scribeContext,{element:"social_proof_avatar",action:"click"});this.scribe(i,e)},this.scribeFollowersYouFolowClick=function(t,e){var i=n({},this.attr.scribeContext,{element:"followers_you_follow",action:"click"});this.scribe(i,e)},this.after("initialize",function(){this.on("uiHasProfileSocialProof",this.scribeProfileSocialProof),this.on("uiSocialProofAvatarClick",this.scribeSocialProofAvatarClick),this.on("uiFollowersYouFollowLink",this.scribeFollowersYouFolowClick)})}var o=i("DBjh"),a=i("3oDc"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r=Object(o.default)(s,a.a);e.a=r},OSHF:function(t,e,i){"use strict";function s(){this.defaultAttrs({createButtonSelector:".js-createMoment"}),this.createMoment=function(){this.trigger("uiMomentMakerCreateMoment")},this.after("initialize",function(){this.on("click",{createButtonSelector:this.createMoment})})}var o=i("DBjh");e.a=Object(o.default)(s)},Oofp:function(t,e,i){"use strict";(function(t){function s(){o.default.mixin(this,[a.a]),this.defaultAttrs({locationSelector:".trend-location-picker-item",selectedAttr:"selected"}),this.selectLocation=function(e,i){e.preventDefault();var s=t(i.el),o={woeid:s.data("woeid"),name:s.data("name")};this.changeLocationInfo(o),this.showSelected(o.woeid,!1)},this.showSelected=function(t,e){var i=this.select("locationSelector");i.removeClass(this.attr.selectedAttr),!e&&t&&i.filter('[data-woeid="'+t+'"]').addClass(this.attr.selectedAttr)},this.locationInfoUpdated=function(){this.showSelected(this.attr.location.woeid,this.attr.personalized)},this.after("initialize",function(){this.on("uiLocationInfoUpdated",this.locationInfoUpdated),this.on("click",{locationSelector:this.selectLocation}),this.showSelected(this.attr.location.woeid,this.attr.personalized)})}var o=i("q9/C"),a=i("3ZrE");e.a=s}).call(e,i("4kSj"))},OuLQ:function(t,e,i){"use strict";(function(t){function s(){o.default.mixin(this,[a.a]),this.defaultAttrs({unchosenActionClass:"unchosen-action",dismissedModuleClass:"dismissed",dismissibleSelector:".dismissible-content",dismissModuleSelector:".dismiss-module",feedbackActionClickSelector:".dropdown .action-prompt",feedbackActionSelector:".feedback-action",undoActionSelector:".dismissed-module .undo-action",conversationTweetSelector:".conversation-module .tweet",converationModuleSelector:".conversation-module",childFeedbackPromptClickSelector:".child-feedback-prompt",childFeedbackConfirmSelector:".child-feedback-confirmation",childConfirmTextSelector:".child-confirmation-text",undoChildFeedbackSelector:".dismissed-module .undo-child-feedback-action",dismissedModuleSelector:".dismissed-module",feedbackActionsSelector:".feedback-actions"}),this.getStreamItemFromEvent=function(e){return t(e.target).closest(this.attr.topLevelStreamItemSelector)},this.getSuggestionInfoFromStreamItem=function(t){var e=t.attr("data-suggestion-json");return e&&JSON.parse(e)},this.suggestionFeedback=function(t,e,i){var s=this.getSuggestionInfoFromStreamItem(t),o=e.attr("data-feedback-type");this.trigger("uiSuggestionFeedback",{suggestionInfo:s,feedbackType:o,undo:i})},this.timelineFeedback=function(t){var e=t.feedbackUrl,i=t.undo;e&&this.trigger("uiTimelineFeedbackAction",{feedbackUrl:e,undo:i})},this.selectAction=function(e,i){var s=this,o=t(e.target).closest(this.attr.feedbackActionClickSelector),a=o.attr("data-feedback-type"),n=o.attr("data-feedback-url"),r=this.getStreamItemFromEvent(e);if(r.addClass(this.attr.dismissedModuleClass),this.slideAndFadeContent(r.children(this.attr.dismissibleSelector),r.children(this.attr.dismissModuleSelector),r),r.children(this.attr.dismissModuleSelector).find(this.attr.feedbackActionSelector).each(function(e,i){var o=t(i);o.toggleClass(s.attr.unchosenActionClass,o.attr("data-feedback-type")!==a)}),0!==r.find(this.attr.converationModuleSelector).length){var l=t(e.target).closest(this.attr.conversationTweetSelector),h=this.getSuggestionInfoFromStreamItem(r);h.tweet_ids=l.attr("data-tweet-id"),r.attr("data-suggestion-json",JSON.stringify(h))}this.suggestionFeedback(r,o,!1),this.timelineFeedback({feedbackUrl:n,undo:!1})},this.undoSelectAction=function(e,i){var s=t(e.target).closest(this.attr.feedbackActionSelector),o=s.attr("data-feedback-url"),a=this.getStreamItemFromEvent(e);a.removeClass(this.attr.dismissedModuleClass),this.slideAndFadeContent(a.children(this.attr.dismissModuleSelector),a.children(this.attr.dismissibleSelector),a),a.children(this.attr.dismissModuleSelector).find(this.attr.feedbackActionSelector).removeClass(this.attr.unchosenActionClass),this.suggestionFeedback(a,s,!0),this.timelineFeedback({feedbackUrl:o,undo:!0})},this.handleChildFeedbackSelected=function(e,i){var s=t(e.target),o=s.data("child-feedback-confirmation"),a=s.data("child-feedback-url"),n=this.getStreamItemFromEvent(e),r=n.find(this.attr.childFeedbackConfirmSelector);r.find(this.attr.childConfirmTextSelector).text(o),r.data("child-feedback-url",a);var l=n.find(this.attr.feedbackActionsSelector),h=n.find(this.attr.dismissedModuleSelector);this.slideAndFadeContent(l,r,h),this.timelineFeedback({feedbackUrl:a,undo:!1})},this.handleUndoChildFeedback=function(t,e){var i=this.getStreamItemFromEvent(t),s=i.find(this.attr.feedbackActionsSelector),o=i.find(this.attr.childFeedbackConfirmSelector),a=o.data("child-feedback-url"),n=i.find(this.attr.dismissedModuleSelector);this.slideAndFadeContent(o,s,n),this.timelineFeedback({feedbackUrl:a,undo:!0})},this.after("initialize",function(){this.on("click",{feedbackActionClickSelector:this.selectAction,undoActionSelector:this.undoSelectAction,childFeedbackPromptClickSelector:this.handleChildFeedbackSelected,undoChildFeedbackSelector:this.handleUndoChildFeedback})})}e.a=s;var o=i("q9/C"),a=i("Ouhc")}).call(e,i("4kSj"))},Ouhc:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({animationTime:200}),this.slideAndFadeContent=function(t,e,i,s){var a=this;if(!t.is(":hidden")){var n=this.getCombinedHeight(t);t.hide(),e.show();var r=this.getCombinedHeight(e);this.setAbsolutePosition(e),e.hide(),t.show(),this.setAbsolutePosition(t),i.css("paddingTop",n),t.fadeOut(Object(o.a)(this.attr.animationTime)),e.fadeIn(Object(o.a)(this.attr.animationTime)),i.animate({paddingTop:r},Object(o.a)(this.attr.animationTime),function(){a.resetCss(t),a.resetCss(e),a.resetCss(i),a.trigger(i.closest(a.attr.conversationModuleSelector),"uiConversationModuleUpdated"),s&&s()})}},this.getCombinedHeight=function(e){var i=0;return e.each(function(){i+=t(this).outerHeight()}),i},this.setAbsolutePosition=function(e){e.get().reverse().forEach(function(e){var i=t(e),s=i.width(),o=i.height();i.css({position:"absolute",top:i.position().top}),i.width(s),i.height(o)})},this.resetCss=function(t){var e={position:"",top:"",width:"",height:"",paddingTop:""};t.css(e)}}var o=i("EWF/");e.a=s}).call(e,i("4kSj"))},PE4H:function(t,e,i){"use strict";function s(t){Object(o.a)(t),Object(a.a)(n({},t,{useDeduping:!0}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var o=i("NcZX"),a=i("t9Yq"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}},PJeN:function(t,e,i){"use strict";function s(t){Object(o.a)(t),Object(a.default)(t),r.a.attachTo(".dashboard .newest-members-module",t),l.a.attachTo(document,t),h.a.attachTo(document,t,{redirectToListPermalinkOnEdit:!0,rerenderListItem:!0}),c.a.attachTo(document,t),d.a.attachTo(document,t,{scribeContext:{component:"list_follow_card"}}),n.a.attachTo(".dashboard")}var o=i("hhhH"),a=i("DNqT"),n=i("V6uw"),r=i("lQAc"),l=i("zgFR"),h=i("dM3d"),c=i("NMQQ"),d=i("txvN");e.a=s},Pckn:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({usersSelector:".RelatedUsers-users",refreshSelector:".js-refresh-related-users",relatedUserSelector:".js-actionable-user",responseField:"related_users_html",hiddenClass:"u-hidden",itemType:"user"}),this.renderRelatedUsers=function(t,e){this.refreshing=!1;var i=this.$node.hasClass(this.attr.hiddenClass),s=e[this.attr.responseField];s&&(this.select("usersSelector").html(s),this.show()),this.trigger("uiRelatedUsersDisplayed",{userIds:this.collectVisibleUserIds(),isInitial:i})},this.collectVisibleUserIds=function(){var e=this.select("relatedUserSelector").map(function(){return t(this).attr("data-user-id")});return t.makeArray(e)},this.show=function(){this.$node.removeClass(this.attr.hiddenClass)},this.clickOnRefresh=function(t,e){this.refreshing||(this.trigger("uiRelatedUsersRefreshClick"),this.refreshing=!0,this.trigger("uiRefreshRelatedUsers",{excludedIds:this.collectVisibleUserIds()}))},this.after("initialize",function(){this.refreshing=!1,this.on(document,"dataRelatedUsersRefreshed",this.renderRelatedUsers),this.trigger("uiRefreshRelatedUsers"),this.on("click",{refreshSelector:this.clickOnRefresh})})}var o=i("DBjh"),a=i("El2S"),n=i("xgWv");e.a=Object(o.default)(s,a.a,n.a)}).call(e,i("4kSj"))},PtJB:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({refreshAnimationDuration:200,cycleTimeout:1e3,experimentCycleTimeout:300,wtfOptions:{},selfPromotedAccountHtml:"",$accountPriorToPreview:null,successClass:"has-content",recListSelector:".js-recommended-followers",recSelector:".js-actionable-user",refreshRecsSelector:".js-refresh-suggestions",expandedContainerSelector:".js-expanded-container",itemType:"user"}),this.refreshRecommendations=function(t,e){if(!this.currentlyRefreshing){this.currentlyRefreshing=!0;var i=this.getVisibleIds(null,!0).length||this.attr.wtfOptions.limit;this.trigger("uiRefreshUserRecommendations",a({},this.attr.wtfOptions,{excluded:this.getVisibleIds(),limit:i,refreshType:t.type})),this.hideRecommendations()}},this.sendGetRecommendationEvent=function(t,e){this.trigger("uiGetUserRecommendations",a({},this.attr.wtfOptions,t||{}))},this.getUserRecommendations=function(t,e){this.sendGetRecommendationEvent(t,e),this.hideRecommendations()},this.hideRecommendations=function(){this.animateContentOut(this.select("recListSelector"),"animationCallback")},this.isNewUserDuplicate=function(t){return-1!==this.getVisibleIds().indexOf(t)},this.handleRecommendationsResponse=function(e,i){var s=this,o=this.getVisibleIds();if(!this.disabled){i=i||{},this.hasRecommendations()||(i=a({},i,{initialResults:!0}));var n=t.trim(i.user_recommendations_html);if(n){var r=this.currentlyRefreshingUser(i);if(this.$node.addClass(this.attr.successClass),this.shouldExpandWtf(i)){var l=t(n),h=l.filter(this.attr.recSelector).first(),c=l.filter(this.attr.expandedContainerSelector),d=c.find(".js-actionable-user").filter(function(){return-1===o.indexOf(t(this).data("user-id")+"")});c.empty(),d.each(function(){c.append(this)}),r&&!this.isNewUserDuplicate(h.data("user-id")+"")&&this.animateContentIn(r,"animationCallback",t("<div>").append(h).html(),{modOp:"replaceWith",scribeCallback:function(){s.currentlyExpanding?s.pendingScribe=!0:s.reportUsersDisplayed(i)}}),c.length&&this.animateExpansion(c,i)}else{if(this.isNewUserDuplicate(t(n).data("user-id")+""))return;var u=this.select("recListSelector"),f=void 0;r&&(u=r,f="replaceWith"),this.animateContentIn(u,"animationCallback",n,{modOp:f,scribeCallback:function(){return s.reportUsersDisplayed(i)}})}}else this.handleEmptyRefreshResponse(e,i),this.trigger("uiGotEmptyRecommendationsResponse",i)}},this.handleRefreshError=function(t,e){this.handleEmptyRefreshResponse(t,e)},this.handleEmptyRefreshResponse=function(t,e){if(this.select("recSelector").length){if(this.currentlyExpanding){var i=this.currentlyRefreshingUser(e);if(e&&e.sourceEventData&&e.sourceEventData.clusterfollow&&i)return this.currentlyExpanding=!1,void this.replenishWhoToFollowDashboard(i)}var s=this.select("recListSelector"),o=this.currentlyRefreshingUser(e);o&&(s=o),this.animateContentIn(s,"animationCallback",s.html())}},this.getVisibleIds=function(e,i){var s=this.select("recSelector").not(e);return i||(s=s.not(".promoted-account")),s.map(function(){return t(this).attr("data-user-id")}).toArray()},this.originalItemCount=function(){return t(this.attr.recListSelector).children(this.attr.recSelector).length},this.doAfterFollowAction=function(t,e){var i=this;if(!this.disabled&&"following"===e.newState){var s=this.expandBucket?this.attr.experimentCycleTimeout:this.attr.cycleTimeout;setTimeout(function(){if(!i.currentlyRefreshing){var t=i.select("recSelector").filter("[data-user-id='"+e.userId+"']");t.length&&i.cycleRecommendation(t,e)}},s)}},this.cycleRecommendation=function(t,e){this.animateContentOut(t,"animationCallback");var i=a({},this.attr.wtfOptions,{limit:1,visible:this.getVisibleIds(t),refreshUserId:e.userId});this.trigger("uiGetUserRecommendations",i)},this.animateExpansion=function(t,e){var i=this.select("recListSelector"),s=this.select("expandedContainerSelector"),o=function(){this.pendingScribe&&(this.reportUsersDisplayed(e),this.pendingScribe=!1),this.currentlyExpanding=!1};s.length?s.html(t.html()):i.append(t),t.is(":visible")?o.bind(this)():t.slideDown("slow",o.bind(this))},this.animateContentIn=function(t,e,i,s){var o=this;if(t.length){s=s||{};var a=function(){t.is(o.attr.recListSelector)&&(o.currentlyRefreshing=!1),t[s.modOp||"html"](i).animate({opacity:1},o.attr.refreshAnimationDuration),s.scribeCallback&&s.scribeCallback()};t.is(":animated")?this[e]=a:a()}},this.animateContentOut=function(t,e){var i=this;t.animate({opacity:0},{duration:this.attr.refreshAnimationDuration,complete:function(){i[e]&&i[e](),i[e]=null}})},this.getItemPosition=function(t){var e=this.originalItemCount();return t.closest(this.attr.expandedContainerSelector).length?e+t.closest(this.attr.recSelector).index():t.closest(this.attr.recSelector).index()},this.currentlyRefreshingUser=function(t){return t&&t.sourceEventData&&t.sourceEventData.refreshUserId?this.select("recSelector").filter("[data-user-id="+t.sourceEventData.refreshUserId+"]"):null},this.shouldExpandWtf=function(t){return!!(t&&t.sourceEventData&&t.sourceEventData.get_replacement)},this.getUsersDisplayed=function(){var e=this.select("recSelector"),i=[];return e.each(function(e,s){var o=t(s);i.push({id:o.attr("data-user-id"),impressionId:o.attr("data-impression-id")})}),i},this.reportUsersDisplayed=function(t){var e=this.getUsersDisplayed();this.trigger("uiUsersDisplayed",{users:e}),this.trigger("uiDidGetRecommendations",t)},this.verifyInitialRecommendations=function(t,e){this.hasRecommendations()?this.reportUsersDisplayed({initialResults:!0}):this.sendGetRecommendationEvent({initialResults:!0})},this.hasRecommendations=function(){return this.select("recSelector").length>0},this.storeSelfPromotedAccount=function(t,e){e.html&&(this.selfPromotedAccountHtml=e.html)},this.replaceUser=function(t,e){t.tooltip("hide"),t.parent().hasClass("preview-wrapper")&&t.unwrap(),t.replaceWith(e)},this.replaceUserAnimation=function(e,i){e.tooltip("hide"),this.before("teardown",function(){this.replaceUser(e,i)});var s=t("<div/>",{class:e.attr("class"),style:e.attr("style")}).addClass("preview-wrapper");e.wrap(s);var o=e.css("minHeight");e.css({minHeight:0}).slideUp(70,function(){i.attr("style",e.attr("style")),e.replaceWith(i),i.delay(350).slideDown(70,function(){i.css({minHeight:o}),i.unwrap(),setTimeout(function(){i.tooltip("show"),setTimeout(function(){return i.tooltip("hide")},8e3)},500)})})},this.handlePreviewPromotedAccount=function(){if(!this.disabled&&this.selfPromotedAccountHtml){var e=t(this.selfPromotedAccountHtml),i=this.select("recSelector").first();this.attr.$accountPriorToPreview=i.clone(),this.replaceUserAnimation(i,e),e.find("a").on("click",function(t){t.preventDefault(),t.stopPropagation()})}},this.maybeRestoreAccountPriorToPreview=function(){var t=this.attr.$accountPriorToPreview;t&&(this.replaceUser(this.select("recSelector").first(),t),this.attr.$accountPriorToPreview=null)},this.after("initialize",function(){this.on(document,"dataDidGetUserRecommendations",this.handleRecommendationsResponse),this.on(document,"dataFailedToGetUserRecommendations",this.handleRefreshError),this.on(document,"dataFollowStateChange",this.doAfterFollowAction),this.on("click",{refreshRecsSelector:this.refreshRecommendations}),this.on(document,"dataDidGetSelfPromotedAccount",this.storeSelfPromotedAccount),this.on(document,"uiPromptbirdPreviewPromotedAccount",this.handlePreviewPromotedAccount),this.on(document,"uiPromptbirdDismissPrompt",this.maybeRestoreAccountPriorToPreview)})}var o=i("/eMm"),a=(i.n(o),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t});e.a=s}).call(e,i("4kSj"))},Q8ph:function(t,e,i){"use strict";function s(){this.getUsers=function(t,e){var i={ids:e.ids};this.get({url:"/i/users/html",data:i,eventData:e,success:"dataUsersSuccess",error:"dataUsersError"})},this.getMoreBlockedUserIds=function(t,e){var i=void 0;i=e&&e.cursor?e.cursor:-1,this.prevCursor=i;var s={max_position:i,block_type:e.blockType},o=function(t){this.trigger("dataGetMoreBlockedUserIdsSuccess",n({},t,{prevCursor:this.prevCursor}))};this.get({url:"/i/users/blocked_ids",data:s,eventData:e,success:o.bind(this),error:"dataGetMoreBlockedUserIdsError"})},this.getUserNameList=function(t,e){var i={ids:e.ids,filter_blocked_users:e.filterBlockedUsers};this.post({url:"/i/users/html/name_list",data:i,eventData:e,success:"dataUserNameListSuccess",error:"dataUserNameListError"})},this.after("initialize",function(){this.on("uiGetUsers",this.getUsers),this.on("uiGetMoreBlockedUserIds",this.getMoreBlockedUserIds),this.on("uiGetUserNameList",this.getUserNameList)})}var o=i("DBjh"),a=i("VtWx"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(o.default)(s,a.a)},Qqke:function(t,e,i){"use strict";(function(t){function i(e,i,s,o){var a=e.find(i),n=!!t.trim(e.find(s).text()),r=!!t.trim(e.find(o).text());n&&r?a.show():a.hide()}e.a=i}).call(e,i("4kSj"))},"Qs/v":function(t,e,i){"use strict";function s(){this.getMomentScribeData=function(t){var e={impression_id:o.a.getClosestAttr(t,"data-guide-impression-id")},i={guide_category_id:o.a.getClosestAttr(t,"data-guide-category-id")},s={moment_id:o.a.getClosestAttr(t,"data-moment-id")},n={navigation_uri:o.a.getClosestAttr(t,"href")},r={visibility:o.a.getClosestAttr(t,"data-moment-visibility")},l=a({},e,i,s,n,r);for(var h in l)void 0===l[h]&&delete l[h];return o.a.scribeData(l)},this.getMomentScribeInfo=function(t){return{scribeData:this.getMomentScribeData(t),scribeContext:{component:o.a.getClosestAttr(t,"data-component-context"),element:o.a.getClosestAttr(t,"data-element-context")}}}}var o=i("zm5j"),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=s},QtQ2:function(t,e,i){"use strict";function s(t){Object(o.a)(t),Object(a.a)(t,t.timeline_url,"user","user")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var o=i("PJeN"),a=i("WNbX")},Qw78:function(t,e,i){"use strict";function s(){this.defaultAttrs({shareUrlSelector:".MomentShareDialog-url",embedHelpUrl:"https://dev.twitter.com/web/embedded-moments"}),this.showCopyLinkView=function(t,e){var i={url:e.momentUrl};this.updateDialog(h.a,i)},this.showEmbedLoadingView=function(t,e){var i={is_loading:!0};this.updateDialog(r.a,i),this.trigger("uiMomentEmbedNeedsOembed",{momentId:e.momentId})},this.showEmbedView=function(t,e){e=e||{};var i={url:e.html,help_url:this.attr.embedHelpUrl,is_loading:!1};this.updateDialog(r.a,i)},this.selectContent=function(){this.$dialog.find("textarea").select()},this.updateDialog=function(t,e){var i=t.render(e);this.$dialog.find(this.attr.modalContentSelector).html(i),this.selectContent(),this.$dialog.trigger("uiDialogContentChanged"),this.open()},this.after("initialize",function(){this.on("click",{shareUrlSelector:this.selectContent}),this.on(document,"uiMomentCopyLink",this.showCopyLinkView),this.on(document,"uiMomentEmbed",this.showEmbedLoadingView),this.on(document,"dataMomentEmbedUrl",this.showEmbedView)})}var o=i("DBjh"),a=i("UHc7"),n=i("q1hc"),r=i.n(n),l=i("qDMi"),h=i.n(l);e.a=Object(o.default)(s,a.a)},R6DS:function(t,e,i){"use strict";function s(t){Object(o.a)(t),Object(a.a)(t),n.a.attachTo(".GridTimeline"),r.a.attachTo(document)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var o=i("NcZX"),a=i("YBY8"),n=i("tpiW"),r=i("obLB")},RF9A:function(t,e,i){"use strict";function s(){this.defaultAttrs({editSelector:".js-edit-custom-timeline-action",deleteSelector:".js-delete-custom-timeline-action",confirmAction:"DeleteCustomTimeline",confirmTitleText:Object(a.default)("Delete collection"),confirmBodyText:Object(a.default)("Are you sure you want to delete this collection?"),confirmCancelText:Object(a.default)("No"),confirmSubmitText:Object(a.default)("Yes")}),this.triggerDeleteCustomTimelineDialog=function(){this.trigger("uiOpenConfirmDialog",{action:this.attr.confirmAction,titleText:this.attr.confirmTitleText,bodyText:this.attr.confirmBodyText,cancelText:this.attr.confirmCancelText,submitText:this.attr.confirmSubmitText})},this.triggerDelete=function(t,e){this.trigger("uiDeleteCustomTimeline",{timeline_id:this.attr.timeline_id})},this.after("initialize",function(){this.on("click",{editSelector:"uiOpenEditCustomTimelineDialog",deleteSelector:this.triggerDeleteCustomTimelineDialog}),this.on(document,"uiDeleteCustomTimelineConfirm",this.triggerDelete)})}var o=i("DBjh"),a=i("0d4m");e.a=Object(o.default)(s)},Runy:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({profileHead:!0,isCanopy:!1,nonEmptyAvatarSelector:".profile-picture .avatar:not(.empty-avatar)",emptyAvatarSelector:".profile-picture .empty-avatar",itemType:"user",fullNameSelector:".fullname",usernameSelector:".username",urlSelector:".url a",locationSelector:".location a",birthdaySelector:".birthday a"}),this.showAvatarModal=function(t){t.preventDefault(),this.isEditing()||(this.trigger("uiAvatarClicked"),this.trigger(t.target,"uiOpenGallery"))},this.emptyAvatarClicked=function(e){if(!this.isEditing()){e.preventDefault(),e.stopImmediatePropagation();var i=t(e.target).attr("data-scribe-element");t(document).one("uiEditProfileStart",this.showAvatarOptions.bind(this)),this.trigger("uiEditProfileInitialize",{scribeElement:i})}},this.showAvatarOptions=function(){this.trigger("uiShowEditAvatarOptions")},this.isEditing=function(){return t("body").hasClass("profile-editing")},this.fullNameClicked=function(){this.trigger("uiFullNameClicked")},this.usernameClicked=function(){this.trigger("uiUsernameClicked")},this.urlClicked=function(){this.trigger("uiUrlClicked")},this.locationClicked=function(e,i){var s=t(e.target),o=s.data("place-id"),a={scribeData:{message:o}};this.trigger("uiLocationClicked",a)},this.birthdayClicked=function(t){t.preventDefault(),this.trigger("uiBirthdayClicked"),this.trigger("uiBalloonAnimationRequested")},this.notifyDropdownToHide=function(){this.trigger("uiCloseDropdowns")},this.after("initialize",function(){this.on("click",{nonEmptyAvatarSelector:this.showAvatarModal,emptyAvatarSelector:this.emptyAvatarClicked,fullNameSelector:this.fullNameClicked,usernameSelector:this.usernameClicked,urlSelector:this.urlClicked,locationSelector:this.locationClicked,birthdaySelector:this.birthdayClicked}),this.attr.isCanopy&&this.on("uiHideProfileCanopy",this.notifyDropdownToHide),this.attr.eventData=l({},this.attr.eventData||{},{scribeContext:this.attr.scribeContext,profileHead:this.attr.profileHead})})}var o=i("DBjh"),a=i("El2S"),n=i("wnHI"),r=i("xgWv"),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(o.default)(s,a.a,n.a,r.a)}).call(e,i("4kSj"))},SAvb:function(t,e,i){"use strict";function s(t){var e=m({},t,{endpoint:t.timeline_url,itemType:"tweet",eventData:{scribeContext:{component:"tweet"}}});Object(o.a)(e),Object(a.a)("#timeline",e),r.a.attachTo("#timeline",e,{autoplay:!0}),f.a.attachTo(document,{containerSelector:"#timeline",viewportThreshold:200}),c.a.attachTo(document),h.a.attachTo("#timeline",e),d.a.attachTo("#timeline",e),u.a.attachTo(".custom-timeline-tweet-box",{allowThreading:!1,draftTweetId:"custom_timeline_"+e.timeline_id,canTweetDefaultText:!0,environment:e.environment,eventData:{scribeContext:{component:"tweet_box"}}}),l.a.attachTo(".custom-timeline-follow-card",{timeline_id:t.timeline_id}),n.a.attachTo("#edit-custom-timeline-dialog",t)}var o=i("cuTm"),a=i("zqN9"),n=i("IvKl"),r=i("LW6z"),l=i("RF9A"),h=i("60Bg"),c=i("DR2D"),d=i("jctv"),u=i("FUor"),f=i("A1Ox"),m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=s},SFXG:function(t,e,i){"use strict";function s(){this.defaultAttrs({removeSelector:".ok-btn",cancelSelector:".cancel-btn",uploadType:""}),this.removeImage=function(){this.disableButtons(),this.trigger("uiDeleteImage",{uploadType:this.attr.uploadType})},this.triggerHideDeleteLink=function(){this.trigger("uiHideDeleteLink",{uploadType:this.attr.uploadType})},this.disableButtons=function(){this.select("removeSelector").prop("disabled",!0),this.select("cancelSelector").stop(!0,!0).fadeOut()},this.enableButtons=function(){this.select("removeSelector").prop("disabled",!1),this.select("cancelSelector").stop(!0,!0).show()},this.after("initialize",function(){this.on(document,"uiConfirmDeleteImage",this.verifyUploadType(this.open)),this.on(document,"dataDeleteImageSuccess",this.verifyUploadType(this.close)),this.on(document,"dataDeleteImageSuccess",this.verifyUploadType(this.triggerHideDeleteLink)),this.on(document,"dataDeleteImageFailure",this.verifyUploadType(this.enableButtons)),this.on("uiDialogClosed",this.enableButtons),this.on("click",{cancelSelector:this.close,removeSelector:this.removeImage})})}var o=i("DBjh"),a=i("UHc7"),n=i("NPjf");e.a=Object(o.default)(s,a.a,n.a)},SWot:function(t,e,i){"use strict";function s(){this.defaultAttrs({scribeContext:{component:"structured_location",element:"location_picker"}}),this.scribeAction=function(t){var e=n({},this.attr.scribeContext,{action:t});return function(t,i){this.scribe(e,i)}},this.after("initialize",function(){this.on("uiLocationPickerOpened",this.scribeAction("open")),this.on("uiLocationPickerInput",this.scribeAction("input")),this.on("uiLocationPickerSelect",this.scribeAction("select"))})}var o=i("DBjh"),a=i("3oDc"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(o.default)(s,a.a)},"T+s6":function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({editableLocationFieldSelector:".ProfileHeaderCardEditing-editableField",placeIdFieldSelector:".ProfileHeaderCardEditing-locationPlaceId",globalProfileFieldSelector:".ProfileHeaderCard-locationText",globalProfileFieldContainerSelector:".ProfileHeaderCard-location",hiddenClass:"u-hidden"}),this.saveOldLocationValues=function(){this.oldLocationValue=this.currentLocation,this.oldPlaceIdValue=this.$placeIdField.val(),this.oldHtmlValue=this.$profileField.html(),this.savedLocation=!1,this.savedLocationId=!1},this.resetProfileLocationField=function(){this.$profileField.html(this.oldHtmlValue)},this.resetToOldLocationValues=function(){this.$editableLocationField.text(this.oldLocationValue),this.$placeIdField.val(this.oldPlaceIdValue),this.resetProfileLocationField(),this.updateProfileFieldContainerVisibility()},this.syncLocationValues=function(){var t=!1,e=this.currentLocation.trim(),i=this.$placeIdField.val();this.oldPlaceIdValue!==i&&""!==i?(t=!0,this.trigger("uiInlineEditSave",{newValue:e,field:this.$editableLocationField.attr("name")}),this.trigger("uiInlineEditSave",{newValue:i,field:this.$placeIdField.attr("name")})):this.oldLocationValue!==e&&(t=!0,this.trigger("uiInlineEditSave",{newValue:e,field:this.$editableLocationField.attr("name")})),t&&(this.setProfileLocationField(e),this.trigger("uiEditProfileSaveLocation"))},this.trackSavedLocationFields=function(t,e){e.field===this.$editableLocationField.attr("name")?this.savedLocation=!0:e.field===this.$placeIdField.attr("name")&&(this.savedLocationId=!0)},this.setProfileLocationField=function(t){var e=this.$placeIdField.val(),i=t.trim(),s={emojified_text_as_html:a.a.emojifyText(i),place_id:e};this.$profileField.html(r.a.render(s)),this.updateProfileFieldContainerVisibility(i)},this.updateProfileFieldContainerVisibility=function(t){var e=""===t||""===this.currentLocation;this.$profileFieldContainer.toggleClass(this.attr.hiddenClass,e)},this.startEditLocation=function(e){t(e.target).trigger("uiStartEditGeoLocation")},this.finishEditLocation=function(e){t(e.target).trigger("uiFinishEditGeoLocation")},this.getAndSetLocationToValueFromTextEditor=function(t,e){this.currentLocation=e.text},this.after("initialize",function(){this.$editableLocationField=this.select("editableLocationFieldSelector"),this.$placeIdField=this.select("placeIdFieldSelector"),this.$profileField=t(this.attr.globalProfileFieldSelector),this.$profileFieldContainer=t(this.attr.globalProfileFieldContainerSelector),this.currentLocation=this.$editableLocationField.data("initial-location"),this.on(document,"uiEditProfileSaveFields",this.syncLocationValues),this.on(document,"uiEditProfileStart",this.saveOldLocationValues),this.on(document,"uiEditProfileCancel",this.resetToOldLocationValues),this.on(document,"uiShowProfileEditError",this.resetProfileLocationField),this.on(document,"uiInlineEditSave",this.trackSavedLocationFields),this.on("uiTextChanged",this.getAndSetLocationToValueFromTextEditor),this.on(this.$editableLocationField,"focus","uiEditProfileHideOptions"),this.on(this.$editableLocationField,"focus",this.startEditLocation),this.on(this.$editableLocationField,"focusout",this.finishEditLocation)})}var o=i("DBjh"),a=i("tLYs"),n=i("qqZ7"),r=i.n(n);e.a=Object(o.default)(s)}).call(e,i("4kSj"))},TTiE:function(t,e,i){"use strict";(function(t){function s(){o.default.mixin(this,[a.a]),this.defaultAttrs({conversationModuleSelector:".conversation-module",hasConversationModuleSelector:".tweet.has-conversation-module",conversationHeaderSelector:".conversation-header",uncollapseSelector:"a.uncollapse",conversationRootSelector:"li.conversation-root",repliesCountSelector:".replies-count",otherRepliesSelector:".other-replies",topLevelStreamItemSelector:".stream-item:not(.conversation-tweet-item)",repliesCountClass:"replies-count",visuallyHiddenClass:"visuallyhidden",conversationRootClass:"conversation-root",conversationTweetsSelector:".conversation-tweet-item,.original-tweet-item",conversationFirstVisibleTweetClass:"conversation-first-visible-tweet",originalTweetClass:"original-tweet",conversationItemsSelector:".conversation-header, .conversation-tweet-item, .original-tweet-item, .missing-tweets-bar",toBeRemovedClass:"to-be-removed",unselectableStreamItemClass:"js-unselectable-stream-item",firstNavigableStreamItemClass:"first-navigable-stream-item",lastNavigableStreamItemClass:"last-navigable-stream-item",collapsedRootClass:"collapsed-root",collapsedAncestorsClass:"collapsed-ancestors",restoreConversationDelay:100,collapseOverMinimum:20}),this.dedupAndCollapse=function(t,e){this.dedupConversations(),this.collapseConversationTweets(e&&e.tweets)},this.dedupAndCollapseNew=function(t,e){this.dedupConversations(),e&&e.tweets&&e.tweets.length<=this.attr.collapseOverMinimum?this.collapseFirstConversationTweets(this.attr.collapseOverMinimum):this.collapseConversationTweets(e&&e.tweets)},this.dedupConversations=function(){var e=this;this.select("conversationModuleSelector").each(function(i,s){if(s.parentNode){var o=t(s).attr("data-ancestors").split(","),a=e.$node.find(e.idsToSelector(o)).filter(function(e,i){return!t(i).parent().hasClass("recap-module")});a.find(e.attr.conversationModuleSelector).addClass(e.attr.toBeRemovedClass);var n=e;a.slideUp({queue:!1,duration:"fast",complete:function(){var e=t(this);e.hasClass(n.attr.selectedClass)&&n.trigger("uiSelectNext",{maintainPosition:!0}),requestAnimationFrame(function(){n.trigger(e,"uiWillRemoveStreamItem"),e.remove()})}})}})},this.idToSelector=function(t){return this.attr.topLevelStreamItemSelector+"#stream-item-tweet-"+t},this.idsToSelector=function(t){return t.map(this.idToSelector.bind(this)).join(",")},this.collapseFirstConversationTweets=function(t){var e=this.$node.find(this.attr.streamItemSelector).slice(0,t).find(this.attr.conversationModuleSelector);this.collapseConversations(e)},this.collapseConversationTweets=function(t){var e=void 0;if(t){var i=t.map(function(t){return t.tweetId});e=this.$node.find(this.idsToSelector(i)).find(this.attr.conversationModuleSelector)}else e=this.select("conversationModuleSelector");this.collapseConversations(e)},this.collapseConversations=function(e){var i=this,s={},o={};e.get().reverse().forEach(function(e){var a=t(e),n=a.attr("data-ancestors"),r=a.find(".conversation-root .tweet").attr("data-item-id");a.hasClass("dont-collapse")||(s[n]?i.collapseAncestors(a):o[r]&&i.collapseRoot(a)),a.hasClass(i.attr.toBeRemovedClass)||(s[n]=!0,o[r]=!0)})},this.uncollapseConversationHandler=function(t,e){t.preventDefault();var i=this.conversationModuleFromEvent(t);this.uncollapseConversation(i),i.addClass("dont-collapse")},this.uncollapseConversation=function(t){t.find(".conversation-tweet-item.conversation-ancestor:visible").length>0?this.expandRoot(t):this.expandAncestors(t)},this.setSelectionToRoot=function(t){this.trigger(t.find(".conversation-root.conversation-tweet-item"),"uiSelectItem",{setFocus:!0})},this.expandAncestors=function(t){var e=this,i=t.find(this.attr.conversationHeaderSelector),s=t.find(".conversation-tweet-item, .missing-tweets-bar"),o=t.find(".original-tweet-item");this.slideAndFadeContent(i,s,o,function(){t.removeClass(e.attr.collapsedAncestorsClass).removeClass(e.attr.collapsedRootClass),e.setSelectionToRoot(t)})},this.expandRoot=function(t){var e=this,i=t.find(this.attr.conversationHeaderSelector),s=t.find(".conversation-tweet-item.conversation-root, .missing-tweets-bar"),o=t.find(".conversation-tweet-item.conversation-ancestor:not(.conversation-root):first");0===o.length&&(o=t.find(".original-tweet-item")),this.slideAndFadeContent(i,s,o,function(){e.setSelectionToRoot(t),t.removeClass(e.attr.collapsedAncestorsClass).removeClass(e.attr.collapsedRootClass)})},this.collapseAncestors=function(t){var e=t.find(".conversation-tweet-item, .missing-tweets-bar"),i=t.find(this.attr.conversationHeaderSelector),s=t.find(".original-tweet-item");this.slideAndFadeContent(e,i,s),t.addClass(this.attr.collapsedAncestorsClass)},this.collapseRoot=function(t){var e=t.find(".conversation-tweet-item.conversation-root, .missing-tweets-bar"),i=t.find(this.attr.conversationHeaderSelector),s=t.find(".conversation-tweet-item.conversation-ancestor:not(.conversation-root):first");0===s.length&&(s=t.find(".original-tweet-item")),this.slideAndFadeContent(e,i,s),1===t.find(".conversation-tweet-item").length?t.addClass(this.attr.collapsedAncestorsClass):t.addClass(this.attr.collapsedRootClass)},this.updateConversationItemClasses=function(e){var i=t(e.target),s=i.find(this.attr.conversationItemsSelector);s.removeClass(this.attr.unselectableStreamItemClass),s.removeClass(this.attr.firstNavigableStreamItemClass),s.removeClass(this.attr.lastNavigableStreamItemClass),s.filter(":hidden").addClass(this.attr.unselectableStreamItemClass);var o=s.filter(":visible");o.first().addClass(this.attr.firstNavigableStreamItemClass),o.last().addClass(this.attr.lastNavigableStreamItemClass),i.find(this.attr.conversationTweetsSelector).removeClass(this.attr.conversationFirstVisibleTweetClass).filter(":visible").first().addClass(this.attr.conversationFirstVisibleTweetClass)},this.conversationModuleFromEvent=function(e){return t(e.target).closest(this.attr.conversationModuleSelector)},this.after("initialize",function(){this.on(document,"uiHasInjectedOldTimelineItems",this.dedupAndCollapse),this.on(document,"uiHasInjectedNewTimeline",this.dedupAndCollapseNew),this.on("click",{uncollapseSelector:this.uncollapseConversationHandler}),this.on("uiShortcutEnter",{conversationHeaderSelector:this.uncollapseConversationHandler}),this.on("uiUncollapseConversation",this.uncollapseConversationHandler),this.on("uiConversationModuleUpdated",this.updateConversationItemClasses),this.dedupAndCollapse()})}e.a=s;var o=i("q9/C"),a=i("Ouhc")}).call(e,i("4kSj"))},Tviy:function(t,e,i){"use strict";function s(t){Object(o.a)(t),r.a.attachTo(".ListCreationModule",{createListSelector:".ListCreationModule-action .EdgeButton"}),l.a.attachTo(document,t,{listItemSelector:".ProfileListItem",featureListSelector:".js-actionFeatureList"}),h.a.attachTo(document,t),c.a.attachTo(document,t,{scribeContext:{component:"list_stream_item"}});var e=u({},t,{endpoint:t.timeline_url,itemType:"list",eventData:{scribeContext:{component:"stream"}}});Object(a.a)(e),n.a.attachTo(".GridTimeline",{containerSelector:".GridTimeline-items",itemsSelector:".GridTimeline-items",timelineEndSelector:".GridTimeline-end",errorMessageSelector:".GridTimeline-footer .Icon--fail",streamItemsSelector:".GridTimeline-items"}),d.a.attachTo(document,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var o=i("NcZX"),a=i("cuTm"),n=i("90rM"),r=i("V6uw"),l=i("dM3d"),h=i("NMQQ"),c=i("txvN"),d=i("MZZR"),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}},Ulcg:function(t,e,i){"use strict";function s(){this.defaultAttrs({scribeContext:{component:"profile_sidebar"}}),this.scribeProfileFeaturedList=function(t,e){var i=n({},this.attr.scribeContext,{element:"featured_list",action:"impression"});this.scribe(i,e)},this.scribeProfileFeaturedListAvatarClick=function(t,e){var i=n({},this.attr.scribeContext,{element:"featured_list_avatar",action:"click"});this.scribe(i,e)},this.scribeProfileFeaturedListPermalinkClick=function(t,e){var i=n({},this.attr.scribeContext,{element:"featured_list_permalink",action:"click"});this.scribe(i,e)},this.scribeProfileFeaturedListUserCountClick=function(t,e){var i=n({},this.attr.scribeContext,{element:"featured_list_user_count",action:"click"});this.scribe(i,e)},this.scribeProfileFeaturedListEditClick=function(t,e){var i=n({},this.attr.scribeContext,{element:"featured_list_edit",action:"click"});this.scribe(i,e)},this.scribeProfileFeaturedListUnfeatureClick=function(t,e){var i=n({},this.attr.scribeContext,{element:"featured_list_unfeature",action:"click"});this.scribe(i,e)},this.scribeProfileFeaturedListSubscribeClick=function(t,e){var i=n({},this.attr.scribeContext,{element:"featured_list_subscribe",action:"click"});this.scribe(i,e)},this.scribeProfileFeaturedListUnsubscribeClick=function(t,e){var i=n({},this.attr.scribeContext,{element:"featured_list_unsubscribe",action:"click"});this.scribe(i,e)},this.after("initialize",function(){this.on("uiHasProfileFeaturedList",this.scribeProfileFeaturedList),this.on("uiProfileFeaturedListAvatarClick",this.scribeProfileFeaturedListAvatarClick),this.on("uiProfileFeaturedListPermalinkClick",this.scribeProfileFeaturedListPermalinkClick),this.on("uiProfileFeaturedListUserCountClick",this.scribeProfileFeaturedListUserCountClick),this.on("uiProfileFeaturedListEditClick",this.scribeProfileFeaturedListEditClick),this.on("uiProfileFeaturedListUnfeatureClick",this.scribeProfileFeaturedListUnfeatureClick),this.on("uiProfileFeaturedListSubscribeClick",this.scribeProfileFeaturedListSubscribeClick),this.on("uiProfileFeaturedListUnsubscribeClick",this.scribeProfileFeaturedListUnsubscribeClick)})}var o=i("DBjh"),a=i("3oDc"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r=Object(o.default)(s,a.a);e.a=r},UmIG:function(t,e,i){"use strict";(function(t){function s(t){return t%2!=0}function o(){this.defaultAttrs({maxImageSize:3072e3}),this.determineCrop=function(){var t=this.$cropImage.offset(),e=this.$cropImage.width(),i=this.$cropImage.height(),s=this.$cropMask.offset(),o=this.$cropMask.width(),a=this.$cropMask.height(),n=this.originalWidth/e,r=this.attr.maskPadding,l=s.top-t.top+r,h=s.left-t.left+r,c=s.left+r>t.left?s.left+r:t.left,d=s.top+r>t.top?s.top+r:t.top,u=s.left+o-r<t.left+e?s.left+o-r:t.left+e,f=s.top+a-r<t.top+i?s.top+a-r:t.top+i,m=Math.round(n*(h>=0?h:0)),p=Math.round(n*(l>=0?l:0)),g=this.originalWidth-m,v=this.originalHeight-p;return{maskWidth:o-2*r,maskHeight:a-2*r,imageLeft:m,imageTop:p,imageWidth:Math.min(Math.round(n*(u-c)),g),imageHeight:Math.min(Math.round(n*(f-d)),v),maskY:l<0?-l:0,maskX:h<0?-h:0}},this.determineImageType=function(t){return 0===t.substr(t.indexOf(","),4).indexOf(",/9j")?"image/jpeg":"image/png"},this.compressionImageQuality=function(){return n.a.getDecider("hqImageUploads")?c:n.a.getDecider("mqImageUploads")?h:l},this.canvasToDataURI=function(t,e){return t.width>u||t.height>d?null:"image/jpeg"===e?t.toDataURL("image/jpeg",this.compressionImageQuality()):t.toDataURL("image/png")},this.prepareCroppedImage=function(){this.$croppedImage=t("<img>"),this.requiresCrossOriginCroppedImage()&&this.$croppedImage.attr("crossorigin","Anonymous"),this.on(this.$croppedImage,"load",this.croppedImageReady),this.$croppedImage.attr("src",this.$cropImage.attr("src"))},this.requiresCrossOriginCroppedImage=function(){var t=this.$cropImage.attr("src");return t&&0!==t.indexOf("data:")},this.croppedImageReady=function(){this.trigger("uiCroppedImageReady")},this.computeTargetRect=function(t){var e=Math.min(Math.max(t.maskWidth,t.imageWidth),this.attr.maximumWidth),i=Math.min(Math.max(t.maskHeight,t.imageHeight),this.attr.maximumHeight);return{width:e,height:i,x:Math.round(t.maskX*(e/t.maskWidth)),y:Math.round(t.maskY*(i/t.maskHeight))}},this.getHeaderCropData=function(t){var e=t.getContext("2d");return{offsetTop:0,offsetLeft:0,width:e.canvas.width,height:e.canvas.height}},this.clientsideCrop=function(t){var e=this.determineImageType(this.$cropImage.attr("src")),i="header"===this.attr.uploadType,s=i?this.clientsideCropLarge(t,e):this.clientsideCropStandard(t),o={fileData:this.canvasToDataURI(s,e)};return i?o:r({},o,{cropData:this.getHeaderCropData(s)})},this.clientsideCropStandard=function(t){var e=this.select("drawSurfaceSelector"),i=e[0].getContext("2d"),s=this.computeTargetRect(t);return this.$croppedImage.height(this.originalHeight).width(this.originalWidth),i.canvas.width=s.width,i.canvas.height=s.height,i.fillStyle="white",i.fillRect(0,0,s.width,s.height),i.drawImage(this.$croppedImage[0],t.imageLeft,t.imageTop,t.imageWidth,t.imageHeight,s.x,s.y,s.width,s.height),e[0]},this.clientsideCropLarge=function(t,e){var i=t.imageHeight,s=t.imageWidth,o=t.imageTop,a=t.imageLeft,n=this.createCanvas(s,i),r=n.getContext("2d");r.imageSmoothingEnabled=!1,r.drawImage(this.$croppedImage[0],a,o,s,i,0,0,s,i);for(var l=i,h=s,c=this.canvasToDataURI(n,e);null==c||c.length>this.attr.maxImageSize;){var d=Math.ceil(.5*h),u=Math.ceil(.5*l),f=this.createCanvas(d,u),m=f.getContext("2d");m.imageSmoothingEnabled=!0,m.drawImage(n,0,0,h,l,0,0,d,u),c=this.canvasToDataURI(f,e),n=f,h=d,l=u}return n},this.createCanvas=function(t,e){var i=document.createElement("canvas");return i.width=t,i.height=e,i},this.cropDimensions=function(){var t=this.$cropMask.offset();return{top:t.top,left:t.left,maskWidth:this.$cropMask.width(),maskHeight:this.$cropMask.height(),cropWidth:this.$cropMask.width()-2*this.attr.maskPadding,cropHeight:this.$cropMask.height()-2*this.attr.maskPadding}},this.bestFitImage=function(){var t=this.cropDimensions(),e=this.originalWidth,i=this.originalHeight;this.cropWidth=t.cropWidth,this.cropHeight=t.cropHeight;var s=e/i;e>=i&&t.cropWidth>=t.cropHeight&&s>=t.cropWidth/t.cropHeight?(i=t.cropHeight,e=Math.round(e*(i/this.originalHeight))):(e=t.cropWidth,i=Math.round(i*(e/this.originalWidth))),this.$cropImage.width(e).height(i).offset({top:t.maskHeight/2-i/2+t.top,left:t.maskWidth/2-e/2+t.left}),this.bestFitHeight=i,this.bestFitWidth=e},this.onDragStart=function(t,e){this.attr.imageStartOffset=this.select("cropImageSelector").offset()},this.getOffsetConstraints=function(){var t=this.$cropMask.offset(),e=this.attr.maskPadding,i=t.left+e,s=i+this.$cropMask.width()-this.$cropImage.width()-2*e,o=t.top+e,a=o+this.$cropMask.height()-this.$cropImage.height()-2*e;return{minLeft:s,maxLeft:i,minTop:a,maxTop:o,rangeLeft:i-s,rangeTop:o-a}},this.setImageOffsetConstrainedToFit=function(t){var e=this.getOffsetConstraints();this.$cropImage.offset({left:Math.min(Math.max(e.minLeft,t.left),e.maxLeft),top:Math.min(Math.max(e.minTop,t.top),e.maxTop)})},this.onDragHandler=function(t,e){this.setImageOffsetConstrainedToFit({top:this.attr.imageStartOffset.top+e.position.top-e.originalPosition.top,left:this.attr.imageStartOffset.left+e.position.left-e.originalPosition.left})},this.onDragStop=function(t,e){this.select("cropOverlaySelector").offset(this.select("cropMaskSelector").offset())},this.setScaleValue=function(t){var e=this.$cropImage.offset(),i=Math.round(e.left+this.$cropImage.width()/2),o=Math.round(e.top+this.$cropImage.height()/2),a=Math.round(this.bestFitHeight*(1+t/100)),n=Math.round(this.bestFitWidth*(1+t/100));a=s(a)?a+=1:a,n=s(n)?n+=1:n,this.$cropImage.height(a).width(n),this.setImageOffsetConstrainedToFit({top:Math.round(o-a/2),left:Math.round(i-n/2)})},this.onSlide=function(t,e){e.value!==this.lastScaleValue&&(this.lastScaleValue=e.value,this.setScaleValue(e.value))},this.imageLoaded=function(t,e){this.originalHeight=this.$cropImage.height(),this.originalWidth=this.$cropImage.width(),this.$slider.slider({value:0,max:100,min:0,slide:this.onSlide.bind(this)}).slider("option","value",0),this.lastScaleValue=0,this.bestFitImage(),this.select("cropOverlaySelector").draggable({drag:this.onDragHandler.bind(this),stop:this.onDragStop.bind(this),start:this.onDragStart.bind(this),containment:this.attr.cropContainerSelector,scroll:!1})},this.getNormalizedOffset=function(){var t=this.getOffsetConstraints(),e=this.$cropImage.offset();return{left:(e.left-t.minLeft)/(t.rangeLeft||1),top:(e.top-t.minTop)/(t.rangeTop||1)}},this.setNormalizedOffset=function(t){var e=this.getOffsetConstraints();this.$cropImage.offset({left:e.minLeft+e.rangeLeft*t.left,top:e.minTop+e.rangeTop*t.top})},this.setCropMetrics=function(t,e){var i=this.getNormalizedOffset();this.select("cropZoneSelector").height(e.zoneHeight).width(e.zoneWidth),this.$cropMask.css({left:e.left,top:e.top,width:e.width,height:e.height}),this.cropWidth===e.width&&this.cropHeight===e.height||(this.bestFitImage(),this.setScaleValue(this.lastScaleValue),this.setNormalizedOffset(i))},this.after("initialize",function(){this.$cropImage=this.select("cropImageSelector"),this.$cropMask=this.select("cropMaskSelector"),this.$slider=this.select("cropperSliderSelector"),this.on(this.attr.cropImageSelector,"load",this.imageLoaded),this.on("uiSetCropMetrics",this.setCropMetrics)})}var a=i("bnyz"),n=(i.n(a),i("IAMj")),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},l=.75,h=.85,c=.9,d=4096,u=4096;e.a=o}).call(e,i("4kSj"))},V2DB:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({shareTweetSelector:".js-momentShareTweet",shareDMSelector:".js-momentShareDM",copyMomentSelector:".js-copyMomentLink",embedMomentSelector:".js-embedMoment"}),this.onShareViaTweetClick=function(e,i){var s=t(i.el);this.triggerShareViaTweet(e,{url:s.attr("data-moment-url"),title:s.attr("data-moment-title"),author:s.attr("data-moment-author")})},this.triggerShareViaTweet=function(t,e){var i={title:e.title,author:e.author,url:e.url,newline:"\n"},s=void 0;s=e.author?Object(o.default)(" ⚡️ “{{title}}” by @{{author}}{{newline}}{{newline}}{{url}}",i):Object(o.default)(" ⚡️ “{{title}}”{{newline}}{{newline}}{{url}}",i);var a={canTweetDefaultText:!0,cursorPosition:0,defaultText:s,title:Object(o.default)("Share this Moment")};this.trigger("uiMomentShareViaTweet"),this.trigger("uiOpenTweetDialog",a)},this.onShareViaDMClick=function(e,i){var s=t(i.el),o=s.attr("data-moment-url"),a=s.attr("data-moment-title");this.trigger("uiComposeNewDMWithOptions",{defaultComposerText:" ⚡️ "+a+" "+o}),this.trigger("uiMomentShareViaDM")},this.onCopyMomentClick=function(e,i){var s=t(i.el).attr("data-moment-url");this.trigger("uiMomentCopyLink",{momentUrl:s})},this.onEmbedMomentClick=function(e,i){var s=t(i.el).attr("data-moment-id");this.trigger("uiMomentEmbed",{momentId:s})},this.after("initialize",function(){this.on("click",{shareTweetSelector:this.onShareViaTweetClick,shareDMSelector:this.onShareViaDMClick,copyMomentSelector:this.onCopyMomentClick,embedMomentSelector:this.onEmbedMomentClick}),this.on(document,"uiMomentsOpenShareViaTweetDialog",this.triggerShareViaTweet)})}var o=i("0d4m"),a=i("DBjh");e.a=Object(a.default)(s)}).call(e,i("4kSj"))},V6uw:function(t,e,i){"use strict";function s(){this.defaultAttrs({createListSelector:".js-create-list-button"}),this.openListCreateDialog=function(){this.trigger("uiOpenCreateListDialog")},this.after("initialize",function(){this.on("click",{createListSelector:this.openListCreateDialog})})}var o=i("DBjh");e.a=Object(o.default)(s)},VPF5:function(t,e,i){(function(e){t.exports=new e.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b('<div class="ColorPicker dropdown-menu" tabindex="-1" role="dialog" aria-labelledby="color-picker">'),s.b('<div class="dropdown-caret">'),s.b('<span class="caret-outer"></span>'),s.b('<span class="caret-inner"></span>'),s.b("</div>"),s.b("<fieldset>"),s.b('<legend id="color-picker" class="u-hiddenVisually">Color Picker</legend>'),s.b('<div class="ColorPicker-colorList">'),s.b('<div class="ColorPicker-transparent">'),s.b('<div class="ColorPicker-item ColorPicker-color" data-color="#ff691f" style="background-color: #ff691f">'),s.b('<label class="Icon Icon--smallest">'),s.b('<span class="u-hiddenVisually">orange</span>'),s.b('<input class="u-hiddenVisually" type="radio" name="ColorPicker-colorGroup">'),s.b("</label>"),s.b("</div>"),s.b("</div>"),s.b('<div class="ColorPicker-transparent">'),s.b('<div class="ColorPicker-item ColorPicker-color" data-color="#fab81e" style="background-color: #fab81e">'),s.b('<label class="Icon Icon--smallest">'),s.b('<span class="u-hiddenVisually">yellow</span>'),s.b('<input class="u-hiddenVisually" type="radio" name="ColorPicker-colorGroup">'),s.b("</label>"),s.b("</div>"),s.b("</div>"),s.b('<div class="ColorPicker-transparent">'),s.b('<div class="ColorPicker-item ColorPicker-color" data-color="#7fdbb6" style="background-color: #7fdbb6">'),s.b('<label class="Icon Icon--smallest">'),s.b('<span class="u-hiddenVisually">lime</span>'),s.b('<input class="u-hiddenVisually" type="radio" name="ColorPicker-colorGroup">'),s.b("</label>"),s.b("</div>"),s.b("</div>"),s.b('<div class="ColorPicker-transparent">'),s.b('<div class="ColorPicker-item ColorPicker-color" data-color="#19cf86" style="background-color: #19cf86">'),s.b('<label class="Icon Icon--smallest">'),s.b('<span class="u-hiddenVisually">green</span>'),s.b('<input class="u-hiddenVisually" type="radio" name="ColorPicker-colorGroup">'),s.b("</label>"),s.b("</div>"),s.b("</div>"),s.b('<div class="ColorPicker-transparent">'),s.b('<div class="ColorPicker-item ColorPicker-color" data-color="#91d2fa" style="background-color: #91d2fa">'),s.b('<label class="Icon Icon--smallest">'),s.b('<span class="u-hiddenVisually">blue</span>'),s.b('<input class="u-hiddenVisually" type="radio" name="ColorPicker-colorGroup">'),s.b("</label>"),s.b("</div>"),s.b("</div>"),s.b('<div class="ColorPicker-transparent">'),s.b('<div class="ColorPicker-item ColorPicker-color" data-color="#1b95e0" style="background-color: #1b95e0">'),s.b('<label class="Icon Icon--smallest">'),s.b('<span class="u-hiddenVisually">navy</span>'),s.b('<input class="u-hiddenVisually" type="radio" name="ColorPicker-colorGroup">'),s.b("</label>"),s.b("</div>"),s.b("</div>"),s.b('<div class="ColorPicker-transparent">'),s.b('<div class="ColorPicker-item ColorPicker-color" data-color="#abb8c2" style="background-color: #abb8c2">'),s.b('<label class="Icon Icon--smallest">'),s.b('<span class="u-hiddenVisually">grey</span>'),s.b('<input class="u-hiddenVisually" type="radio" name="ColorPicker-colorGroup">'),s.b("</label>"),s.b("</div>"),s.b("</div>"),s.b('<div class="ColorPicker-transparent">'),s.b('<div class="ColorPicker-item ColorPicker-color" data-color="#e81c4f" style="background-color: #e81c4f">'),s.b('<label class="Icon Icon--smallest">'),s.b('<span class="u-hiddenVisually">red</span>'),s.b('<input class="u-hiddenVisually" type="radio" name="ColorPicker-colorGroup">'),s.b("</label>"),s.b("</div>"),s.b("</div>"),s.b('<div class="ColorPicker-transparent">'),s.b('<div class="ColorPicker-item ColorPicker-color" data-color="#f58ea8" style="background-color: #f58ea8">'),s.b('<label class="Icon Icon--smallest">'),s.b('<span class="u-hiddenVisually">pink</span>'),s.b('<input class="u-hiddenVisually" type="radio" name="ColorPicker-colorGroup">'),s.b("</label>"),s.b("</div>"),s.b("</div>"),s.b('<div class="ColorPicker-transparent">'),s.b('<div class="ColorPicker-item ColorPicker-color" data-color="#981ceb" style="background-color: #981ceb">'),s.b('<label class="Icon Icon--smallest">'),s.b('<span class="u-hiddenVisually">purple</span>'),s.b('<input class="u-hiddenVisually" type="radio" name="ColorPicker-colorGroup">'),s.b("</label>"),s.b("</div>"),s.b("</div>"),s.b('<div class="ColorPicker-transparent">'),s.b('<div class="ColorPicker-item ColorPicker-more" style="background-color: #f0f0f0">'),s.b('<label class="Icon Icon--smallest Icon--add">'),s.b('<span class="u-hiddenVisually">more</span>'),s.b('<input class="u-hiddenVisually" type="radio" name="ColorPicker-colorGroup">'),s.b("</label>"),s.b("</div>"),s.b("</div>"),s.b('<div class="ColorPicker-item ColorPicker-hex" data-color="#f0f0f0" data-original-color="#f0f0f0" style="background-color: #f0f0f0">'),s.b('<label class="Icon Icon--smallest Icon--discover">'),s.b('<input class="u-hiddenVisually" type="radio" name="ColorPicker-colorGroup">'),s.b("</label>"),s.b('<input type="text" class="ColorPicker-hexInput" aria-labelledby="js-userColorButton" placeholder="" maxlength="6">'),s.b("</div>"),s.b("</div>"),s.b("</fieldset>"),s.b("</div>\n"),s.fl()},partials:{},subs:{}})}).call(e,i("jTWp"))},VbtH:function(t,e,i){"use strict";function s(){this.defaultAttrs({inputSelector:"input.trends-location-search-input"}),this.executeTypeaheadSelection=function(t,e){if(-1===e.item.woeid)return void this.trigger("uiTrendsLocationSearchNoResults");this.currentSelection=e.item,this.changeLocationInfo({woeid:e.item.woeid,name:e.item.name})},this.possiblyClearSelection=function(){this.currentSelection&&this.currentSelection.woeid!==this.attr.location.woeid&&this.reset()},this.reset=function(t,e){this.currentSelection=null,this.$input.val("")},this.after("initialize",function(){this.$input=this.select("inputSelector"),this.on("uiTypeaheadItemSelected uiTypeaheadItemComplete",this.executeTypeaheadSelection),this.on("uiLocationInfoUpdated",this.possiblyClearSelection),this.on(document,"uiTrendsDialogReset",this.reset),r.a.attachTo(this.$node,{inputSelector:this.attr.inputSelector}),n.a.attachTo(this.$node,{inputSelector:this.attr.inputSelector,hideOnEmptyQuery:!0,blockLinkActions:!0,datasourceRenders:[["trendLocations",["trendLocations"]]],deciders:this.attr.typeaheadData,eventData:{scribeContext:{component:"trends_location_search"}}})})}var o=i("DBjh"),a=i("3ZrE"),n=i("cCv7"),r=i("aRgS");e.a=Object(o.default)(s,a.a)},VeSc:function(t,e,i){"use strict";(function(t){function s(){o.default.mixin(this,[a.a]);this.defaultAttrs({streamItemsSelector:".stream-items",socialProofSelector:".tweet-stats-container"}),this.autoplayNewItems=function(t){if(t){var e=this.$window.scrollTop(),i=e+this.$window.height(),s=this.$promotedItem.length&&this.$promotedItem.offset().top>i,o=this.injectNewItems({},{autoplay:!0}),a=this.select("streamItemsSelector");this.travelingPTw&&s&&this.repositionPromotedItem(function(t){o.first().before(t),o=o.add(t),this.trigger(t,"uiShouldFixMargins")});var n=o.first().offset().top,r=n>e&&n<i,l=a.offset().top,h=o.last().next().offset().top-l+1;r?(a.css("marginTop",-h),this.animateBlockOfItems()):this.setScrollerScrollTop(e+h)}},this.animateBlockOfItems=function(){var t=this,e=this.select("streamItemsSelector"),i=this.$window.scrollTop(),s=parseFloat(e.css("marginTop"));e.parent().css("overflow","hidden"),e.animate({marginTop:0},{duration:700+Math.abs(s),step:function(e){t.lockedTimelineScroll&&t.setScrollerScrollTop(i+Math.abs(s-Math.ceil(e)))},complete:function(){e.parent().css("overflow","inherit"),t.afterAnimationQueue.forEach(function(t){t.call(this)},t),t.afterAnimationQueue=[]}})},this.setScrollerScrollTop=function(e){(this.attr.overflowScroll?this.$node:t(window)).scrollTop(e)},this.enableAutoplay=function(){this.autoplay=!0,this.travelingPTw=this.attr.travelingPTw,this.lockedTimelineScroll=!1,this.afterAnimationQueue=[],this.newItemsXLine=0,this.$window=this.attr.overflowScroll?this.$node:t(window),this.on("mouseover",function(){this.lockedTimelineScroll=!0}),this.on("mouseleave",function(){this.lockedTimelineScroll=!1})},this.after("initialize",function(){this.attr.autoplay&&this.enableAutoplay()})}var o=i("q9/C"),a=i("bgdb");e.a=s}).call(e,i("4kSj"))},Vedm:function(t,e,i){"use strict";function s(){this.defaultAttrs({socialProofAvatarSelector:".social-proof .avatar",followersYouFollowSelector:".followers-you-follow",itemType:"user"}),this.socialProofAvatarClick=function(t,e){this.trigger("uiSocialProofAvatarClick")},this.viewAllFollowersYouFollow=function(t,e){this.trigger("uiFollowersYouFollowLink")},this.after("initialize",function(){this.trigger("uiHasProfileSocialProof"),this.on("click",{socialProofAvatarSelector:this.socialProofAvatarClick,followersYouFollowSelector:this.viewAllFollowersYouFollow})})}var o=i("DBjh"),a=i("xgWv"),n=Object(o.default)(s,a.a);e.a=n},Vfkp:function(t,e,i){"use strict";function s(t){a.a.attachTo(document),o.a.attachTo(document,{profileId:t.profile_id}),n.a.attachTo(".RelatedUsers",{eventData:{scribeContext:{component:"related_users"}}})}e.a=s;var o=i("LR11"),a=i("9Ycz"),n=i("Pckn")},VnB0:function(t,e,i){"use strict";function s(){this.defaultAttrs({navigationContainerSelector:".GridTimeline-items > .Grid, .GridTimeline-items > .ScrollBump",navigationContainerCellSelector:".Grid-cell"}),this.around("next",function(t,e){var i=e.closest(this.attr.navigationContainerCellSelector).next().find(this.attr.genericItemSelector).first();return 0===i.length&&(i=e.closest(this.attr.navigationContainerSelector).next().find(this.attr.genericItemSelector).first()),i}),this.around("prev",function(t,e){var i=e.closest(this.attr.navigationContainerCellSelector).prev().find(this.attr.genericItemSelector).first();return 0===i.length&&(i=e.closest(this.attr.navigationContainerSelector).prev().find(this.attr.genericItemSelector).last()),i})}e.a=s},Vppf:function(t,e,i){"use strict";function s(){this.defaultAttrs({personalizedSelector:".js-location-personalized",nonpersonalizedSelector:".js-location-nonpersonalized",currentLocationSelector:".current-location"}),this.updateView=function(){this.attr.personalized||this.select("currentLocationSelector").text(this.attr.location.name),this.select("nonpersonalizedSelector").toggle(!this.attr.personalized),this.select("personalizedSelector").toggle(!!this.attr.personalized)},this.after("initialize",function(){this.updateView(),this.on("uiLocationInfoUpdated",this.updateView)})}var o=i("DBjh"),a=i("3ZrE");e.a=Object(o.default)(s,a.a)},WNbX:function(t,e,i){"use strict";function s(t,e,i,s){var l=r({},t,{endpoint:e,itemType:i,eventData:{scribeContext:{component:s}}});Object(o.a)(l),a.a.attachTo("#timeline",l),n.a.attachTo(document,l)}var o=i("cuTm"),a=i("6ob3"),n=i("MZZR"),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=s},WyNH:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({moreUsersLinkSelector:".js-more-users-link",itemType:"user"}),this.openScrollBumpDialog=function(e,i){var s=t(i.el);this.trigger("uiOpenScrollBumpDialog",{userIds:s.data("more-user-ids").split(",")}),this.trigger("uiScrollBumpViewMoreLinkClicked"),e.preventDefault()},this.after("initialize",function(){this.on("click",{moreUsersLinkSelector:this.openScrollBumpDialog})})}var o=i("DBjh");e.a=Object(o.default)(s)}).call(e,i("4kSj"))},XPAo:function(t,e,i){"use strict";function s(){this.defaultAttrs({scribeContext:{component:"inline_edit"}}),this.scribeAction=function(t){var e=n({},this.attr.scribeContext,{action:t});return function(t,i){this.scribe(e,i)}},this.scribeBirthdayPrompt=function(t){var e=n({},this.attr.scribeContext,{element:"birthday_confirm",action:t});return function(t,i){this.scribe(e,i)}},this.after("initialize",function(){this.on("uiEditProfileStart",this.scribeAction("edit")),this.on("uiEditProfileCancel",this.scribeAction("cancel")),this.on("dataInlineEditSaveSuccess",this.scribeAction("success")),this.on("dataInlineEditSaveError",this.scribeAction("error")),this.on("uiUpdateProfileBirthdayPromptShown",this.scribeBirthdayPrompt("impression")),this.on("uiUpdateBirthdayConfirm",this.scribeBirthdayPrompt("success")),this.on("uiUpdateBirthdayCancel",this.scribeBirthdayPrompt("cancel"))})}var o=i("DBjh"),a=i("3oDc"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r=Object(o.default)(s,a.a);e.a=r},XUGN:function(t,e,i){"use strict";function s(){this.after("initialize",function(){this.scribeOnEvent("dataFollowerAcceptSuccess",{component:"user",action:"accept"}),this.scribeOnEvent("dataFollowerDeclineSuccess",{component:"user",action:"decline"})})}var o=i("DBjh"),a=i("3oDc");e.a=Object(o.default)(a.a,s)},YBY8:function(t,e,i){"use strict";function s(t){Object(o.a)({endpoint:t.timeline_url});var e=n.a.mixin(r.a,f.a,l.a,h.a,c.a,d.a,u.a);a.a.attachTo(document,t),e.attachTo(".GridTimeline",t,{containerSelector:".GridTimeline-items",itemsSelector:".GridTimeline-items",timelineEndSelector:".GridTimeline-end",errorMessageSelector:".GridTimeline-footer .Icon--fail",streamItemsSelector:".GridTimeline-items",streamUserSelector:".GridTimeline-items .js-actionable-user",disableProfilePopup:null==t.disableProfilePopup||t.disableProfilePopup,selectedClass:"is-selected",selectedSelector:".js-stream-item.is-selected",firstItemSelector:".js-stream-item:first-child",profileCardSelector:".ProfileCard",itemType:"user",eventData:{scribeContext:{component:"user"}}})}var o=i("cuTm"),a=i("MZZR"),n=i("4Pj3"),r=i("GbBZ"),l=i("xgWv"),h=i("El2S"),c=i("w0oo"),d=i("G3LU"),u=i("VnB0"),f=i("G/SW");e.a=s},YooO:function(t,e,i){"use strict";function s(){this.defaultAttrs({periscopeProfileLinkSelector:".ProfileHeaderCard-periscopeProfileText",scribeContext:{component:"periscope_profile"}}),this.scribePeriscopeLinkAction=function(t,e,i){var s=i&&i.sourceEventData,o=n({},this.attr.scribeContext,{action:t});this.scribe(o,s||i)},this.after("initialize",function(){this.on(document,"uiPageChanged uiSwiftLoaded",this.scribePeriscopeLinkAction.bind(this,"impression")),this.on("click",{periscopeProfileLinkSelector:this.scribePeriscopeLinkAction.bind(this,"click")})})}var o=i("DBjh"),a=i("3oDc"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(o.default)(s,a.a)},Z6Tj:function(t,e,i){"use strict";function s(t,e){a.a.attachTo(document,{containerSelector:"#timeline"}),n.a.attachTo("#timeline",{keepUnrenderedMediaItems:!0,gridMargin:1,gridContainerSelector:".ProfileStreamImageGallery-images",mediaSelector:".ProfileStreamGridImage"}),Object(o.a)(t,t.timeline_url,e,"tweet")}var o=i("/gHE"),a=i("A1Ox"),n=i("cZ99");e.a=s},ZMnx:function(t,e,i){"use strict";function s(){this.initializeWebcam=function(){this.startHtml5Webcam(!1)},this.takePhoto=function(){this.takeHtml5Photo(3)},this.startHtml5Webcam=function(t){var e=this,i=void 0,s=void 0;t?(i={video:!0},s=this.html5LoadFailure.bind(this)):(i={video:{mandatory:{minWidth:1280,minHeight:720}}},s=function(){return e.startHtml5Webcam(!0)}),this.select("videoPermissionExplain").show(),o.a.getUserMedia(i,this.html5StreamLoaded.bind(this),s)},this.html5StreamLoaded=function(t){var e=this.select("videoSelector");e.show();var i=e[0];this.cleanupStream(),void 0!==i.srcObject?i.srcObject=t:navigator.mozGetUserMedia?i.mozSrcObject=t:i.src=a.a.getObjectUrl(t),this.localMediaStream=t,this.select("captureWebcamSelector").prop("disabled",!1),this.select("videoPermissionExplain").hide(),this.trigger("uiWebcamFound")},this.html5LoadFailure=function(t){this.select("videoPermissionExplain").hide(),this.select("videoPermissionFail").show(),this.trigger("uiWebcamUnavailable")},this.actuallyTakeHtml5Photo=function(){var t=this,e=this.select("videoSelector"),i=e[0];e.css({width:"auto"});var s=this.select("webcamCanvasSelector")[0];s.width=i.clientWidth,s.height=i.clientHeight,s.getContext("2d").drawImage(i,0,0),e.css({width:"100%"}),this.cleanupStream(),a.a.canvasToBlob(s).then(a.a.getFileInfo.bind(a.a,"avatar-from-webcam")).then(function(e){t.select("cropImageSelector").attr("src",e.thumbnail.src),t.trigger("jsCamCapture",{fileId:e.fileId})})},this.takeHtml5Photo=function(t){var e=this;if(0===t)this.select("videoOverlaySelector").hide(),this.actuallyTakeHtml5Photo();else{var i=this.select("videoOverlaySelector");this.select("videoCountdownSelector").text(t),i.show(),setTimeout(function(){return e.takeHtml5Photo(t-1)},1e3)}},this.cleanupStream=function(){var t=this.select("videoSelector")[0];this.localMediaStream&&(this.localMediaStream.stop?this.localMediaStream.stop():this.localMediaStream.getVideoTracks()[0].stop(),t.srcObject?t.srcObject=null:navigator.mozGetUserMedia?t.mozSrcObject=null:t.src=null,this.localMediaStream=null)},this.after("initialize",function(){this.on("uiDialogClosed",function(){this.cleanupStream()})})}var o=i("P2na"),a=i("+dWm");e.a=s},a5zk:function(t,e,i){"use strict";function s(t){Object(o.a)(t),Object(a.a)(t),n.a.attachTo(".GridTimeline",t,{userItemSelector:"div.js-actionable-user",streamUserItemSelector:".js-stream-item",followerActionsSelector:".js-acceptDeclineActions",profileActionsSelector:".js-userActions",acceptFollowerSelector:".js-actionAccept",declineFollowerSelector:".js-actionDeny"}),r.a.attachTo(document,t),l.a.attachTo(document),h.a.attachTo(".GridTimeline"),c.a.attachTo(document),d.a.attachTo(document)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var o=i("NcZX"),a=i("YBY8"),n=i("0QuB"),r=i("5hfi"),l=i("XUGN"),h=i("tpiW"),c=i("obLB"),d=i("+Jt5")},aRtI:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({scribeMediaGridResults:!1,mediaGalleryScribeComponent:"media_gallery",keepUnrenderedMediaItems:!1,numMediaItemsToKeep:30,gridNumRowsLimit:2,gridRowHeight:180,gridMargin:1.5,gridRowRatio:2.5,gridPanoramaRatio:3,gridContainerSelector:"#stream-items-id",mediaSelector:".AdaptiveStreamGridImage",mediaOverlaySelector:".media-overlay",requiredAttrsForGallery:["data-resolved-url-large","data-source-url","data-tweet-id","data-status-id","data-height","data-width","class"]}),this.renderAll=function(){clearTimeout(this.renderDelay),this.renderDelay=setTimeout(this.render.bind(this),20)},this.render=function(){this.currentRow=this.getCurrentRow();var t=this.getUnprocessedMedia();if(!t.length)return void this.scribeResults();for(var e=0,i=0,s=[],o=0;o<t.length;o++){if(this.attr.gridNumRowsLimit&&this.currentRow>this.attr.gridNumRowsLimit){if(this.attr.keepUnrenderedMediaItems&&o<this.attr.numMediaItemsToKeep){this.processHiddenMedia(t.eq(o));continue}t.slice(o).remove();break}var a=t.eq(o);!e&&(e=parseInt(a.attr("data-height")));var n=this.scaleGridMedia(a,e);isNaN(n)?a.remove():(i+=n,s.push(a),i/e>=this.attr.gridRowRatio&&(this.renderGridRow(s,i,e),this.currentRow++,this.setCurrentRow(),i=0,e=0,s=[]))}this.renderLastRow(),this.scribeResults()},this.getCurrentRow=function(){var t=parseInt(this.$node.attr("data-processed-rows"));return this.currentRow=t||1,this.currentRow},this.setCurrentRow=function(){this.$node.attr("data-processed-rows",this.currentRow)},this.processHiddenMedia=function(e){var i=this.attr.requiredAttrsForGallery,s=[];t.each(e[0].attributes,function(){this.specified&&i.indexOf(this.name)<0&&s.push(this.name)}),s.forEach(function(t){return e.removeAttr(t)}),e.attr("data-grid-processed","true"),e.hide(),e.empty()},this.scaleGridMedia=function(t,e,i){var s=parseInt(t.attr("data-height")),o=parseInt(t.attr("data-width")),a=e/s*o,n=s/o;return o/s>this.attr.gridPanoramaRatio&&(t.attr("data-pano","true"),a=e*this.attr.gridPanoramaRatio,n=1/this.attr.gridPanoramaRatio),t.attr({"scaled-width":a,"height-width-ratio":n}),i&&(t.height(e),t.width(a)),a},this.renderGridRow=function(e,i,s){var o=this,a=this.currentGridWidth-e.length*this.attr.gridMargin,n=a/i,r=s*n;t.each(e,function(e,i){var s=t(i),a=parseInt(s.attr("scaled-width"))*n,l=a/o.currentGridWidth;s.height(r),s.width(Math.round(a)),s.attr("scaled-width-ratio",l),s.attr("data-grid-processed","true"),s.addClass("enabled"),0===e&&s.addClass("clear"),1===o.currentRow&&s.addClass("first-row"),s.removeAttr("scaled-width"),o.renderMediaImage(s)})},this.renderLastRow=function(){var e=this,i=this.getUnprocessedMedia();i.length&&i.each(function(i,s){var o=t(s);e.scaleGridMedia(o,e.attr.gridRowHeight,!0),e.renderMediaImage(o),o.addClass("enabled")})},this.renderMediaImage=function(t){var e=this;if(!t.attr("data-loaded")){var i=function(i){return e.loadMediaSuccess(t,i)},s=function(){return e.loadMediaFail(t)};a.a.load(t.attr("data-resolved-url-small"),i,s)}},this.loadMediaSuccess=function(t,e){if(t.attr("data-pano")){var i=Math.round(t.height()/parseInt(t.attr("data-height"))*parseInt(t.attr("data-width")));e.width(i),e.css("margin-left",(t.width()-i)/2)}t.hide().prepend(e).fadeIn(),t.attr("data-loaded",!0)},this.loadMediaFail=function(t){this.markFailedMedia(t),t.remove()},this.markFailedMedia=function(t){var e=void 0;if(t.hasClass("clear")){if(e=t.next(this.attr.mediaSelector),!e.length)return}else for(e=t.prev(this.attr.mediaSelector);e.length&&!e.hasClass("clear");)e=e.prev(this.attr.mediaSelector);e.attr("data-grid-processed","false"),e.nextAll(this.attr.mediaSelector).attr("data-grid-processed","false"),e.nextAll(this.attr.mediaSelector).removeClass("clear"),clearTimeout(this.resetTimer),this.resetTimer=setTimeout(this.render.bind(this),50)},this.possiblyResizeMediaDimensions=function(){var t=this.currentGridWidth,e=this.getGridWidth(),i=this.getProcessedMedia();if(e===t||!i.length)return void this.trigger("uiMediaGridDidNotResize");for(var s=0;s<i.length;s++){var o=i.eq(s),a=parseFloat(o.attr("scaled-width-ratio")),n=parseFloat(o.attr("height-width-ratio"));if(!isNaN(a)&&!isNaN(n)){var r=a*e,l=n*r;if(o.attr("data-pano")){var h=o.find("img"),c=h.width()/t*e;h.width(Math.round(c)),h.css("margin-left",(r-c)/2)}o.width(Math.floor(r)),o.height(Math.floor(l))}}this.trigger("uiMediaGridDidResize"),this.currentGridWidth=e},this.getGridWidth=function(){var t=this.select("gridContainerSelector").length&&this.select("gridContainerSelector")[0];return Math.floor(t.getBoundingClientRect().width)},this.getMedia=function(){return this.select("mediaSelector")},this.getProcessedMedia=function(){return this.getMedia().filter('[data-grid-processed="true"]')},this.getUnprocessedMedia=function(){return this.getMedia().filter(':not([data-grid-processed="true"])')},this.getUnscribedMedia=function(){return this.getMedia().filter(':not([data-scribed="true"])[data-grid-processed="true"]')},this.openGallery=function(e){e.preventDefault(),e.stopPropagation();var i=t(e.target).closest(this.attr.mediaSelector),s=i.hasClass("video");this.trigger(e.target,"uiOpenGallery");var o=i.attr("data-url"),a=s?"video":"photo",n={url:o,mediaType:a,scribeContext:{component:this.attr.mediaGalleryScribeComponent}};this.trigger("uiMediaThumbnailClick",n)},this.scribeResults=function(){if(this.attr.scribeMediaGridResults){var e=this.getUnscribedMedia(),i={thumbnails:[],scribeContext:{component:this.attr.mediaGalleryScribeComponent}};t.each(e,function(e,s){i.thumbnails.push(t(s).attr("data-url")),t(s).attr("data-scribed",!0)}),this.trigger("uiMediaGalleryResults",i)}},this.after("initialize",function(){this.select("gridContainerSelector").length&&(this.possiblyResizeMediaDimensions(),this.currentGridWidth=this.getGridWidth(),this.render(),this.on("uiHasInjectedOldTimelineItems",this.renderAll),this.on("click",{mediaOverlaySelector:this.openGallery}),this.on(window,"resize",o.default.throttle(this.possiblyResizeMediaDimensions.bind(this),100)))})}var o=i("YzIt"),a=i("/zmn");e.a=s}).call(e,i("4kSj"))},aaCG:function(t,e,i){"use strict";function s(){this.defaultAttrs({confirmAgeChange:!1,gdprSoftBounceEnabled:!1,noShowError:!0}),this.saveField=function(t,e){this.fields[e.field]=e.newValue},this.clearFields=function(){this.fields={},this.birthdayChanged=!1,this.validationErrors=[]},this.addValidationError=function(t,e){this.validationErrors.push(e.message)},this.validateAndSaveProfile=function(t,e){if(t.preventDefault(),this.didBirthdayChange(t,this.fields)&&(this.birthdayChanged=!0,this.attr.confirmAgeChange)){this.trigger("uiUpdateProfileBirthdayPromptShown");var i=new Date(this.fields["user[birthdate][year]"],parseInt(this.fields["user[birthdate][month]"],10)-1,this.fields["user[birthdate][day]"]),s=i.toLocaleDateString(a.a.language,{month:"long",day:"numeric",year:"numeric"});return this.trigger("uiOpenConfirmDialog",{titleText:Object(r.default)("Confirm birth date"),bodyText:Object(r.default)("You are confirming that the birth date you entered, {{dateString}}, is accurate. If it’s not, your account may be affected.",{dateString:s}),cancelText:Object(r.default)("Cancel"),submitText:Object(r.default)("Confirm"),action:"UpdateBirthday"})}this.validateProfile()&&this.saveProfile(e)},this.didBirthdayChange=function(t,e){var i=Object.keys(e).some(function(t){return l.indexOf(t)>-1});return"uiUpdateBirthdayConfirm"!==t.type&&i&&!0},this.validateProfile=function(){return!(this.validationErrors.length>0)||(this.saveProfileFailed({message:this.validationErrors.join(", ")}),!1)},this.saveProfile=function(t){Object.keys(this.fields).length>0?(this.trigger("dataInlineEditSaveStarted"),this.fields.page_context=this.attr.pageName,this.fields.section_context=this.attr.sectionName,this.post({url:"/i/profiles/update",data:this.fields,eventData:t,success:this.saveProfileSucceeded.bind(this),error:this.saveProfileFailed.bind(this)})):this.trigger("dataInlineEditSaveSuccess")},this.saveProfileSucceeded=function(t){if(!0===t.error)return this.saveProfileFailed(t);this.birthdayChanged&&this.attr.gdprSoftBounceEnabled&&this.trigger("uiWantsGdprSoftBounceCheck"),this.trigger("dataInlineEditSaveSuccess",t),this.clearFields()},this.saveProfileFailed=function(t){this.trigger("dataInlineEditSaveError",t),this.clearFields()},this.after("initialize",function(){this.fields={},this.birthdayChanged=!1,this.validationErrors=[],this.on("uiEditProfileCancel",this.clearFields),this.on("uiInlineEditSave",this.saveField),this.on("uiInlineEditSaveValidationError",this.addValidationError),this.on("uiEditProfileSave uiUpdateBirthdayConfirm",this.validateAndSaveProfile)})}var o=i("DBjh"),a=i("v9EU"),n=i("VtWx"),r=i("0d4m");e.a=Object(o.default)(s,n.a);var l=["user[birthdate][day]","user[birthdate][month]","user[birthdate][year]"]},ar00:function(t,e,i){"use strict";function s(){this.shouldPerformRequest=function(t){return t&&(t.profileHead||t.isReplacement)},this.getLimit=function(t){return t.isReplacement?1:3},this.getHTML=function(t,e){function i(t){t.html&&(t.isReplacement=e.isReplacement,this.trigger("dataSuggestedUsersSuccess",t))}this.shouldPerformRequest(e)&&this.get({url:"/i/users/suggested_users",data:{user_id:e.userId,pc:!0,limit:this.getLimit(e),display_location:"cluster-follow"},eventData:e,success:i.bind(this),error:"dataSuggestedUsersFailure"})},this.scribeSuggestedUserResults=function(t,e){var i=e.isReplacement?"newer":"initial";this.scribeInteractiveResults({element:i,action:"results"},e.items,e,{referring_event:i,profile_id:e.user_id})},this.after("initialize",function(t,e){this.on("uiSuggestedUsersRendered",this.scribeSuggestedUserResults),this.on("uiFollowAction uiGetClusterFollowReplacementSuggestion",this.getHTML)})}var o=i("DBjh"),a=i("VtWx"),n=i("gcfh");e.a=Object(o.default)(s,a.a,n.a)},"b5/S":function(t,e,i){"use strict";function s(){this.defaultAttrs({itemType:"moment"}),this.after("initialize",function(){this.on("uiHasInjectedOldTimelineItems","uiMomentsHasInjectedNewItems")})}var o=i("4Pj3"),a=i("GbBZ"),n=i("G/SW"),r=i("xgWv"),l=i("El2S");e.a=o.a.mixin(s,a.a,n.a,r.a,l.a)},bgdb:function(t,e,i){"use strict";function s(){this.repositionPromotedItem=function(t){t.call(this,this.$promotedItem.detach())},this.after("initialize",function(){this.$promotedItem=this.$node.find(".promoted-tweet").first().closest(".stream-item")})}e.a=s},bnyz:function(t,e,i){/*! jQuery UI - v1.11.4 - 2016-06-20
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, draggable.js, resizable.js, slider.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
!function(e){var s=i("4kSj");!function(t){function e(e,s){var o,a,n,r=e.nodeName.toLowerCase();return"area"===r?(o=e.parentNode,a=o.name,!(!e.href||!a||"map"!==o.nodeName.toLowerCase())&&(!!(n=t("img[usemap='#"+a+"']")[0])&&i(n))):(/^(input|select|textarea|button|object)$/.test(r)?!e.disabled:"a"===r?e.href||s:s)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}/*!
 * jQuery UI Core 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),s="absolute"===i,o=e?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var e=t(this);return(!s||"static"!==e.css("position"))&&o.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&a.length?a:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var s=t.attr(i,"tabindex"),o=isNaN(s);return(o||s>=0)&&e(i,!o)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function s(e,i,s,a){return t.each(o,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),a&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var o="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),n={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?n["inner"+i].call(this):this.each(function(){t(this).css(a,s(this,e)+"px")})},t.fn["outer"+i]=function(e,o){return"number"!=typeof e?n["outer"+i].call(this,e):this.each(function(){t(this).css(a,s(this,e,!0,o)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,s){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),s&&s.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,s,o=t(this[0]);o.length&&o[0]!==document;){if(("absolute"===(i=o.css("position"))||"relative"===i||"fixed"===i)&&(s=parseInt(o.css("zIndex"),10),!isNaN(s)&&0!==s))return s;o=o.parent()}return 0}}),t.ui.plugin={add:function(e,i,s){var o,a=t.ui[e].prototype;for(o in s)a.plugins[o]=a.plugins[o]||[],a.plugins[o].push([i,s[o]])},call:function(t,e,i,s){var o,a=t.plugins[e];if(a&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;o<a.length;o++)t.options[a[o][0]]&&a[o][1].apply(t.element,i)}};/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
var s=0,o=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,o,a;for(a=0;null!=(o=i[a]);a++)try{s=t._data(o,"events"),s&&s.remove&&t(o).triggerHandler("remove")}catch(t){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var o,a,n,r,l={},h=e.split(".")[0];return e=e.split(".")[1],o=h+"-"+e,s||(s=i,i=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[h]=t[h]||{},a=t[h][e],n=t[h][e]=function(t,e){if(!this._createWidget)return new n(t,e);arguments.length&&this._createWidget(t,e)},t.extend(n,a,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),r=new i,r.options=t.widget.extend({},r.options),t.each(s,function(e,s){if(!t.isFunction(s))return void(l[e]=s);l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},o=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,a=this._superApply;return this._super=t,this._superApply=o,e=s.apply(this,arguments),this._super=i,this._superApply=a,e}}()}),n.prototype=t.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||e:e},l,{constructor:n,namespace:h,widgetName:e,widgetFullName:o}),a?(t.each(a._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,n,i._proto)}),delete a._childConstructors):i._childConstructors.push(n),t.widget.bridge(e,n),n},t.widget.extend=function(e){for(var i,s,a=o.call(arguments,1),n=0,r=a.length;n<r;n++)for(i in a[n])s=a[n][i],a[n].hasOwnProperty(i)&&void 0!==s&&(t.isPlainObject(s)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):e[i]=s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(a){var n="string"==typeof a,r=o.call(arguments,1),l=this;return n?this.each(function(){var i,o=t.data(this,s);return"instance"===a?(l=o,!1):o?t.isFunction(o[a])&&"_"!==a.charAt(0)?(i=o[a].apply(o,r),i!==o&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+a+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+a+"'")}):(r.length&&(a=t.widget.extend.apply(null,[a].concat(r))),this.each(function(){var e=t.data(this,s);e?(e.option(a||{}),e._init&&e._init()):t.data(this,s,new i(a,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=s++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,o,a,n=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(n={},s=e.split("."),e=s.shift(),s.length){for(o=n[e]=t.widget.extend({},this.options[e]),a=0;a<s.length-1;a++)o[s[a]]=o[s[a]]||{},o=o[s[a]];if(e=s.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];n[e]=i}return this._setOptions(n),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,s){var o,a=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=o=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,o=this.widget()),t.each(s,function(s,n){function r(){if(e||!0!==a.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof n?a[n]:n).apply(a,arguments)}"string"!=typeof n&&(r.guid=n.guid=n.guid||r.guid||t.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+a.eventNamespace,c=l[2];c?o.delegate(c,h,r):i.bind(h,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var o,a,n=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(o in a)o in i||(i[o]=a[o]);return this.element.trigger(i,s),!(t.isFunction(n)&&!1===n.apply(this.element[0],[i].concat(s))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,o,a){"string"==typeof o&&(o={effect:o});var n,r=o?!0===o||"number"==typeof o?i:o.effect||i:e;o=o||{},"number"==typeof o&&(o={duration:o}),n=!t.isEmptyObject(o),o.complete=a,o.delay&&s.delay(o.delay),n&&t.effects&&t.effects.effect[r]?s[e](o):r!==e&&s[r]?s[r](o.duration,o.easing,a):s.queue(function(i){t(this)[e](),a&&a.call(s[0]),i()})}});var a=(t.widget,!1);t(document).mouseup(function(){a=!1});t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!a){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,o=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(s&&!o&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),a=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),a=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});/*!
 * jQuery UI Draggable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */
t.widget("ui.draggable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging"))return void(this.destroyOnClear=!0);this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this._blurActiveElement(e),!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=this.document[0];if(this.handleElement.is(e.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&t(i.activeElement).blur()}catch(t){}},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(!1===this._trigger("drag",e,s))return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",e)&&i._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),o=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,o=this.options,a=this.document[0];return this.relativeContainer=null,o.containment?"window"===o.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,t(a).width()-this.helperProportions.width-this.margins.left,(t(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),i=t(o.containment),void((s=i[0])&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,o,a,n=this.options,r=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),n.grid&&(o=n.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/n.grid[1])*n.grid[1]:this.originalPageY,h=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-n.grid[1]:o+n.grid[1]:o,a=n.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/n.grid[0])*n.grid[0]:this.originalPageX,l=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-n.grid[0]:a+n.grid[0]:a),"y"===n.axis&&(l=this.originalPageX),"x"===n.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var o=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,o))})},stop:function(e,i,s){var o=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,o))})},drag:function(e,i,s){t.each(s.sortables,function(){var o=!1,a=this;a.positionAbs=s.positionAbs,a.helperProportions=s.helperProportions,a.offset.click=s.offset.click,a._intersectsWith(a.containerCache)&&(o=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&t.contains(a.element[0],this.element[0])&&(o=!1),o})),o?(a.isOver||(a.isOver=1,s._parent=i.helper.parent(),a.currentItem=i.helper.appendTo(a.element).data("ui-sortable-item",!0),a.options._helper=a.options.helper,a.options.helper=function(){return i.helper[0]},e.target=a.currentItem[0],a._mouseCapture(e,!0),a._mouseStart(e,!0,!0),a.offset.click.top=s.offset.click.top,a.offset.click.left=s.offset.click.left,a.offset.parent.left-=s.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=s.offset.parent.top-a.offset.parent.top,s._trigger("toSortable",e),s.dropped=a.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,a.fromOutside=s),a.currentItem&&(a._mouseDrag(e),i.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger("out",e,a._uiHash(a)),a._mouseStop(e,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var o=t("body"),a=s.options;o.css("cursor")&&(a._cursor=o.css("cursor")),o.css("cursor",a.cursor)},stop:function(e,i,s){var o=s.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var o=t(i.helper),a=s.options;o.css("opacity")&&(a._opacity=o.css("opacity")),o.css("opacity",a.opacity)},stop:function(e,i,s){var o=s.options;o._opacity&&t(i.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var o=s.options,a=!1,n=s.scrollParentNotHidden[0],r=s.document[0];n!==r&&"HTML"!==n.tagName?(o.axis&&"x"===o.axis||(s.overflowOffset.top+n.offsetHeight-e.pageY<o.scrollSensitivity?n.scrollTop=a=n.scrollTop+o.scrollSpeed:e.pageY-s.overflowOffset.top<o.scrollSensitivity&&(n.scrollTop=a=n.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(s.overflowOffset.left+n.offsetWidth-e.pageX<o.scrollSensitivity?n.scrollLeft=a=n.scrollLeft+o.scrollSpeed:e.pageX-s.overflowOffset.left<o.scrollSensitivity&&(n.scrollLeft=a=n.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(r).scrollTop()<o.scrollSensitivity?a=t(r).scrollTop(t(r).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<o.scrollSensitivity&&(a=t(r).scrollTop(t(r).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(r).scrollLeft()<o.scrollSensitivity?a=t(r).scrollLeft(t(r).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<o.scrollSensitivity&&(a=t(r).scrollLeft(t(r).scrollLeft()+o.scrollSpeed)))),!1!==a&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var o=s.options;s.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var o,a,n,r,l,h,c,d,u,f,m=s.options,p=m.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,b=i.offset.top,S=b+s.helperProportions.height;for(u=s.snapElements.length-1;u>=0;u--)l=s.snapElements[u].left-s.margins.left,h=l+s.snapElements[u].width,c=s.snapElements[u].top-s.margins.top,d=c+s.snapElements[u].height,v<l-p||g>h+p||S<c-p||b>d+p||!t.contains(s.snapElements[u].item.ownerDocument,s.snapElements[u].item)?(s.snapElements[u].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[u].item})),s.snapElements[u].snapping=!1):("inner"!==m.snapMode&&(o=Math.abs(c-S)<=p,a=Math.abs(d-b)<=p,n=Math.abs(l-v)<=p,r=Math.abs(h-g)<=p,o&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d,left:0}).top),n&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left)),f=o||a||n||r,"outer"!==m.snapMode&&(o=Math.abs(c-b)<=p,a=Math.abs(d-S)<=p,n=Math.abs(l-g)<=p,r=Math.abs(h-v)<=p,o&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d-s.helperProportions.height,left:0}).top),n&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left)),!s.snapElements[u].snapping&&(o||a||n||r||f)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[u].item})),s.snapElements[u].snapping=o||a||n||r||f)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var o,a=s.options,n=t.makeArray(t(a.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});n.length&&(o=parseInt(t(n[0]).css("zIndex"),10)||0,t(n).each(function(e){t(this).css("zIndex",o+e)}),this.css("zIndex",o+n.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var o=t(i.helper),a=s.options;o.css("zIndex")&&(a._zIndex=o.css("zIndex")),o.css("zIndex",a.zIndex)},stop:function(e,i,s){var o=s.options;o._zIndex&&t(i.helper).css("zIndex",o._zIndex)}});t.ui.draggable;/*!
 * jQuery UI Resizable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */
t.widget("ui.resizable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",o=!1;return e[s]>0||(e[s]=1,o=e[s]>0,e[s]=0,o)},_create:function(){var e,i,s,o,a,n=this,r=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;i<e.length;i++)s=t.trim(e[i]),a="ui-resizable-"+s,o=t("<div class='ui-resizable-handle "+a+"'></div>"),o.css({zIndex:r.zIndex}),this.handles[s]=".ui-resizable-"+s,this.element.append(o);this._renderAxis=function(e){var i,s,o,a;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:n._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(o,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){n.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),n.axis=o&&o[1]?o[1]:"se")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(t(this).removeClass("ui-resizable-autohide"),n._handles.show())}).mouseleave(function(){r.disabled||n.resizing||(t(this).addClass("ui-resizable-autohide"),n._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,s,o=!1;for(i in this.handles)((s=t(this.handles[i])[0])===e.target||t.contains(s,e.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(e){var i,s,o,a=this.options,n=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),a.containment&&(i+=t(a.containment).scrollLeft()||0,s+=t(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:n.width(),height:n.height()},this.originalSize=this._helper?{width:n.outerWidth(),height:n.outerHeight()}:{width:n.width(),height:n.height()},this.sizeDiff={width:n.outerWidth()-n.width(),height:n.outerHeight()-n.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),n.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s,o=this.originalMousePosition,a=this.axis,n=e.pageX-o.left||0,r=e.pageY-o.top||0,l=this._change[a];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[e,n,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var i,s,o,a,n,r,l,h=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),o=s&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,a=s?0:c.sizeDiff.width,n={width:c.helper.width()-a,height:c.helper.height()-o},r=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,h.animate||this.element.css(t.extend(n,{top:l,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!h.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,o,a,n=this.options;a={minWidth:this._isNumber(n.minWidth)?n.minWidth:0,maxWidth:this._isNumber(n.maxWidth)?n.maxWidth:1/0,minHeight:this._isNumber(n.minHeight)?n.minHeight:0,maxHeight:this._isNumber(n.maxHeight)?n.maxHeight:1/0},(this._aspectRatio||t)&&(e=a.minHeight*this.aspectRatio,s=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,o=a.maxWidth/this.aspectRatio,e>a.minWidth&&(a.minWidth=e),s>a.minHeight&&(a.minHeight=s),i<a.maxWidth&&(a.maxWidth=i),o<a.maxHeight&&(a.maxHeight=o)),this._vBoundaries=a},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,a=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,n=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,h=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return a&&(t.width=e.minWidth),n&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),a&&h&&(t.left=r-e.minWidth),s&&h&&(t.left=r-e.maxWidth),n&&c&&(t.top=l-e.minHeight),o&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],o=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)i[e]=parseInt(s[e],10)||0,i[e]+=parseInt(o[e],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize;return{top:this.originalPosition.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),s=i.options,o=i._proportionallyResizeElements,a=o.length&&/textarea/i.test(o[0].nodeName),n=a&&i._hasScroll(o[0],"left")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,l={width:i.size.width-r,height:i.size.height-n},h=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,c&&h?{top:c,left:h}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};o&&o.length&&t(o[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,s,o,a,n,r,l=t(this).resizable("instance"),h=l.options,c=l.element,d=h.containment,u=d instanceof t?d.get(0):/parent/.test(d)?c.parent().get(0):d;u&&(l.containerElement=t(u),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(u),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){i[t]=l._num(e.css("padding"+s))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=l.containerOffset,o=l.containerSize.height,a=l.containerSize.width,n=l._hasScroll(u,"left")?u.scrollWidth:a,r=l._hasScroll(u)?u.scrollHeight:o,l.parentData={element:u,left:s.left,top:s.top,width:n,height:r}))},resize:function(e){var i,s,o,a,n=t(this).resizable("instance"),r=n.options,l=n.containerOffset,h=n.position,c=n._aspectRatio||e.shiftKey,d={top:0,left:0},u=n.containerElement,f=!0;u[0]!==document&&/static/.test(u.css("position"))&&(d=l),h.left<(n._helper?l.left:0)&&(n.size.width=n.size.width+(n._helper?n.position.left-l.left:n.position.left-d.left),c&&(n.size.height=n.size.width/n.aspectRatio,f=!1),n.position.left=r.helper?l.left:0),h.top<(n._helper?l.top:0)&&(n.size.height=n.size.height+(n._helper?n.position.top-l.top:n.position.top),c&&(n.size.width=n.size.height*n.aspectRatio,f=!1),n.position.top=n._helper?l.top:0),o=n.containerElement.get(0)===n.element.parent().get(0),a=/relative|absolute/.test(n.containerElement.css("position")),o&&a?(n.offset.left=n.parentData.left+n.position.left,n.offset.top=n.parentData.top+n.position.top):(n.offset.left=n.element.offset().left,n.offset.top=n.element.offset().top),i=Math.abs(n.sizeDiff.width+(n._helper?n.offset.left-d.left:n.offset.left-l.left)),s=Math.abs(n.sizeDiff.height+(n._helper?n.offset.top-d.top:n.offset.top-l.top)),i+n.size.width>n.parentData.width&&(n.size.width=n.parentData.width-i,c&&(n.size.height=n.size.width/n.aspectRatio,f=!1)),s+n.size.height>n.parentData.height&&(n.size.height=n.parentData.height-s,c&&(n.size.width=n.size.height*n.aspectRatio,f=!1)),f||(n.position.left=n.prevPosition.left,n.position.top=n.prevPosition.top,n.size.width=n.prevSize.width,n.size.height=n.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,o=e.containerPosition,a=e.containerElement,n=t(e.helper),r=n.offset(),l=n.outerWidth()-e.sizeDiff.width,h=n.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(a.css("position"))&&t(this).css({left:r.left-o.left-s.left,width:l,height:h}),e._helper&&!i.animate&&/static/.test(a.css("position"))&&t(this).css({left:r.left-o.left-s.left,width:l,height:h})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})},resize:function(e,i){var s=t(this).resizable("instance"),o=s.options,a=s.originalSize,n=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-n.top||0,left:s.position.left-n.left||0};t(o.alsoResize).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),o={},a=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(a,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(o[e]=i||null)}),e.css(o)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.options,s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),s=i.options,o=i.size,a=i.originalSize,n=i.originalPosition,r=i.axis,l="number"==typeof s.grid?[s.grid,s.grid]:s.grid,h=l[0]||1,c=l[1]||1,d=Math.round((o.width-a.width)/h)*h,u=Math.round((o.height-a.height)/c)*c,f=a.width+d,m=a.height+u,p=s.maxWidth&&s.maxWidth<f,g=s.maxHeight&&s.maxHeight<m,v=s.minWidth&&s.minWidth>f,b=s.minHeight&&s.minHeight>m;s.grid=l,v&&(f+=h),b&&(m+=c),p&&(f-=h),g&&(m-=c),/^(se|s|e)$/.test(r)?(i.size.width=f,i.size.height=m):/^(ne)$/.test(r)?(i.size.width=f,i.size.height=m,i.position.top=n.top-u):/^(sw)$/.test(r)?(i.size.width=f,i.size.height=m,i.position.left=n.left-d):((m-c<=0||f-h<=0)&&(e=i._getPaddingPlusBorderDimensions(this)),m-c>0?(i.size.height=m,i.position.top=n.top-u):(m=c-e.height,i.size.height=m,i.position.top=n.top+a.height-m),f-h>0?(i.size.width=f,i.position.left=n.left-d):(f=h-e.width,i.size.width=f,i.position.left=n.left+a.width-f))}});t.ui.resizable,t.widget("ui.slider",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,o=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a=[];for(i=s.values&&s.values.length||1,o.length>i&&(o.slice(i).remove(),o=o.slice(0,i)),e=o.length;e<i;e++)a.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=o.add(t(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,s,o,a,n,r,l,h=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),o=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-h.values(e));(o>i||o===i&&(e===h._lastChangedValue||h.values(e)===c.min))&&(o=i,a=t(this),n=e)}),!1!==this._start(e,n)&&(this._mouseSliding=!0,this._handleIndex=n,a.addClass("ui-state-active").focus(),r=a.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-r.left-a.width()/2,top:e.pageY-r.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,n,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,o,a;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),s<0&&(s=0),"vertical"===this.orientation&&(s=1-s),o=this._valueMax()-this._valueMin(),a=this._valueMin()+s*o,this._trimAlignValue(a)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var s,o,a;this.options.values&&this.options.values.length?(s=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&i>s||1===e&&i<s)&&(i=s),i!==this.values(e)&&(o=this.values(),o[e]=i,a=this._trigger("slide",t,{handle:this.handles[e],value:i,values:o}),s=this.values(e?0:1),!1!==a&&this.values(e,i))):i!==this.value()&&!1!==(a=this._trigger("slide",t,{handle:this.handles[e],value:i}))&&this.value(i)},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var s,o,a;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(s=this.options.values,o=arguments[0],a=0;a<s.length;a+=1)s[a]=this._trimAlignValue(o[a]),this._change(null,a);this._refreshValue()},_setOption:function(e,i){var s,o=0;switch("range"===e&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(o=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!i),this._super(e,i),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;s<o;s+=1)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;s<i.length;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step;t=Math.floor(+(t-e).toFixed(this._precision())/i)*i+e,this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var e,i,s,o,a,n=this.options.range,r=this.options,l=this,h=!this._animateOff&&r.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=(l.values(s)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[h?"animate":"css"](c,r.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===s&&l.range.stop(1,1)[h?"animate":"css"]({left:i+"%"},r.animate),1===s&&l.range[h?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&l.range.stop(1,1)[h?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&l.range[h?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),o=this._valueMin(),a=this._valueMax(),i=a!==o?(s-o)/(a-o)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[h?"animate":"css"](c,r.animate),"min"===n&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:i+"%"},r.animate),"max"===n&&"horizontal"===this.orientation&&this.range[h?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===n&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:i+"%"},r.animate),"max"===n&&"vertical"===this.orientation&&this.range[h?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(e){var i,s,o,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),!1===this._start(e,a)))return}switch(o=this.options.step,i=s=this.options.values&&this.options.values.length?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:s=this._valueMin();break;case t.ui.keyCode.END:s=this._valueMax();break;case t.ui.keyCode.PAGE_UP:s=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:s=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;s=this._trimAlignValue(i+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;s=this._trimAlignValue(i-o)}this._slide(e,a,s)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})}(s),t.exports=s}()},cZ99:function(t,e,i){"use strict";function s(){this.defaultAttrs({viewAllSelector:".ProfilePage-moduleLink",imageSelector:".media-overlay"}),this.after("initialize",function(){this.on("click",{viewAllSelector:function(t){this.trigger(this.select("imageSelector")[0],"uiOpenGallery",{title:Object(a.default)("Gallery"),inOverlay:this.attr.inOverlay})}})})}var o=i("DBjh"),a=i("0d4m"),n=i("aRtI");e.a=Object(o.default)(s,n.a)},dDG0:function(t,e,i){"use strict";function s(){this.defaultAttrs({tweetStatTitleSelector:".ProfileNav-item--tweets .ProfileNav-stat--link",tweetStatSelector:".ProfileNav-item--tweets .ProfileNav-value",mediaStatTitleSelector:".ProfileNav-item--media .ProfileNav-stat--link",mediaStatSelector:".ProfileNav-item--media .ProfileNav-value",followingStatTitleSelector:".ProfileNav-item--following .ProfileNav-stat--link",followingStatSelector:".ProfileNav-item--following .ProfileNav-value",followerStatTitleSelector:".ProfileNav-item--followers .ProfileNav-stat--link",followerStatSelector:".ProfileNav-item--followers .ProfileNav-value",favoriteStatTitleSelector:".ProfileNav-item--favorites .ProfileNav-stat--link",favoriteStatSelector:".ProfileNav-item--favorites .ProfileNav-value"}),this.updateProfileStats=function(t,e){var i=this;e.stats&&e.stats.forEach(function(t){if(i.$node.attr("data-user-id")===t.user_id.toString()){var e=i.select(t.stat+"StatSelector"),s=i.select(t.stat+"StatTitleSelector"),o=void 0,r=void 0;if(void 0===t.delta)o=t.highline_stat_value,r=t.highline_stat_phrase;else{var l=e.data("count"),h=l+t.delta;h=h<0?0:h,e.data("count",h);var c=a.a.getProfileStats(t.stat,h,t.user_id,n.a.language);o=c.highline_stat_value,r=c.highline_stat_phrase}!0!==e.data("is-compact")&&e.html(o),s.tooltip("setTitle",r)}})},this.after("initialize",function(){this.on(document,"dataGotProfileStats",this.updateProfileStats)})}var o=i("DBjh"),a=i("uI0b"),n=i("v9EU");e.a=Object(o.default)(s)},dM3d:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({win:window,listItemSelector:".list-follow-card",listDataAttr:"data-list-id",editSelector:".js-edit-list-action",subscribeSelector:".js-subscribe-list-action",subscribeClass:"is-subscribed",subscribeClassesForToggle:"is-subscribed js-unfollow-list-action",unsubscribeClassesForToggle:"is-unsubscribed js-follow-list-action",featureListSelector:".js-feature-list-action",featuredListClass:"is-featured",unfeaturedListClass:"is-unfeatured",featureClassesForToggle:"is-featured js-unpin-list-action",unfeatureClassesForToggle:"is-unfeatured js-pin-list-action",deleteSelector:".js-delete-list-action",rerenderListItem:!1,redirectToListPermalinkOnEdit:!1,removeFeaturedListFromPageOnUnfeature:!1}),this.handleAction=function(e,i,s){var o=this;return function(a,r){var l=o.findListByProximity(t(a.target)),h={list_id:o.getListId(l)},c=void 0;e===o.attr.subscribeClass?(c=l.hasClass(o.attr.subscribeClass)?"unsubscribe":"subscribe",h=n({},h,{action:c})):e===o.attr.featuredListClass&&(c=l.hasClass(o.attr.featuredListClass)?"unfeature":"feature",h=n({},h,{action:c}));var d=l.hasClass(e)?i:s;o.trigger(l,d,h),e===o.attr.subscribeClass&&o.setSubscribeState(a,{sourceEventData:h})}},this.handleTransition=function(t,e){var i=this;return function(s,o){i.findListFromEventData(o)[t](e)}},this.findListFromEventData=function(t){var e=t.list_id||t.sourceEventData.list_id;return this.findListById(this.$node,e)},this.findListById=function(t,e){var i=this.attr.listItemSelector+"["+this.attr.listDataAttr+"="+e+"]";return t.find(i)},this.findListByProximity=function(t){return t.closest(this.attr.listItemSelector)},this.getListId=function(t){return t.attr(this.attr.listDataAttr)},this.updateFollowCard=function(t,e){e.follow_card_html&&this.select("listItemSelector").html(e.follow_card_html)},this.triggerEditListDialog=function(){this.trigger("uiOpenUpdateListDialog",{})},this.setSubscribeStateOnSuccess=function(t,e){this.setSubscribeState(t,e),this.attr.rerenderListItem&&this.trigger("uiRefreshFollowCard",e)},this.setSubscribeState=function(t,e){"unsubscribe"===e.sourceEventData.action?this.setListStateToUnsubscribed(t,e):this.setListStateToSubscribed(t,e)},this.revertSubscribeState=function(t,e){"unsubscribe"===e.sourceEventData.action?this.setListStateToSubscribed(t,e):this.setListStateToUnsubscribed(t,e)},this.setListStateToSubscribed=function(t,e){var i=this.select("subscribeSelector");this.findListFromEventData(e).addClass(this.attr.subscribeClass),i.removeClass(this.attr.unsubscribeClassesForToggle).addClass(this.attr.subscribeClassesForToggle)},this.setListStateToUnsubscribed=function(t,e){var i=this.select("subscribeSelector");this.findListFromEventData(e).removeClass(this.attr.subscribeClass),i.removeClass(this.attr.subscribeClassesForToggle).addClass(this.attr.unsubscribeClassesForToggle)},this.refreshList=function(t,e){e&&(this.attr.redirectToListPermalinkOnEdit&&e.slug?this.attr.win.location="/"+this.attr.screenName+"/lists/"+e.slug:this.reloadPage())},this.reloadPage=function(t,e){this.attr.win.location.reload(!0)},this.triggerDelete=function(t,e){this.trigger("uiDeleteList",{list_id:this.attr.list_id})},this.redirectToLists=function(){this.attr.win.location="/"+this.attr.screenName+"/lists"},this.confirmUserFeatureListToggle=function(t){return function(e){e.stopImmediatePropagation(),this.trigger(e.target,"uiOpenConfirmDialog",{titleText:t?Object(a.default)("Pin this list on your profile page"):Object(a.default)("Unpin this list from your profile"),bodyText:t?Object(a.default)("This will replace any previously pinned list. Are you sure?"):Object(a.default)("This will remove any previously pinned list. Are you sure?"),cancelText:Object(a.default)("Cancel"),submitText:t?Object(a.default)("Pin"):Object(a.default)("Unpin"),action:"UserFeatureListToggle"})}},this.triggerDeleteListDialog=function(){this.trigger("uiOpenConfirmDialog",{titleText:Object(a.default)("Are you sure you want to delete this list?"),cancelText:Object(a.default)("No"),submitText:Object(a.default)("Yes"),action:"DeleteList"})},this.toggledFeaturedList=function(t,e){var i=this.findListFromEventData(e),s=i.find(this.attr.featureListSelector);"unfeature"===e.sourceEventData.action?this.attr.removeFeaturedListFromPageOnUnfeature?i.slideUp("300",function(){return i.remove()}):(i.removeClass(this.attr.featuredListClass),s.removeClass(this.attr.featureClassesForToggle).addClass(this.attr.unfeatureClassesForToggle)):(this.unfeatureOtherLists(t,e),i.addClass(this.attr.featuredListClass),s.removeClass(this.attr.unfeatureClassesForToggle).addClass(this.attr.featureClassesForToggle)),this.showUserFeaturedListToggledMessage(t,e)},this.unfeatureOtherLists=function(t,e){this.select("listItemSelector").find(this.attr.featureListSelector).removeClass(this.attr.featuredListClass).addClass(this.attr.unfeaturedListClass)},this.showUserFeaturedListToggledMessage=function(t,e){this.trigger("uiShowStickyMessage",e)},this.after("initialize",function(){this.on("click",{editSelector:this.triggerEditListDialog,deleteSelector:this.triggerDeleteListDialog,subscribeSelector:this.handleAction(this.attr.subscribeClass,"uiUnsubscribeFromList","uiSubscribeToList"),featureListSelector:this.handleAction(this.attr.featuredListClass,"uiNeedUserUnfeatureListDialog","uiNeedUserFeatureListDialog")}),this.on(document,"uiUserFeatureListToggleConfirm",this.handleAction(this.attr.featuredListClass,"uiDidUserUnfeatureList","uiDidUserFeatureList")),this.on(document,"uiDidUserFeatureList dataFailedToUserUnfeatureList",this.handleTransition("addClass",this.attr.featuredListClass)),this.on(document,"uiDidUserUnfeatureList dataFailedToUserFeatureList",this.handleTransition("removeClass",this.attr.featuredListClass)),this.on(document,"uiNeedUserFeatureListDialog",this.confirmUserFeatureListToggle(!0)),this.on(document,"uiNeedUserUnfeatureListDialog",this.confirmUserFeatureListToggle(!1)),this.on(document,"dataDidUserFeatureList dataDidUserUnfeatureList",this.toggledFeaturedList),this.on(document,"uiDeleteListConfirm",this.triggerDelete),this.on(document,"dataDidUpdateList",this.refreshList),this.on(document,"dataGotFollowCard",this.updateFollowCard),this.on(document,"dataDidSubscribeToList",this.setSubscribeStateOnSuccess),this.on(document,"dataFailedToSubscribeToList",this.revertSubscribeState),this.on(document,"dataDidDeleteList",this.redirectToLists)})}var o=i("DBjh"),a=i("0d4m"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r=Object(o.default)(s);e.a=r}).call(e,i("4kSj"))},"dP/W":function(t,e,i){"use strict";function s(){this.defaultAttrs({tweetButtonSelector:".js-tweet-btn",tweetTextSelector:".js-tweet-text"}),this.sendTweet=function(t,e){this.$node.addClass("is-sending"),this.$tweetButton.addClass("disabled"),this.trigger("uiSendPrefilledTweet"),this.trigger("uiSendTweet",{tweetboxId:this.tweetboxId,tweetData:{status:this.tweetText}})},this.handleTweetResponse=function(t){var e=this;return function(i,s){s.tweetboxId===e.tweetboxId&&t.call(e,i,s)}},this.tweetSent=function(t,e){this.trigger(e.unusual?"uiShowStickyMessage":"uiShowMessage",{message:e.message}),this.trigger("uiTweetSent",e),this.$node.remove()},this.tweetError=function(t,e){this.trigger("uiShowError",{message:e.error||e.message}),this.$node.removeClass("is-sending"),this.$tweetButton.removeClass("disabled")},this.after("initialize",function(){this.$tweetButton=this.select("tweetButtonSelector"),this.tweetText=this.select("tweetTextSelector").text(),this.tweetboxId="prefilled_tweet_"+this.identity,this.on("click",{tweetButtonSelector:this.sendTweet}),this.on(document,"dataTweetSuccess",this.handleTweetResponse(this.tweetSent)),this.on(document,"dataTweetError",this.handleTweetResponse(this.tweetError))})}var o=i("DBjh");e.a=Object(o.default)(s)},e6X4:function(t,e,i){"use strict";function s(){this.defaultAttrs({connectOtherSelector:".js-connect-other",otherServicesSelector:".other-services"}),this.toggleOtherServices=function(){var t=this.select("otherServicesSelector"),e=void 0;t.hasClass("hidden")?(t.removeClass("hidden"),e="open"):(t.addClass("hidden"),e="close"),this.trigger("uiWTFImportPromptToggle",{action:e})},this.after("initialize",function(){this.trigger("uiWTFImportPromptImpression"),this.on("click",{connectOtherSelector:this.toggleOtherServices})})}e.a=s},eDty:function(t,e,i){"use strict";function s(){this.setUserColor=function(t){this.trigger("uiOverrideUserCss",{color:t}),this.$node.attr("data-color",t)},this.saveOldColor=function(){this.oldColor=this.$node.attr("data-color")},this.setNewColor=function(t,e){this.$node.is(e.targetSelector)&&this.setUserColor(e.hex)},this.syncValue=function(){var t=this.$node.attr("data-color");this.oldColor!==t&&this.trigger("uiInlineEditSave",{newValue:t,field:this.$node.attr("name")})},this.resetOldColor=function(){this.oldColor&&this.setUserColor(this.oldColor)},this.hideColorPicker=function(){this.trigger("uiHideColorPicker")},this.after("initialize",function(){this.on(document,"uiEditProfileStart uiEditProfileSuccess",this.saveOldColor),this.on(document,"uiColorPicked uiColorPreview",this.setNewColor),this.on(document,"uiEditProfileSaveFields",this.syncValue),this.on(document,"uiEditProfileCancel uiBeforePageChanged",this.resetOldColor),this.on(document,"uiEditProfileSuccess uiEditProfileCancel uiBeforePageChanged",this.hideColorPicker)})}var o=i("DBjh");e.a=Object(o.default)(s)},"eNG/":function(t,e,i){"use strict";function s(){this.after("initialize",function(){this.scribeOnEvent("uiDropped",{action:"drag_and_drop"})})}var o=i("DBjh"),a=i("3oDc");e.a=Object(o.default)(s,a.a)},eQsE:function(t,e,i){"use strict";function s(){this.requestItems=function(t,e){var i={},s={min_position:e.min_position,max_position:e.max_position,for_photo_rail:e.for_photo_rail};this.get({url:this.attr.endpoint,headers:i,data:s,eventData:e,success:"dataGotMoreMediaTimelineItems",error:"dataGotMoreMediaTimelineItemsError"})},this.after("initialize",function(){this.on(document,"uiWantsMoreMediaTimelineItems",this.requestItems)})}var o=i("DBjh"),a=i("VtWx");e.a=Object(o.default)(s,a.a)},"eo6+":function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({cancelProfileButtonSelector:".cancel-profile-btn",saveProfileButtonSelector:".save-profile-btn",saveProfileFooterSelector:".save-profile-footer",bioProfileFieldSelector:".bio.profile-field",locationSelector:".location",urlProfileFieldSelector:".url .profile-field",dividerSelector:".location-and-url .divider",anchorSelector:"a",ignoreInTabIndex:".js-tooltip",keepTabIndexSelector:".js-keepTabIndex",tooltipSelector:".js-tooltip",updateSaveMessage:Object(o.default)("Your profile has been saved."),scrollResetDuration:300,profileSavingClass:"profile-saving",profileEditingClass:"profile-editing",updateErrorMessage:Object(o.default)("There was an error updating your profile."),useProfileErrorDialog:!0,firstActiveControlSelector:".ProfileCanopy",lastActiveControlSelector:".ProfilePage-editingButtons",firstEditableFieldSelector:".ProfileHeaderCardEditing",birthdateFieldSelector:".ProfileHeaderCard-birthdateText",birthdateContainerSelector:".ProfileHeaderCard-birthdate",nameProfileFieldSelector:".ProfileHeaderCard-nameLink",endEditOnSave:!0,onProfile:!0}),this.saveProfile=function(t,e){t.preventDefault(),this.trigger("uiEditProfileSaveFields"),this.trigger("uiEditProfileSave")},this.cancelProfileEditing=function(e,i){e.preventDefault();var s=t(e.target).attr("data-scribe-element");this.trigger("uiEditProfileCancel",{scribeContext:{element:s}}),this.trigger("uiEditProfileEnd")},this.isEditing=function(){return this.$body.hasClass(this.attr.profileEditingClass)},this.editModeOn=function(){var t=this;this.attr.onProfile&&(Object(a.a)(0,this.attr.scrollResetDuration,function(){return t.trigger(document,"uiProfileEditingOn")}),this.calculateScrollbarWidth(),this.$body.addClass(this.attr.profileEditingClass))},this.editModeOff=function(){this.$body.removeClass(this.attr.profileEditingClass),this.trigger(document,"uiProfileEditingOff")},this.fieldEditingModeOn=function(){this.$body.addClass("profile-field-editing"),this.select("dividerSelector").show()},this.fieldEditingModeOff=function(){this.$body.removeClass("profile-field-editing"),Object(l.a)(this.$node,this.attr.dividerSelector,this.attr.locationSelector,this.attr.urlProfileFieldSelector)},this.catchAnchorClicks=function(e){var i="_blank"===t(e.target).attr("target");this.isEditing()&&!i&&e.preventDefault()},this.focusFirstActiveControl=function(t){this.focusNextAvailableControl("first",this.select("firstActiveControlSelector")),t.preventDefault()},this.focusLastActiveControl=function(t){this.focusNextAvailableControl("last",this.select("lastActiveControlSelector")),t.preventDefault()},this.disabledTabbing=function(){this.select("ignoreInTabIndex").not(this.attr.keepTabIndexSelector).attr("tabindex","-1"),this.createFirstLastTabStop(this.$node,1,4),this.focusNextAvailableControl("first",this.select("firstEditableFieldSelector")),this.on(this.$node.find(this.attr.lastTabStopSelector),"focus",this.focusFirstActiveControl),this.on(this.$node.find(this.attr.firstTabStopSelector),"focus",this.focusLastActiveControl)},this.enableTabbing=function(){this.select("ignoreInTabIndex").not(this.attr.keepTabIndexSelector).removeAttr("tabindex"),this.removeFirstLastTabStop(this.$node),this.off(this.$node.find(this.attr.lastTabStopSelector),"focus",this.focusFirstActiveControl),this.off(this.$node.find(this.attr.firstTabStopSelector),"focus",this.focusLastActiveControl)},this.saving=function(){this.$body.addClass(this.attr.profileSavingClass)},this.handleError=function(t,e){this.doneSaving(),this.fieldEditingModeOn();var i={message:e.message||this.attr.updateErrorMessage};this.trigger("uiShowProfileEditError",i),this.attr.useProfileErrorDialog||this.trigger("uiShowError",i)},this.savingError=function(t,e){n.default.setTimeoutEvent("uiHandleSaveError",1e3,{message:e.message})},this.saveSuccess=function(t,e){this.doneSaving(),this.trigger("uiShowMessage",{message:this.attr.updateSaveMessage}),this.trigger("uiEditProfileSuccess")},this.doneSaving=function(){this.$body.removeClass(this.attr.profileSavingClass)},this.disableTooltips=function(){this.select("tooltipSelector").tooltip("disable").tooltip("hide")},this.enableTooltips=function(){this.select("tooltipSelector").tooltip("enable")},this.finishedProcessing=function(t,e){e&&(e.emojified_name&&this.select("nameProfileFieldSelector").html(e.emojified_name),e.linkified_description&&this.select("bioProfileFieldSelector").html(e.linkified_description),e.user_url&&this.select("urlProfileFieldSelector").html(e.user_url),e.has_birthdate&&e.birthdate&&(this.select("birthdateFieldSelector").html(e.birthdate),e.autoplay_balloon_animation&&this.trigger("uiBalloonAnimationRequested",{autoplay:!0})),void 0!==e.has_birthdate&&(this.select("birthdateContainerSelector").toggleClass(this.attr.hiddenClass,!e.has_birthdate),this.trigger("uiBirthdateSelectGotTitle",{title:e.formatted_birthdate,has_birthdate:e.has_birthdate}))),this.attr.endEditOnSave&&this.trigger("uiEditProfileEnd")},this.after("initialize",function(){this.$body=t("body"),this.on("click",{cancelProfileButtonSelector:this.cancelProfileEditing,saveProfileButtonSelector:this.saveProfile,anchorSelector:this.catchAnchorClicks}),this.on("uiEditProfileStart",this.editModeOn),this.on("uiEditProfileEnd",this.editModeOff),this.on("uiEditProfileStart",this.disableTooltips),this.on("uiEditProfileEnd",this.enableTooltips),this.on("uiEditProfileStart",this.fieldEditingModeOn),this.on("uiEditProfileSave",this.fieldEditingModeOff),this.on("uiEditProfileEnd",this.fieldEditingModeOff),this.on("uiEditProfileStart",this.disabledTabbing),this.on("uiEditProfileEnd",this.enableTabbing),this.on(document,"dataInlineEditSaveStarted",this.saving),this.on(document,"dataInlineEditSaveSuccess",this.saveSuccess),this.on(document,"dataInlineEditSaveError",this.savingError),this.on(document,"uiHandleSaveError",this.handleError),this.on(document,"dataInlineEditSaveSuccess",this.finishedProcessing)})}var o=i("0d4m"),a=i("lV5l"),n=i("r8Bt"),r=i("DBjh"),l=i("Qqke"),h=i("fANY"),c=i("exje"),d=i("mRBi");e.a=Object(r.default)(s,d.a,h.a,c.a)}).call(e,i("4kSj"))},f0ww:function(t,e,i){"use strict";(function(t){function i(){this.addPopover=function(t){this.$popover?this.hideAndClearPopover():this.initializePopover(),this.$popoverText.html(t),this.$node.append(this.$popover)},this.hideAndClearPopover=function(){this.$popover&&this.$popoverText&&(this.$popover.remove(),this.$popoverText.empty())},this.initializePopover=function(){this.$popover=t('<div class="Popover"><div class="Popover-text"></div></div>"'),this.$popoverText=this.$popover.children(),this.$node.addClass("Popover-container"),this.on(this.$popover,"click",this.hideAndClearPopover)}}e.a=i}).call(e,i("4kSj"))},fANY:function(t,e,i){"use strict";(function(t){function s(){o.default.mixin(this,[a.a]),this.defaultAttrs({avatarSelector:".avatar:first",avatarContainerSelector:".profile-picture:first",avatarPlaceholderSelector:".profile-picture-placeholder",hiddenClass:"hidden",removeFromPreview:".profile-editing-dialogs, .edit-header-target, input, label, textarea, .controls, .inline-edit-icon",avatarEditingSelector:".ProfileAvatarEditing",headerImageUploadDialogSelector:"#header_image_upload_dialog",headerCropperSelector:"#header_image_upload_dialog .cropper-mask",profileHeaderEditingClass:"is-editingHeader",profileHeaderInnerSelector:".ProfileCanopy-header",profileHeaderImageContainerSelector:".ProfileCanopy-headerBg",profileHeaderImageSelector:".ProfileCanopy-headerBg img",headerEditingSelector:".ProfileHeaderEditing",hasHeaderClass:"is-withHeader",iframeSavingClass:"is-iframeSaving"}),this.editHeaderModeOn=function(){this.$body.addClass(this.attr.profileHeaderEditingClass),this.hideHeaderOptions()},this.editHeaderModeOff=function(){this.$body.removeClass(this.attr.profileHeaderEditingClass),this.removeHeaderPreview()},this.removeHeaderPreview=function(){this.$headerPreview&&this.$headerPreview.remove()},this.updateImage=function(t,e){var i=e.status;this.isOfType("header",e)&&this.updateHeader(i),this.isOfType("avatar",e)&&(this.select("avatarSelector").attr("src",i),this.showAvatar())},this.updateHeader=function(t){var e=this.select("profileHeaderImageSelector");e.attr("src",t),e.removeClass(this.attr.hiddenClass),this.trigger("uiProfileHeaderUpdated"),this.select("headerEditingSelector").addClass(this.attr.hasHeaderClass)},this.useDefaultHeader=function(){this.select("profileHeaderImageSelector").addClass(this.attr.hiddenClass),this.select("headerEditingSelector").removeClass(this.attr.hasHeaderClass),this.trigger("uiProfileHeaderUpdated")},this.hasHeader=function(){return this.select("headerEditingSelector").hasClass(this.attr.hasHeaderClass)},this.showAvatar=function(){this.select("avatarContainerSelector").removeClass(this.attr.hiddenClass),this.select("avatarPlaceholderSelector").addClass(this.attr.hiddenClass),this.trigger("uiProfileAvatarUpdated"),this.select("avatarEditingSelector").addClass("is-withAvatar")},this.showAvatarPlaceholder=function(){this.select("avatarContainerSelector").addClass(this.attr.hiddenClass),this.select("avatarPlaceholderSelector").removeClass(this.attr.hiddenClass),this.trigger("uiProfileAvatarUpdated"),this.select("avatarEditingSelector").removeClass("is-withAvatar")},this.showDefaultImage=function(t,e){this.isOfType("avatar",e)&&this.showAvatarPlaceholder(),this.isOfType("header",e)&&this.useDefaultHeader()},this.isOfType=function(t,e){if(e)return e.sourceEventData&&e.sourceEventData.uploadType===t||e.uploadType===t},this.showLargeCanopy=function(){this.trigger("uiShowLargeCanopy")},this.showNormalCanopy=function(){this.trigger(this.hasHeader()?"uiShowLargeCanopy":"uiShowSmallCanopy")},this.showSavingHelp=function(t,e){this.isOfType("header",e)?this.select("headerEditingSelector").addClass(this.attr.iframeSavingClass):this.isOfType("avatar",e)&&this.select("avatarEditingSelector").addClass(this.attr.iframeSavingClass)},this.hideSavingHelp=function(t,e){this.isOfType("header",e)?this.select("headerEditingSelector").removeClass(this.attr.iframeSavingClass):this.isOfType("avatar",e)&&this.select("avatarEditingSelector").removeClass(this.attr.iframeSavingClass)},this.after("initialize",function(){this.$body=t("body"),this.on("uiDialogOpened",{headerImageUploadDialogSelector:this.editHeaderModeOn}),this.on("uiDialogClosed",{headerImageUploadDialogSelector:this.editHeaderModeOff}),this.on(document,"dataSaveImageSuccess",this.updateImage),this.on(document,"dataDeleteImageSuccess",this.showDefaultImage),this.on(document,"uiEditProfileStart",this.showLargeCanopy),this.on(document,"uiEditProfileEnd",this.showNormalCanopy),this.on(document,"dataLegacySaveImageStart",this.showSavingHelp),this.on(document,"dataLegacySaveImageFinish",this.hideSavingHelp)})}var o=i("q9/C"),a=i("HdFY");e.a=s}).call(e,i("4kSj"))},fBID:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({blockOrUnblockSelector:".js-blockMomentAuthor, .js-unblockMomentAuthor",blockSelector:".js-blockMomentAuthor",unblockSelector:".js-unblockMomentAuthor",reportSelector:".js-reportMoment",hiddenClass:"u-hidden"}),this.onBlockOrUnblock=function(e,i){var s=t(i.target).closest(this.attr.blockOrUnblockSelector),o={target:"user",userId:s.attr("data-user-id"),screenName:s.attr("data-screen-name")};switch(e){case a.BLOCK:this.trigger("uiNeedsBlockDialog",o),this.blockUserId=o.userId;break;case a.UNBLOCK:this.trigger("uiUnblockAction",o),this.toggleBlockButtons(a.UNBLOCK),this.trigger("uiCloseDropdowns")}},this.onAuthorBlocked=function(t,e){this.blockUserId===e.userId&&(this.toggleBlockButtons(a.BLOCK),this.blockUserId=null)},this.toggleBlockButtons=function(t){this.select("blockSelector").toggleClass(this.attr.hiddenClass,t===a.BLOCK),this.select("unblockSelector").toggleClass(this.attr.hiddenClass,t===a.UNBLOCK)},this.onReport=function(e,i){var s=t(e.target).attr("data-moment-id"),o=t(e.target).attr("data-cover-tweet-id"),a=t(e.target).attr("data-reported-user-id");this.trigger("uiNeedsReportDialog",{target:"moment",momentId:s,tweetId:o,userId:a})},this.after("initialize",function(){this.on("click",{blockSelector:this.onBlockOrUnblock.bind(this,a.BLOCK),unblockSelector:this.onBlockOrUnblock.bind(this,a.UNBLOCK),reportSelector:this.onReport}),this.on(document,"uiDidTriggerBlockingAction",this.onAuthorBlocked)})}var o=i("DBjh");e.a=Object(o.default)(s);var a={BLOCK:"block",UNBLOCK:"unblock"}}).call(e,i("4kSj"))},g2cS:function(t,e,i){"use strict";function s(){this.defaultAttrs({tooltipName:void 0}),this.showTooltip=function(){this.$node.tooltip("show"),this.setCookie()},this.hideTooltip=function(){this.$node.tooltip("hide")},this.hasCookie=function(){return!!Object(a.a)(this.cookieKey)},this.setCookie=function(){Object(a.a)(this.cookieKey,!0,{expires:1/0})},this.after("initialize",function(){this.cookieKey="moments_"+this.attr.tooltipName,this.attr.tooltipName&&!this.hasCookie()&&(this.showTooltip(),this.on(document,"click",this.hideTooltip))})}var o=i("DBjh"),a=i("dsp6");e.a=Object(o.default)(s)},g2j4:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({editButtonSelector:".ProfileNav .UserActions-editButton",scribeContext:{}}),this.scribeAction=function(e){var i=n({},this.attr.scribeContext,{action:e});return function(e,s){i.element=t(e.target).closest("button").attr("data-scribe-element"),this.scribe(i)}},this.after("initialize",function(){this.on("click",{editButtonSelector:this.scribeAction("click")})})}var o=i("DBjh"),a=i("3oDc"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(o.default)(s,a.a)}).call(e,i("4kSj"))},g5oN:function(t,e,i){"use strict";function s(){this.namespace="follower_requests_reminder",this.storageKey="until",this.possiblyShowMessage=function(){this.isExpired(this.storageKey)&&(this.showMessage(),this.clear(),this.updateComponentTTL())},this.showMessage=function(){this.trigger("uiShowStickyMessage",{message:this.attr.followerRequestsReminderMessage})},this.updateComponentTTL=function(){"selenium"===this.attr.environment?this.updateTTL(this.storageKey,2e4):this.updateTTL(this.storageKey,864e5)},this.after("initialize",function(){this.on(document,"uiSwiftLoaded uiPageChanged",this.possiblyShowMessage)})}var o=i("DBjh"),a=i("KHYl");e.a=Object(o.default)(s,a.a)},hODd:function(t,e,i){"use strict";function s(){this.defaultAttrs({itemType:"tweet"})}var o=i("8mUk"),a=i("G/SW"),n=i("AN05"),r=i("TTiE"),l=i("OuLQ"),h=i("9qF2");e.a=o.a.mixin(s,a.a,r.a,l.a,h.a,n.a)},hYUW:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({userSelector:".js-actionable-user",itemType:"user"}),this.scribeDismissRecommendation=function(t,e){this.scribeInteraction("dismiss",e.oldUser),e.newUser&&this.scribeInteraction({element:"replace",action:"results"},e.newUser,{referring_event:"replace"})},this.scribeRecommendationResults=function(e,i){var s=this,o=[];e.emptyResponse||this.$node.find(this.attr.userSelector).map(function(e,i){return o.push(s.interactionData(t(i),{position:e}))});var a=e.emptyResponse?"no_results":"results";this.scribeInteractiveResults({element:i,action:a},o,e,{referring_event:i})},this.scribeRecommendations=function(t,e){var i=e.sourceEventData||{};e.initialResults||i.initialResults?(this.scribeRecommendationResults(e,"initial"),e.emptyResponse||this.scribeRecommendationImpression(e)):(this.scribe({action:"refresh"},e,{event_info:i.refreshType}),this.scribeRecommendationResults(e,"newer"))},this.scribeEmptyRecommendationsResponse=function(t,e){this.scribeRecommendations(t,r({},e,{emptyResponse:!0}))},this.scribeRecommendationImpression=function(t){this.scribe("impression",t)},this.scribeLinkClicks=function(t,e){this.scribe({component:"user_recommendations",element:e.element,action:"click"})},this.after("initialize",function(){this.on(document,"uiDidDismissUserRecommendation",this.scribeDismissRecommendation),this.on(document,"uiDidGetRecommendations",this.scribeRecommendations),this.on(document,"uiGotEmptyRecommendationsResponse",this.scribeEmptyRecommendationsResponse),this.on(document,"uiClickedWtfLink",this.scribeLinkClicks)})}var o=i("DBjh"),a=i("alSu"),n=i("gcfh"),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(o.default)(s,a.a,n.a)}).call(e,i("4kSj"))},hndZ:function(t,e,i){"use strict";(function(t){var s=i("DBjh");e.a=Object(s.default)(function(){this.editProfile=function(e){e.preventDefault();var i=t(e.target).closest("button").attr("data-scribe-element");this.trigger(document,"uiEditProfileInitialize",{scribeElement:i})},this.after("initialize",function(){this.on("click",this.editProfile)})})}).call(e,i("4kSj"))},iLiX:function(t,e,i){"use strict";function s(){this.defaultAttrs({dialogSelector:"#header_image_upload_dialog",headerSelector:".ProfileCanopy-header",aspectRatio:3}),this.setCropMetrics=function(){var t=this.select("headerSelector"),e=t.width(),i=t.height(),s=e/this.attr.aspectRatio;this.select("dialogSelector").trigger("uiSetCropMetrics",{zoneWidth:e,zoneHeight:i,width:e,height:s,top:(i-s)/2,left:0})},this.after("initialize",function(){this.on(document,"uiDialogOpened",this.setCropMetrics),this.on(window,"resize",this.setCropMetrics)})}var o=i("DBjh");e.a=Object(o.default)(s)},jAyJ:function(t,e,i){"use strict";function s(){this.defaultAttrs({dismissTweetSelector:".tweet .js-action-dismiss"}),this.after("initialize",function(){var t=this.mkTweetDataCollectorForAction(this.interactionDataWithCard);this.on("click",{dismissTweetSelector:this.composeHandler(this.getClosestTweet,t,this.triggerTweetAction("uiDismissTweet"))})})}e.a=s},jwc0:function(t,e,i){"use strict";function s(){this.scribeSendPrefilledTweet=function(t,e){this.scribe({element:"prefilled_tweet",action:"send_tweet"},e)},this.after("initialize",function(){this.on("uiSendPrefilledTweet",this.scribeSendPrefilledTweet)})}var o=i("DBjh"),a=i("3oDc");e.a=Object(o.default)(a.a,s)},jyKx:function(t,e,i){"use strict";function s(){this.defaultAttrs({pinnedStreamItemSelector:"li.js-pinned"}),this.keepPinnedStreamItemsOnTop=function(){this.$pinnedStreamItems.length&&(this.$pinnedStreamItems.first().css("margin-top","0"),this.$items.prepend(this.$pinnedStreamItems.detach()))},this.after("initialize",function(){this.$items=this.select("itemsSelector"),this.$pinnedStreamItems=this.select("pinnedStreamItemSelector"),this.on("uiHasInjectedNewTimeline",this.keepPinnedStreamItemsOnTop)})}e.a=s},k1OA:function(t,e,i){"use strict";(function(t){function s(){this.injectNewItems=function(t,e){if(this.timelineCacheTTLTimer&&(clearTimeout(this.timelineCacheTTLTimer),this.timelineCacheTTLTimer=null),!(this.latentItems.length<1)){e&&e.wasPeriodPress&&this.trigger("uiUserPressedPeriodAndSawNewTweets"),e&&e.wasPushStateInjection&&this.trigger("uiUserPushStateInjectedTweets"),e&&e.wasTopBarBirdClick&&this.trigger("uiUserClickedTopBarBirdAndSawNewTweets"),e&&e.wasComposedTweet&&this.trigger("uiUserComposedTweet"),this.trigger("uiHideNewItemsBar");var i=this.injectItems("prepend",this.latentItems.join(""),"uiHasInjectedNewTimeline",e);return this.resetLatentItems(),i}},o.default.mixin(this,[a.a,n.a]),this.defaultAttrs({streamItemSelector:".js-stream-item:not(.js-stream-item .js-stream-item)",refreshOnReturn:!0}),this.getNewItems=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.getInitial,s=void 0!==i&&i,o=e.injectImmediately,a=void 0!==o&&o,n=Object.keys(this.composedThenInjectedTweetIds),l=s?this.getInitialItemsData():this.getNewItemsData(),h=s?{}:this.getNewItemsCountData&&this.getNewItemsCountData();this.trigger("uiWantsMoreTimelineItems",r({include_new_items_bar:!a,latent_count:this.latentCount,composed_count:n.length,composed_ids:n},l,h,e)),s&&this.trigger("uiShowGlobalLoadingIndicator")},this.notifyNewItems=function(t){if(t.items_html&&t.items_html.trim()){var e=t.sourceEventData||{};if(this.resetStateVariables(t),t.items_html){if(this.latentItems=this.htmlToItemArray(t.items_html).concat(this.latentItems),this.latentCount=t.new_latent_count,t.new_tweets_bar_html){var i=t.new_tweets_bar_html;this.autoplay?this.autoplayNewItems(t.new_tweets_bar_html):e.injectImmediately||(this.trigger("uiUpdateNewItemsBar",{html:i}),this.trigger("uiAddPageCount",{count:this.latentCount}))}if(e.injectImmediately||e.timeline_empty){var s={startTimeMs:e.startTimeMs};this.trigger("uiInjectNewItems",s)}e.scrollToTop&&this.scrollToTop(),e.selectTopTweet&&this.trigger("uiSelectTopTweet")}}},this.htmlToItemArray=function(e){return t("<div>").html(e).find(this.attr.streamItemSelector).toArray().map(function(e){return t("<div>").append(e).html()})},this.saveLatentItems=function(t,e){var i=this.select("containerSelector");i.attr("data-latent-items",this.latentItems.join("")),i.attr("data-latent-count",this.latentCount)},this.resetLatentItems=function(){var t=this.select("containerSelector"),e=t.attr("data-latent-items");t.removeAttr("data-latent-items"),this.latentItems=this.htmlToItemArray(e),this.latentCount=parseInt(t.attr("data-latent-count"),10)||0,t.removeAttr("data-latent-count")},this.refreshOnNavigate=function(t,e){(this.isPollingStopped||e.fromCache&&this.attr.refreshOnReturn)&&this.trigger("uiTimelineShouldRefresh",{navigated:!0})},this.refreshAndSelectTopTweet=function(t,e){this.trigger("uiTimelineShouldRefresh",{injectImmediately:!0,selectTopTweet:!0,getInitial:this.shouldGetInitialTimeline})},this.injectComposedTweet=function(e,i){if(!i.in_reply_to_status_id&&i.tweet_html){this.injectNewItems();var s=t(i.tweet_html).filter(this.attr.streamItemSelector).first().attr("data-item-id");this.$node.find(".original-tweet[data-tweet-id='"+s+"']:first").length||(this.latentItems=this.htmlToItemArray(i.tweet_html),this.injectNewItems(null,{wasComposedTweet:"dataTweetSuccess"===e.type}),this.composedThenInjectedTweetIds[i.tweet_id]=window.location.href)}},this.refreshAndInjectImmediately=function(t,e){this.trigger("uiTimelineShouldRefresh",{injectImmediately:!0,selectTopTweet:1===this.$selected.length,getInitial:this.shouldGetInitialTimeline})},this.resetCacheOfComposedInjectedTweets=function(t,e){this.composedThenInjectedTweetIds=l={}},this.addPageCount=function(t,e){this.latentCount&&this.trigger("uiAddPageCount",{count:this.latentCount})},this.after("initialize",function(){var t=this;this.latentItems=[],this.latentCount=0,this.isPollingStopped=!1,this.timelineCacheTTLTimer=null,this.shouldGetInitialTimeline=!1,this.composedThenInjectedTweetIds=l,this.resetLatentItems(),this.injectNewItems(null,{wasPushStateInjection:!0}),this.on("uiInjectNewItems",this.injectNewItems),this.on(document,"uiTimelineShouldRefresh",this.getNewItems),this.on(document,"uiBeforePageChanged",function(){t.isPollingStopped?t.resetLatentItems():t.saveLatentItems()}),this.on(document,"uiPageChanged",this.refreshOnNavigate),this.on(document,"uiGotoTopOfScreen",this.refreshAndInjectImmediately),this.on(document,"uiShortcutGotoTopOfScreen",this.refreshAndSelectTopTweet),this.on(document,"dataPageMutated",this.resetCacheOfComposedInjectedTweets),this.on(document,"uiPageNeedsCount",this.addPageCount),this.on(document,"uiPollingStopped",function(){t.isPollingStopped=!0,t.attr.timelineCacheTTLMillis&&(t.timelineCacheTTLTimer=setTimeout(function(){t.resetLatentItems(),clearTimeout(t.timelineCacheTTLTimer),t.timelineCacheTTLTimer=null,t.trigger("uiTimelineCacheInvalidated"),t.shouldGetInitialTimeline=!0},t.attr.timelineCacheTTLMillis))}),this.on(document,"uiPollingStarted",function(){t.isPollingStopped=!1,t.shouldGetInitialTimeline=!1}),this.attr.injectComposedTweets&&this.on(document,"dataTweetSuccess",this.injectComposedTweet)})}var o=i("q9/C"),a=i("VeSc"),n=i("p067"),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},l={};e.a=s}).call(e,i("4kSj"))},kGvc:function(t,e,i){"use strict";function s(){this.defaultAttrs({warningClass:"is-showingWarning",profileViewTweetsButtonSelector:".ProfileWarningTimeline-button"}),this.showTweets=function(){this.$node.removeClass(this.attr.warningClass)},this.showTweetsWithScribe=function(){this.$node.removeClass(this.attr.warningClass);var t=this.$node.find(".ProfileWarningTimeline").data("element-context");this.trigger("uiProfilesInterstitialViewTweets",{scribeElement:t})},this.hideTweets=function(){this.$node.addClass(this.attr.warningClass)},this.scribeImpression=function(){if(this.$node.hasClass(this.attr.warningClass)){var t=this.$node.find(".ProfileWarningTimeline").data("element-context");this.trigger("uiProfilesInterstitialImpression",{scribeElement:t})}},this.after("initialize",function(){this.on("click",{profileViewTweetsButtonSelector:this.showTweetsWithScribe}),this.on(document,"uiShowProfileTweets",this.showTweets),this.on(document,"uiHideProfileTweets",this.hideTweets),this.scribeImpression()})}var o=i("DBjh");e.a=Object(o.default)(s)},kku7:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({contentSelector:"#trends_dialog_content",quickSelectSelector:"#trend-locations-quick-select",dropdownSelector:"#trend-locations-dropdown-select",personalizedSelector:".trends-personalized",nonPersonalizedSelector:".trends-by-location",changeTrendsSelector:".customize-by-location",showDropdownSelector:".js-show-dropdown-select",showQuickSelectSelector:".js-show-quick-select",searchSelector:".trends-search-locations",nearbySelector:".trends-nearby-locations",recentSelector:".trends-recent-locations",currentLocationSelector:".trends-current-location",loadingSelector:"#trend-locations-loading",defaultSelector:".select-default",doneSelector:".done",errorSelector:".trends-dialog-error p",errorClass:"has-error"}),this.openDialog=function(t,e){this.trigger("uiTrendsDialogOpened"),this.initialized?this.setCurrentView():(this.trigger("uiWantsTrendsLocationDialog"),this.initialized=!0),this.$node.removeClass("has-error"),this.open()},this.setCurrentView=function(){this.attr.personalized?this.showPersonalizedView():this.showNonpersonalizedView(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showPersonalizedView=function(){this.select("nonPersonalizedSelector").hide(),this.select("personalizedSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showNonpersonalizedView=function(){this.select("personalizedSelector").hide(),this.select("nonPersonalizedSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showQuickSelectContainer=function(t,e){this.showNonpersonalizedView(),this.select("dropdownSelector").hide(),this.select("quickSelectSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showDropdownContainer=function(t,e){this.showNonpersonalizedView(),this.select("quickSelectSelector").hide(),this.select("dropdownSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.hideViews=function(){this.select("personalizedSelector").hide(),this.select("nonPersonalizedSelector").hide()},this.showError=function(t,e){this.hideViews(),this.hideLoading(),this.initialized=!1,this.$node.addClass(this.attr.errorClass),this.select("errorSelector").html(e.message),this.trigger(this.$dialog,"uiDialogContentChanged")},this.selectDefault=function(e,i){var s=t(e.target);!s.data("personalized")?this.changeLocationInfo({name:s.data("name"),woeid:s.data("woeid")}):this.setPersonalizedTrends(),this.close()},this.reset=function(t,e){this.showQuickSelectContainer(),this.trigger("uiTrendsDialogReset")},this.initializeDialog=function(t,e){this.select("contentSelector").html(e.dialog_html),this.setLocationInfo(t,e),this.initializeComponents(),this.setCurrentView()},this.showLoading=function(){this.select("loadingSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.hideLoading=function(){this.select("loadingSelector").hide()},this.__handleChangeTrendsClick=function(){this.showNonpersonalizedView(),this.trigger("uiTrendsDialogCustomizeLocation")},this.initializeComponents=function(t,e){l.a.attachTo(this.attr.currentLocationSelector,{location:this.attr.location,personalized:this.attr.personalized}),r.a.attachTo(this.attr.searchSelector,{typeaheadData:this.attr.typeaheadData}),n.a.attachTo(this.attr.dropdownSelector),h.a.attachTo(this.attr.nearbySelector,{location:this.attr.location,personalized:this.attr.personalized}),c.a.attachTo(this.attr.recentSelector,{location:this.attr.location,personalized:this.attr.personalized})},this.after("initialize",function(){this.hideViews(),this.on("uiChangeLocation",this.showLoading),this.on("uiTrendsLocationSearchNoResults",this.showDropdownContainer),this.on(document,"uiShowTrendsLocationDialog",this.openDialog),this.on("uiDialogClosed",this.reset),this.on(document,"dataGotTrendsLocationDialog",this.initializeDialog),this.on(document,"dataGotTrendsLocationDialogError",this.showError),this.on("uiLocationInfoUpdated",this.hideLoading),this.on("click",{doneSelector:this.close,defaultSelector:this.selectDefault,changeTrendsSelector:this.__handleChangeTrendsClick,showDropdownSelector:this.showDropdownContainer,showQuickSelectSelector:this.showQuickSelectContainer})})}var o=i("DBjh"),a=i("UHc7"),n=i("8hg/"),r=i("VbtH"),l=i("Vppf"),h=i("G/Dn"),c=i("HjF0"),d=i("3ZrE");e.a=Object(o.default)(s,a.a,d.a)}).call(e,i("4kSj"))},"l6C+":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("hhhH"),o=i("oOTB"),a=i("Gg8t"),n=i("Acw8"),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.default=function(t){var e=r({},t,{pushState:!1});Object(s.a)(e),o.a.attachTo("#lifeline-follow-box",{loggedIn:t.loggedIn}),a.a.attachTo(document,t),n.a.attachTo(document,t)}},lQAc:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({itemType:"user",followCardSelector:".dashboard .follow-card"}),this.handleNewListMembers=function(e,i){i.newest_members_html&&this.$node.html(i.newest_members_html),i.follow_card_html&&t(this.attr.followCardSelector).html(i.follow_card_html)},this.after("initialize",function(){this.on(document,"dataGotNewListMembers",this.handleNewListMembers)})}var o=i("DBjh"),a=i("El2S"),n=i("xgWv");e.a=Object(o.default)(s,a.a,n.a)}).call(e,i("4kSj"))},lkYH:function(t,e,i){"use strict";function s(){this.scribeEvent=function(t,e){this.scribe(n({},t.scribeContext,e))},this.after("initialize",function(){this.scribeOnEvent("uiUploadReceived",{element:"upload",action:"complete"}),this.scribeOnEvent("uiShowingWebcam",{element:"webcam",action:"impression"}),this.scribeOnEvent("uiWebcamFound",{element:"webcam",action:"show"}),this.scribeOnEvent("uiWebcamUnavailable",{element:"webcam",action:"failure"}),this.scribeOnEvent("jsCamCapture",{element:"webcam",action:"complete"}),this.scribeOnEvent("uiProfileImageDialogClose",{action:"close"}),this.on("uiImageSave",function(t,e){this.scribeEvent(e,{element:"crop_"+e.scribeData.scribeElement,action:"complete"})}),this.on("uiShowingCropper",function(t,e){this.scribeEvent(e,{element:"crop_"+e.scribeElement,action:"impression"})}),this.on("uiProfileImagePublished",function(t,e){this.scribeEvent(e,{element:"save_"+e.scribeElement,action:"complete"})}),this.on("uiProfileImageDialogFailure",function(t,e){this.scribeEvent(e,{element:"save_"+e.scribeElement,action:"failure"})})})}var o=i("DBjh"),a=i("3oDc"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r=Object(o.default)(s,a.a);e.a=r},"lwf/":function(t,e,i){"use strict";function s(){this.defaultAttrs({supportIndicatorsSelector:".ProfileHeaderCard-onlineHoursText",iconSelector:".Icon",language:navigator.language}),this.formatTime=function(t){var e=t.toLocaleTimeString(this.attr.language,{hour:"2-digit",minute:"2-digit"}),i=e.replace(/ /g,"").toLowerCase();return new RegExp("^\\d?\\d(:|\\.)\\d\\d$","g").test(i)?i:i.replace(/(\.|:)00/g,"")},this.getConsecutiveDays=function(t){var e=new Date(t[0][0]).setHours(0,0,0,0);return[e,t.reduce(function(t,e){if(e[0]-t>=2*n)return t;var i=new Date(e[1]);return 0!==i.getHours()?i.setHours(0,0,0,0):i.setHours(0,0,0,0)-n},e)]},this.mkHoursText=function(t){return 2===t.length&&Object(a.default)("Most responsive {{openingTime}}–{{closingTime}}",{openingTime:this.formatTime(new Date(t[0])),closingTime:this.formatTime(new Date(t[1]))})},this.mkConsecDaysText=function(t){if(2!==t.length)return!1;var e=new Date(t[0]),i=new Date(t[1]);return e.getDay()===i.getDay()?Object(a.default)("Most responsive {{day}}",{day:e.toLocaleDateString(this.attr.language,{weekday:"long"})}):Object(a.default)("Most responsive {{start}}–{{end}}",{start:e.toLocaleDateString(this.attr.language,{weekday:"short"}),end:i.toLocaleDateString(this.attr.language,{weekday:"short"})})},this.alwaysOpen=function(t){return!!t.always_open&&Object(a.default)("Responsive 24/7")},this.allDayOpen=function(t,e,i){var s=i+n;return(t[0]<=e&&i<=t[1]||t[1]>=s)&&Object(a.default)("Responsive all day")},this.someHoursTodayOpen=function(t,e,i){return e<=t[0]&&t[0]<i&&this.mkHoursText(t)},this.startedBeforeTodayOpen=function(t,e){return 2===t.length&&this.mkHoursText([e,t[1]])},this.todayFutureHoursClosed=function(t,e,i){return e<=t[0]&&t[1]<=i&&this.mkHoursText(t)},this.startsTodayFutureAndEndsAfterTodayClosed=function(t,e,i){return e<=t[0]&&t[0]<i&&this.mkHoursText([t[0],i])},this.todayPastHoursClosed=function(t,e,i){return e<=t[0]&&t[1]<=i&&this.mkHoursText(t)},this.noHoursTodayClosed=function(t){var e=t.every(function(t){return 2===t.length});return!!(t.length>0&&e)&&this.mkConsecDaysText(this.getConsecutiveDays(t))},this.providesSupport=function(t){return!!t.provides_support&&Object(a.default)("Provides support")},this.mkSupportIndicators=function(){var t=this.$node.data("hours-json"),e=t.current_range||[],i=t.prior_range||[],s=t.future_ranges||[],o=s[0]||[],a=(new Date).setHours(0,0,0,0),r=a+n,l=this.alwaysOpen(t)||this.allDayOpen(e,a,r)||this.someHoursTodayOpen(e,a,r)||this.startedBeforeTodayOpen(e,a)||this.todayFutureHoursClosed(o,a,r)||this.startsTodayFutureAndEndsAfterTodayClosed(o,a,r)||this.todayPastHoursClosed(i,a,r)||this.noHoursTodayClosed(s)||this.providesSupport(t);l&&(this.select("iconSelector").removeClass("u-hidden"),this.select("supportIndicatorsSelector").text(l))},this.after("initialize",function(){this.on(document,"uiSwiftLoaded uiPageChanged",this.mkSupportIndicators)})}var o=i("DBjh"),a=i("0d4m"),n=864e5;e.a=Object(o.default)(s)},mHAC:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function s(e){if(Object(o.a)(e),e.profile_user){Object(a.a)(C({},e,{useDeduping:!0}),"swift_profile_tweets"),t(document).trigger("profileVisit",e.profile_user),c.a.attachTo("#timeline"),d.a.attachTo(document),u.a.attachTo("#timeline",{loggedIn:e.loggedIn,eventData:{scribeContext:{component:"user_scroll_bump"}}}),f.a.attachTo(document),m.a.attachTo(".ScrollBumpDialog",e,{itemType:"user",eventData:{scribeContext:{component:"scroll_bump_dialog"}}}),p.a.attachTo(document),e.isCurrentUser&&n.a.attachTo(".js-empty-timeline"),r.a.attachTo(".js-profileEmptyTimelineTweetbox",{draftTweetId:"empty_profile_"+e.profile_id+"_"+(e.isCurrentUser?"owner":"viewer"),defaultText:e.isCurrentUser?"":"@"+e.profile_user.screen_name+" ",environment:e.environment,eventData:{scribeContext:{component:"empty_timeline"}}});g.a.attachTo(document,e,{listItemSelector:".ProfileUserList--featuredList",subscribeSelector:".ProfileUserList-subscribeAction",featureListSelector:".js-actionFeatureList",removeFeaturedListFromPageOnUnfeature:!0}),v.a.attachTo(document,e),b.a.attachTo(document,e,{scribeContext:{component:"profile_sidebar"}}),w.a.attachTo(".ProfileUserList--featuredList"),S.a.attachTo(".ProfileUserList--featuredList"),l.a.attachTo(".ProfilePrefilledTweet",{eventData:{scribeContext:{component:"empty_timeline"}}}),h.a.attachTo(document)}}e.default=s;var o=i("NcZX"),a=i("t9Yq"),n=i("pTHA"),r=i("Cs1b"),l=i("dP/W"),h=i("jwc0"),c=i("tpiW"),d=i("obLB"),u=i("WyNH"),f=i("zca8"),m=i("J2an"),p=i("Q8ph"),g=i("dM3d"),v=i("NMQQ"),b=i("txvN"),S=i("2BOW"),w=i("Ulcg"),C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}}.call(e,i("4kSj"))},mLbD:function(t,e,i){"use strict";function s(t){Object(o.a)(t),Object(a.default)(t),Object(n.a)(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var o=i("hhhH"),a=i("DNqT"),n=i("SAvb")},mS8d:function(t,e,i){"use strict";var s=i("Ny+n"),o=i("DJnx");e.a=s.a.mixin(o.a)},muxT:function(t,e,i){"use strict";function s(t){Object(o.a)(t),Object(a.a)(t,"swift_favorites_timeline")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var o=i("NcZX"),a=i("t9Yq")},"n+wM":function(t,e,i){"use strict";function s(){this.defaultAttrs({webcamTitle:Object(o.default)("Smile!"),titleSelector:".modal-title",profileImageCropDivSelector:".image-upload-crop",profileImageWebcamDivSelector:".image-upload-webcam",cancelSelector:".profile-image-cancel",saveSelector:".profile-image-save",cropperSliderSelector:".cropper-slider",cropImageSelector:".crop-image",cropMaskSelector:".cropper-mask",cropOverlaySelector:".cropper-overlay",cropZoneSelector:".crop-zone",captureWebcamSelector:".profile-image-capture-webcam",webcamContainerSelector:".webcam-container",webcamCanvasSelector:".webcam-canvas",videoSelector:"video",videoOverlaySelector:".video-overlay",videoCountdownSelector:".video-countdown",retakeButtonSelector:".profile-image-previous",videoPermissionExplain:".video-permission-explain",videoPermissionFail:".video-permission-fail",imageUploadSpinnerSelector:".image-upload-spinner",maskPadding:40,top:50,uploadType:"",drawSurfaceSelector:".drawsurface",showSuccessMessage:!0,maximumWidth:2048,maximumHeight:2048,savingClass:"saving",isAvatarWhenShowingAvatarOptions:!0,alertMessageEvent:"uiAlertBanner"}),this.showCropper=function(t){this.setTitle(this.attr.originalTitle),this.select("captureWebcamSelector").hide(),this.select("videoSelector").hide(),this.select("saveSelector").show(),this.fileId=t,this.trigger(this.$dialog,"uiDialogContentChanged"),this.trigger("uiShowingCropper",{scribeElement:this.getScribeElement()})},this.setScribeElement=function(t){this.scribeElement=t},this.getScribeElement=function(){return this.scribeElement||"upload"},this.reset=function(){this.select("cropImageSelector").attr("src",""),this.select("cropImageSelector").attr("style",""),this.select("webcamContainerSelector").empty(),this.select("cancelSelector").show(),this.select("saveSelector").prop("disabled",!1).hide(),this.$node.removeClass(this.attr.savingClass),this.select("profileImageWebcamDivSelector").hide(),this.select("profileImageCropDivSelector").hide(),this.select("captureWebcamSelector").hide(),this.select("retakeButtonSelector").hide(),this.select("videoSelector").hide(),this.select("videoPermissionExplain").hide(),this.select("videoPermissionFail").hide()},this.swapVisibility=function(t,e){this.$node.find(t).hide(),this.$node.find(e).show()},this.haveImageSelected=function(t,e){var i=l.a.get(e.fileId);i&&(t.preventDefault(),this.gotImageData(e.uploadType,i),this.trigger("uiCloseDropdowns"))},this.gotImageData=function(t,e,i){this.openDialog(),this.trigger("uiUploadReceived"),this.select("cropImageSelector").attr("src",n.a.getObjectUrl(e.fileHandle)),this.select("profileImageCropDivSelector").show(),this.setScribeElement("upload"),this.showCropper(e.fileId),i&&this.trigger("uiDropped")},this.openDialog=function(){this.open(),this.reset()},this.setTitle=function(t){this.select("titleSelector").text(t)},this.showWebcam=function(t,e){this.setTitle(this.attr.webcamTitle),this.openDialog(),this.select("profileImageWebcamDivSelector").show(),this.select("captureWebcamSelector").show(),this.initializeWebcam(),this.trigger("uiShowingWebcam")},this.webcamCaptured=function(t,e){this.swapVisibility(this.attr.profileImageWebcamDivSelector,this.attr.profileImageCropDivSelector),this.setScribeElement("webcam"),this.select("retakeButtonSelector").show(),this.showCropper(e.fileId)},this.save=function(t,e){if(!this.$node.hasClass(this.attr.savingClass))return this.prepareCroppedImage(),t.preventDefault(),!1},this.readyToCrop=function(){var t=this.fileId;if(l.a.get(t)){var e=this.clientsideCrop(this.determineCrop());l.a.update(this.fileId,{fileHandle:n.a.getBlobFromDataUri(e.fileData)}),this.trigger("uiImageSave",{fileId:t,uploadType:this.attr.uploadType,scribeData:{scribeElement:this.getScribeElement()},cropData:e.cropData}),this.enterSavingState()}},this.enterSavingState=function(){this.select("imageUploadSpinnerSelector").css("height",this.select("profileImageCropDivSelector").height()),this.$node.addClass(this.attr.savingClass),this.select("saveSelector").prop("disabled",!0),this.select("cancelSelector").hide()},this.resetState=function(){l.a.get(this.fileId)&&(n.a.revokeObjectUrl(this.select("cropImageSelector").attr("src")),l.a.remove(this.fileId),this.fileId=null)},this.uploadSuccess=function(t,e){if(this.attr.showSuccessMessage){var i={avatar:Object(o.default)("Your profile photo was published successfully."),header:Object(o.default)("Your header was published successfully."),background:Object(o.default)("Your background was published successfully.")};this.trigger("uiAlertBanner",{message:i[this.attr.uploadType]||Object(o.default)("Published successfully.")})}this.trigger("uiProfileImagePublished",{scribeElement:this.getScribeElement()}),this.close(),this.resetState()},this.uploadFailed=function(t,e){this.trigger("uiProfileImageDialogFailure",{scribeElement:this.getScribeElement()}),this.trigger(this.attr.alertMessageEvent,{message:e.message}),this.close(),this.resetState()},this.interceptGotProfileImageData=function(t,e){var i=this.attr.isAvatarWhenShowingAvatarOptions&&"header"===e.uploadType&&Object(r.a)(),s=i?"avatar":e.uploadType,o=l.a.get(e.fileId);o&&s===this.attr.uploadType&&this.gotImageData(s,o,e.wasDropped)},this.proxyTakePhoto=function(t,e){this.takePhoto(t,e)},this.after("initialize",function(){this.attr.originalTitle=this.select("titleSelector").text(),this.on(document,"uiCropperWebcam",this.verifyUploadType(this.showWebcam)),this.on(document,"uiFileSelected",this.verifyUploadType(this.haveImageSelected)),this.on("jsCamCapture",this.webcamCaptured),this.on(this.select("captureWebcamSelector"),"click",this.proxyTakePhoto),this.on(this.select("retakeButtonSelector"),"click",this.showWebcam),this.on(this.select("saveSelector"),"click",this.save),this.on(this.attr.cancelSelector,"click",this.close),this.on("uiCroppedImageReady",this.readyToCrop),this.on(document,"dataSaveImageSuccess",this.verifyUploadType(this.uploadSuccess)),this.on(document,"dataSaveImageFailure",this.verifyUploadType(this.uploadFailed)),this.on(document,"uiGotProfileImageData",this.interceptGotProfileImageData),this.on("uiDialogClosed",function(){this.reset(),this.trigger("uiProfileImageDialogClose")})})}var o=i("0d4m"),a=i("DBjh"),n=i("+dWm"),r=i("3a6r"),l=i("H6fk"),h=i("UmIG"),c=i("UHc7"),d=i("NPjf"),u=i("ZMnx");e.a=Object(a.default)(s,h.a,c.a,d.a,u.a)},n9cg:function(t,e,i){"use strict";(function(t){function s(){this.attributes({expectedFollowersRendered:0,initialFollowersRendered:0,hasMoreFollowers:!1,footerAlwaysEnabled:!1}),this.initFilteredFollows=function(){this.gotMoreFollowers(null,{has_more_items:this.attr.hasMoreFollowers,new_latent_count:this.attr.initialFollowersRendered})},this.gotMoreFollowers=function(e,i){var s=t(".GridTimeline-filteredFollowers");this.state.loadedFollowersCount+=i.new_latent_count,this.state.showingMessage=s.length&&!i.has_more_items&&(this.attr.footerAlwaysEnabled||this.state.loadedFollowersCount<this.attr.expectedFollowersRendered),s.toggle(this.state.showingMessage)},this.after("initialize",function(){this.state={loadedFollowersCount:0,showingMessage:!1},this.initFilteredFollows(),this.on("dataGotMoreTimelineItems",this.gotMoreFollowers)})}var o=i("DBjh");e.a=Object(o.default)(s)}).call(e,i("4kSj"))},nB7e:function(t,e,i){"use strict";function s(){this.getTrendsLocationDialog=function(t,e){var i=function(t){this.trigger("dataGotTrendsLocationDialog",t),t.trendLocations&&this.trigger("dataLoadedTrendLocations",{trendLocations:t.trendLocations})};this.get({url:"/trends/location_dialog",eventData:e,success:i.bind(this),error:"dataGotTrendsLocationDialogError"})},this.updateTrendsLocation=function(t,e){var i=e.location||{},s={woeid:i.woeid,personalized:e.personalized,pc:!0},o=function(t){this.trigger("dataChangedTrendLocation",{personalized:t.personalized,location:i}),t.trends_cache_key&&(this.trigger("dataTempTrendsCacheKeyChanged",{trendsCacheKey:t.trends_cache_key}),this.trigger("dataPageMutated")),t.update_module_html&&this.trigger("uiRefreshTrends",t)};this.post({url:"/trends/dialog",eventData:e,data:s,success:o.bind(this),error:"dataGotTrendsLocationDialogError"})},this.after("initialize",function(){this.on("uiWantsTrendsLocationDialog",this.getTrendsLocationDialog),this.on("uiChangeLocation",this.updateTrendsLocation)})}var o=i("DBjh"),a=i("VtWx");e.a=Object(o.default)(s,a.a)},"nD+w":function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({src:"module",$backoffNode:t(window),trendsModuleEndpoint:"/i/trends",trendsCacheKey:null,show_context:!0,trendsPollingOptions:{focusedInterval:3e5,blurredInterval:12e5,eventData:{source:"clock"}}}),this.makeTrendsRequest=function(t){var e=t.woeid,i=t.source,s=function(t){t.source=i,this.trigger("dataTrendsRefreshed",t)};this.get({url:this.attr.trendsModuleEndpoint,eventData:t,data:{k:this.currentCacheKey,woeid:e,pc:!0,personalized:t.personalized,src:this.attr.src,show_context:this.attr.show_context,profileUserId:this.attr.profileUserId,query:this.attr.query},success:s.bind(this),error:"dataTrendsRefreshedError"})},this.makeTrendsDialogRequest=function(t,e){var i={woeid:t.woeid,personalized:t.personalized,pc:!0},s=function(t){this.trigger("dataGotTrendsDialog",t),this.currentWoeid&&this.currentWoeid!==t.woeid&&this.trigger("dataTrendsLocationChanged"),this.currentWoeid=t.woeid,t.trends_cache_key&&(this.currentCacheKey=t.trends_cache_key,this.trigger("dataPageMutated")),t.update_module_html&&this.trigger("uiRefreshTrends",t)};(e?this.post:this.get).call(this,{url:"/trends/dialog",eventData:t,data:i,success:s.bind(this),error:"dataGotTrendsDialogError"})},this.changeTrendsLocation=function(t,e){this.makeTrendsDialogRequest(e,!0)},this.refreshTrends=function(t,e){e=e||{},this.makeTrendsRequest(e)},this.getTrendsDialog=function(t,e){e=e||{},this.makeTrendsDialogRequest(e)},this.updateTrendsCacheKey=function(t,e){this.currentCacheKey=e.trendsCacheKey},this.after("initialize",function(){this.currentCacheKey=this.attr.trendsCacheKey,this.timer=Object(a.a)("uiRefreshTrends",this.attr.$backoffNode,this.attr.trendsPollingOptions),this.on("uiWantsTrendsDialog",this.getTrendsDialog),this.on("uiChangeTrendsLocation",this.changeTrendsLocation),this.on("uiRefreshTrends",this.refreshTrends),this.on("dataTempTrendsCacheKeyChanged",this.updateTrendsCacheKey)})}var o=i("DBjh"),a=i("11Yp"),n=i("VtWx");e.a=Object(o.default)(s,n.a)}).call(e,i("4kSj"))},nlPD:function(t,e,i){"use strict";function s(){this.defaultAttrs({editHeaderParam:"edit_header",editParam:"edit"}),this.hasParam=function(t){return!!a.a.fromQuery(window.location)[t]},this.hasEditParam=function(){return this.hasParam(this.attr.editParam)},this.hasEditHeaderParam=function(){return this.hasParam(this.attr.editHeaderParam)},this.checkEditParam=function(){this.hasEditParam()?this.trigger("uiEditProfileInitialize",{scribeElement:"edit_param"}):this.hasEditHeaderParam()&&this.trigger("uiEditProfileInitializeAndFocusOnHeaderOptions",{scribeElement:"edit_header_param"})},this.after("initialize",function(){this.on(document,"uiSwiftLoaded uiPageChanged",this.checkEditParam)})}var o=i("DBjh"),a=i("sxXh");e.a=Object(o.default)(s)},oOTB:function(t,e,i){"use strict";function s(){this.defaultAttrs({itemType:"user",redirectUrl:"/welcome/alerts/download"})}var o=i("DBjh"),a=i("El2S"),n=i("Mpd9");e.a=Object(o.default)(s,a.a,n.a)},obLB:function(t,e,i){"use strict";(function(t){function s(){this.getComponentTermFromDOM=function(t){return t.closest("[data-component-context]").data("component-context")||"user"},this.scribeProfileCardInteraction=function(e,i){i.scribeContext.action=i.isMentionClick?"mention_click":"profile_click",i.scribeContext.component=this.getComponentTermFromDOM(t(e.target)),this.scribeInteraction(i.scribeContext,i)},this.after("initialize",function(){this.on("uiProfileCardClicked",this.scribeProfileCardInteraction)})}var o=i("DBjh"),a=i("gcfh");e.a=Object(o.default)(s,a.a)}).call(e,i("4kSj"))},p067:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({pollingWatchNode:t(window),pollingEnabled:!0}),this.shouldStopPolling=function(t){return!!(this.attr.pollingOptions&&this.attr.pollingOptions.pauseItemCount&&t>=this.attr.pollingOptions.pauseItemCount)},this.startPolling=function(){this.pollingTimer&&this.pollingTimer.clear(),this.pollingTimer=Object(o.a)("uiTimelinePollForNewItems",this.attr.pollingWatchNode,this.attr.pollingOptions),this.resetPolling()},this.pausePolling=function(){this.pollingTimer.pause(),this.pollingPaused=!0},this.resetPolling=function(){this.backoffEmptyResponseCount=0,this.pollingPaused=!1,this.trigger("uiPollingStarted")},this.stopPolling=function(){this.pollingTimer&&(this.pollingTimer.clear(),this.trigger("uiPollingStopped"))},this.pollForNewItems=function(t,e){this.trigger("uiTimelineShouldRefresh",{injectImmediately:!1,interval:this.pollingTimer.interval,fromPolling:!0})},this.onGotMoreTimelineItems=function(t,e){if(this.attr.pollingOptions&&this.attr.pollingOptions.pauseAfterBackoff&&e&&e.sourceEventData){if(e.focused_refresh_interval){var i=this.attr.pollingOptions.blurredInterval/this.attr.pollingOptions.focusedInterval;this.stopPolling(),this.attr.pollingOptions.focusedInterval=e.focused_refresh_interval,this.attr.pollingOptions.blurredInterval=e.focused_refresh_interval*i,this.startPolling()}var s=e.sourceEventData;s.fromPolling&&(this.shouldStopPolling(e.new_latent_count)?this.stopPolling():this.isNewItem(e)||s.interval<this.attr.pollingOptions.blurredInterval?this.resetPolling():++this.backoffEmptyResponseCount>=this.attr.pollingOptions.backoffEmptyResponseLimit&&this.pausePolling())}},this.getNewItemsCountData=function(t){if(this.pollingPaused&&this.attr.pollingOptions)return this.resetPolling(),{count:this.attr.pollingOptions.resumeItemCount}},this.possiblyRefreshBeforeInject=function(t,e,i){return this.pollingPaused&&i&&i.fromClick&&this.trigger("uiTimelineShouldRefresh",{injectImmediately:!0}),t(e,i)},this.around("injectNewItems",this.possiblyRefreshBeforeInject),this.before("teardown",function(){this.stopPolling()}),this.after("initialize",function(){this.attr.pollingEnabled&&(this.on(document,"uiTimelinePollForNewItems",this.pollForNewItems),this.on(document,"dataGotMoreTimelineItems",this.onGotMoreTimelineItems),this.on(document,"uiHasInjectedNewTimeline",this.startPolling),this.startPolling())})}var o=i("11Yp");e.a=s}).call(e,i("4kSj"))},p1nM:function(t,e,i){"use strict";function s(){this.requestHeaderEditing=function(){this.trigger("uiEditProfileInitializeAndFocusOnHeaderOptions",{scribeElement:"add_header_callout"})},this.disableCallout=function(){this.$node.hide()},this.after("initialize",function(){this.on("click",this.requestHeaderEditing),this.on(document,"uiProfileHeaderUpdated",this.disableCallout)})}var o=i("DBjh");e.a=Object(o.default)(s)},pTHA:function(t,e,i){"use strict";function s(){this.removeNode=function(){this.$node.remove(),Object(a.a)(0)},this.after("initialize",function(){this.on(document,"uiTweetSent",this.removeNode)})}var o=i("DBjh"),a=i("lV5l");e.a=Object(o.default)(s)},q1hc:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in n)e[s]||(e[s]=n[s]);return r.render(t,e,i)}var o=i("Opvs").default,a={"dialogs/close_button":i("38hD")},n=o(a),r=new e.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b(s.rp("<dialogs/close_button0",t,e,"")),s.b('<div class="modal-header">\n  <h3 class="modal-title">\n    Embed this Moment\n  </h3>\n</div>\n<div class="modal-body">\n'),s.s(s.f("is_loading",t,e,1),t,e,0,159,269,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b('    <div class="MomentShareDialog-loading">\n      <span class="u-hiddenVisually">Loading</span>\n    </div>\n')}),t.pop()),s.s(s.f("is_loading",t,e,1),t,e,1,0,0,"")||(s.b('    <p class="MomentShareDialog-description">\n      Add this Moment to your website by copying the code below. <a target="_blank" href="'),s.b(s.v(s.f("help_url",t,e,0))),s.b('" rel="noopener">Learn more</a>\n    </p>\n    <textarea class="MomentShareDialog-url MomentShareDialog-url--embed js-initial-focus u-dir" dir="ltr" readonly>'),s.b(s.v(s.f("url",t,e,0))),s.b("</textarea>\n")),s.b("</div>"),s.fl()},partials:{"<dialogs/close_button0":{name:"dialogs/close_button",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:n,render:s}}).call(e,i("jTWp"))},qDMi:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in n)e[s]||(e[s]=n[s]);return r.render(t,e,i)}var o=i("Opvs").default,a={"dialogs/close_button":i("38hD")},n=o(a),r=new e.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.b(s.rp("<dialogs/close_button0",t,e,"")),s.b('<div class="modal-header">\n  <h3 class="modal-title">\n    Copy link to Moment\n  </h3>\n</div>\n<div class="modal-body">\n  <p class="MomentShareDialog-description">\n    The URL of this Moment is below. Copy it to easily share with friends.\n  </p>\n  <textarea class="MomentShareDialog-url MomentShareDialog-url--link js-initial-focus u-dir" dir="ltr" readonly>'),s.b(s.v(s.f("url",t,e,0))),s.b("</textarea>\n</div>"),s.fl()},partials:{"<dialogs/close_button0":{name:"dialogs/close_button",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:n,render:s}}).call(e,i("jTWp"))},qZAZ:function(t,e,i){"use strict";function s(t){Object(o.a)(t),Object(a.a)(t),r.a.attachTo(".GridTimeline"),l.a.attachTo(document),n.a.attachTo(document,{expectedFollowersRendered:t.expected_followers_rendered,initialFollowersRendered:t.initial_followers_rendered,hasMoreFollowers:t.has_more_followers,footerAlwaysEnabled:t.filtered_follows_always_on})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var o=i("NcZX"),a=i("YBY8"),n=i("n9cg"),r=i("tpiW"),l=i("obLB")},qqZ7:function(t,e,i){(function(e){function s(t,e,i){e=e||{};for(var s in n)e[s]||(e[s]=n[s]);return r.render(t,e,i)}var o=i("Opvs").default,a={emojified_text:i("mDLQ"),emojified_text:i("mDLQ")},n=o(a),r=new e.Template({code:function(t,e,i){var s=this;return s.b(i=i||""),s.s(s.f("place_id",t,e,1),t,e,0,13,110,"{{ }}")&&(s.rs(t,e,function(t,e,i){i.b('  <a href="/search?q=place%3A'),i.b(i.v(i.f("place_id",t,e,0))),i.b('" data-place-id="'),i.b(i.v(i.f("place_id",t,e,0))),i.b('">'),i.b(i.rp("<emojified_text0",t,e,"")),i.b("</a>\n")}),t.pop()),s.s(s.f("place_id",t,e,1),t,e,1,0,0,"")||s.b(s.rp("<emojified_text1",t,e,"  ")),s.fl()},partials:{"<emojified_text0":{name:"emojified_text",partials:{},subs:{}},"<emojified_text1":{name:"emojified_text",partials:{},subs:{}}},subs:{}});t.exports={template:r,partials:n,render:s}}).call(e,i("jTWp"))},qxtN:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({resizeDebounceInterval:10,minimumContentsWidth:1236,leftProfileSidebarSelector:".ProfileSidebar--withLeftAlignment",rightProfileSidebarSelector:".ProfileSidebar--withRightAlignment",moveableModuleSelector:".MoveableModule"}),this.withinMinimumContentWidth=function(t){return t<this.attr.minimumContentsWidth},this.determineSidebarArrangement=function(t){var e=this.select("leftProfileSidebarSelector"),i=this.select("rightProfileSidebarSelector"),s=this.select("moveableModuleSelector");if(i.length){(this.withinMinimumContentWidth(t)?e:i).append(s)}},this.after("initialize",function(){var e=this;this.on(document,"uiDetermineSidebarArrangement",function(t,e){this.determineSidebarArrangement(e.windowWidth)}),this.on(window,"resize",a.default.debounce(function(){return e.trigger("uiDetermineSidebarArrangement",{windowWidth:t(window).width()})},this.attr.resizeDebounceInterval)),this.trigger("uiDetermineSidebarArrangement",{windowWidth:t(window).width()})})}var o=i("DBjh"),a=i("YzIt");e.a=Object(o.default)(s)}).call(e,i("4kSj"))},r2dR:function(t,e,i){"use strict";var s=i("DBjh"),o=i("mGri");e.a=Object(s.default)(o.a)},rrZS:function(t,e,i){"use strict";function s(){this.openDMDialog=function(){this.scribe({element:"dm_button",action:"click"},this.attr.eventData),this.trigger("uiNeedsDMDialog",this.dmDialogData())},this.dmDialogData=function(){return{id:n.a.getId(this.$node),screen_name:n.a.getScreenName(this.$node),name:n.a.getName(this.$node),oto_only:!0}},this.after("initialize",function(){this.on("click",this.openDMDialog)})}var o=i("DBjh"),a=i("3oDc"),n=i("UXvI");e.a=Object(o.default)(s,a.a)},s9SF:function(t,e,i){"use strict";function s(){this.defaultAttrs({scribe_element:"balloon_animation",scribeContext:{}}),this.scribeAnimationPlay=function(t,e){var i=e&&e.sourceEventData,s=n({},this.attr.scribeContext,{element:this.attr.scribe_element,action:"play"});if(this.scribe(s,i||e),e&&e.autoplay){var o=n({},this.attr.scribeContext,{element:this.attr.scribe_element,action:"autoplay"});this.scribe(o,i||e)}},this.after("initialize",function(){this.on(document,"uiBalloonAnimationPlayed",this.scribeAnimationPlay)})}var o=i("DBjh"),a=i("3oDc"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(o.default)(s,a.a)},sNB3:function(t,e,i){"use strict";(function(t){function s(){o.default.mixin(this,[a.a]),this.defaultAttrs({settingsSelector:".VisibilitySettings",dropdownIconSelector:".VisibilitySettings-dropdownIcon",selectedDropdownIconSelector:".VisibilitySettings-dropdownIcon:not(.u-hidden)",hiddenClass:"u-hidden",hiddenSelector:".u-hidden",visibilityButtonSelector:".VisibilitySettings-button",visibilityOptionSelector:".VisibilitySettings-option",visibilityRadioSelector:".js-visibilitySettingsRadio"}),this.updateSelectionFromEvent=function(e){var i=t(e.target).closest(this.attr.visibilityOptionSelector);this.updateSelection(i)},this.updateSelection=function(t){var e=t.closest(this.attr.settingsSelector),i=t.find(this.attr.visibilityRadioSelector),s=e.find(this.attr.visibilityButtonSelector),o=e.find(this.attr.dropdownIconSelector),a=e.find(this.attr.selectedDropdownIconSelector),n=i.data("dropdown-icon-selector");this.clearSelection(e),i.prop("checked",!0),a.addClass(this.attr.hiddenClass),o.filter(n).removeClass(this.attr.hiddenClass),s.attr("data-original-title",i.data("setting-name")),s.focus(),this.trigger("uiVisibilitySettingSelected",this.getSelectedVisibilitySettingsData())},this.setVisibilitySettingOption=function(t,e){var i=this.$node.find('input[name="'+t+'"][value="'+e+'"]'),s=i.closest(this.attr.visibilityOptionSelector);this.updateSelection(s)},this.clearSelection=function(e){e.find(this.attr.visibilityRadioSelector).each(function(e,i){return t(i).prop("checked",!1)})},this.hideOptions=function(e,i){var s=this,o=e.find(this.attr.visibilityOptionSelector);if(o.each(function(e,o){var a=t(o);"function"==typeof i&&i(a)&&a.addClass(s.attr.hiddenClass)}),this.selectedOptionIsHidden(e)){var a=o.not(this.attr.hiddenSelector).first();this.updateSelection(a)}},this.selectedOptionIsHidden=function(t){return t.find(this.attr.visibilityRadioSelector).filter(":checked").closest(this.attr.visibilityOptionSelector).hasClass(this.attr.hiddenClass)},this.unhideOptions=function(e,i){var s=this;e.find(this.attr.visibilityOptionSelector).each(function(e,o){var a=t(o);("function"==typeof i&&i(a)||void 0===i)&&a.removeClass(s.attr.hiddenClass)})},this.getSelectedVisibilitySettingsData=function(){var e=this,i={};return this.select("visibilityRadioSelector").filter(":checked").each(function(s,o){var a=t(o);i[a.attr("name")]=e.getRadioOptionData(a)}),i},this.getRadioOptionData=function(t){return{value:t.val(),name:t.attr("name"),type:"visibility_setting"}},this.after("initialize",function(){this.on("click",{visibilityOptionSelector:this.updateSelectionFromEvent})})}var o=i("q9/C"),a=i("mGri");e.a=s}).call(e,i("4kSj"))},smxC:function(t,e,i){"use strict";function s(t){r.a.attachTo(document),o.a.attachTo(document,{src:t.src,trendsCacheKey:t.trendsCacheKey,trendsModuleEndpoint:t.trendsEndpoint,show_context:t.show_context,profileUserId:t.profile_id,query:t.query}),l.a.attachTo(".module.trends",{loggedIn:t.loggedIn,displaySource:t.src,eventData:{scribeContext:{component:"trends"}}}),a.a.attachTo(document),n.a.attachTo(document),h.a.attachTo("#trends_dialog",{typeaheadData:t.typeaheadData,eventData:{scribeContext:{component:"trends_location_dialog"}}})}e.a=s;var o=i("nD+w"),a=i("nB7e"),n=i("O1q0"),r=i("0iQm"),l=i("ykaF"),h=i("kku7")},t9Yq:function(t,e,i){"use strict";function s(t,e){a.a.attachTo(document,{containerSelector:"#timeline",viewportThreshold:t.hasVineFilter?0:200}),n.a.attachTo("#timeline",{eventData:t.eventData}),r.a.attachTo("#timeline",{page:"profiles"}),Object(o.a)(t,t.timeline_url,e,"tweet")}e.a=s;var o=i("/gHE"),a=i("A1Ox"),n=i("zAui"),r=i("JnjQ")},tpiW:function(t,e,i){"use strict";function s(){this.defaultAttrs({profileCardSelector:".ProfileCard",profileCardHeaderSelector:".ProfileCard-bg",profileCardAvatarSelector:".ProfileCard-avatarLink",profileCardNameSelector:".ProfileNameTruncated",profileCardScreenNameSelector:".ProfileCard-screenname",profileCardBioMentionSelector:".ProfileCard-bio .twitter-atreply",profileCardPromotedBadgeSelector:".ProfileCard-promoted",itemType:"user"}),this.getItemPosition=function(t){return this.select("profileCardSelector").index(t.closest(this.attr.profileCardSelector))},this.handleClick=function(t,e,i){var s=n({},this.interactionData(e),{scribeContext:{element:t}});this.trigger(e.target,"uiProfileCardClicked",s),this.trigger(e.target,"uiShowProfileNewWindow",s)},this.after("initialize",function(){this.on("click",{profileCardHeaderSelector:this.handleClick.bind(this,"header_image"),profileCardAvatarSelector:this.handleClick.bind(this,"avatar"),profileCardNameSelector:this.handleClick.bind(this,"name"),profileCardScreenNameSelector:this.handleClick.bind(this,"screen_name"),profileCardBioMentionSelector:this.handleClick.bind(this,"description"),profileCardPromotedBadgeSelector:this.handleClick.bind(this,"promoted_badge")})})}var o=i("DBjh"),a=i("alSu"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(o.default)(s,a.a)},txvN:function(t,e,i){"use strict";function s(){this.scribeSubscribeOrUnsubscribe=function(t,e){if(e.sourceEventData&&e.sourceEventData.action){var i=n({},this.attr.scribeContext,{element:"subscribe_button",action:e.sourceEventData.action});this.scribe(i,e)}},this.scribeUserFeatureList=function(t,e){if(e.sourceEventData&&e.sourceEventData.action){var i=n({},this.attr.scribeContext,{element:"feature_button",action:e.sourceEventData.action});this.scribe(i,e)}},this.after("initialize",function(){this.on(document,"dataDidSubscribeToList",this.scribeSubscribeOrUnsubscribe),this.on(document,"dataDidUserFeatureList",this.scribeUserFeatureList),this.on(document,"dataDidUserUnfeatureList",this.scribeUserFeatureList)})}var o=i("DBjh"),a=i("3oDc"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(o.default)(s,a.a)},uDE7:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({colors:["Balloon--red","Balloon--blue","Balloon--yellow","Balloon--purple","Balloon--green"],sizes:["Balloon--small","Balloon--medium","Balloon--large"],scale:[.65,.85,1],speed:[.21,.25,.3],numberOfBalloons:42,maxBalloonDriftOnXAxis:600,minInitialDelay:500,maxDelayAfterInital:4500,fpsDebuggerBoxClass:"Balloon-fpsDebugger",debuggerBoxParam:"debug"}),this.animationStates={inProgress:0,finished:1},this.balloonsData=[],this.animationStep,this.animationStartTime,this.balloonAnimationRequest,this.viewportSize,this.lastAnimationStepTime=0,this.windowWasBlurred=!1,this.frameCount=0,this.lowestFps=Number.MAX_VALUE,this.highestFps=0,this.averageFps=0,this.easeIn=function(t){return 1-Math.cos(t*(Math.PI/2))},this.pathFunctions=["linear","curve","sinusoidal"],this.linear=function(t,e,i,s){return{xAxis:e*i,yAxis:e*s}},this.curve=function(t,e,i,s){var o=2+1*t;return{xAxis:Math.pow(e,o)*i,yAxis:e*s}},this.sinusoidal=function(t,e,i,s){var o=(2+2*t)/4;return{xAxis:Math.sin(e*Math.PI*o)*i,yAxis:e*s}},this.balloonAnimationDuration=function(t,e){return t/this.attr.speed[e%this.attr.speed.length]},this.isAnimationInProgress=function(){return this.balloonsData.some(function(t){return t.state===this.animationStates.inProgress},this)},this.setBalloonPosition=function(t,e){var i=this.easeIn(e),s=this[t.chosenPath](t.randomFactor,i,t.xSize,t.ySize),o=t.startPosition.xAxis+s.xAxis,a=t.startPosition.yAxis+s.yAxis;t.$node.css({transform:"matrix("+t.scale+", 0, 0, "+t.scale+", "+o+", -"+a+")"})},this.getAnimationStep=function(){var t=Date.now();this.animationStartTime||0===this.animationStartTime?this.calculateFpsInfo(t):this.animationStartTime=t,this.windowWasBlurred&&(this.windowWasBlurred=!1,this.animationStartTime+=t-this.lastAnimationStepTime),this.lastAnimationStepTime=t,this.balloonsData.forEach(function(e){var i=this.animationStartTime+e.delay;if(t>i){var s=t-i,o=s/e.animationDuration;o<=1.2?this.setBalloonPosition(e,o):(e.state=this.animationStates.finished,e.$node.addClass("u-hidden"))}},this),this.isAnimationInProgress()?this.balloonAnimationRequest=window.requestAnimationFrame(this.animationStep):this.cleanUpBalloons()},this.startAnimation=function(){this.animationStep=this.getAnimationStep.bind(this),this.balloonAnimationRequest=window.requestAnimationFrame(this.animationStep)},this.requestAnimation=function(t,e,i){this.isAnimationInProgress()||(this.resetControlVariables(),this.calculateViewPortSize(),this.createBalloons(),this.resetFpsInfo(),this.trigger("uiBalloonAnimationPlayed",{autoplay:t||i&&i.autoplay}),this.startAnimation())},this.chooseBalloon=function(t){return["Balloon",this.attr.colors[t%this.attr.colors.length],this.attr.sizes[t%this.attr.sizes.length]].join(" ")},this.createBalloons=function(){for(var e=this.pathFunctions.length,i=0;i<this.attr.numberOfBalloons;i++){var s=t("<span>",{class:this.chooseBalloon(i)});this.$node.append(s);var o=s.height(),n=s.width(),r=this.viewportSize.width-n,l=r*Math.max(i-5,0)/this.attr.numberOfBalloons,h=l+r*Math.min(i+5,this.attr.numberOfBalloons)/this.attr.numberOfBalloons,c={xAxis:a.a.getRandomInteger(l,h),yAxis:-1*o},d=a.a.getRandomInteger(c.xAxis,c.xAxis+this.attr.maxBalloonDriftOnXAxis)-this.attr.maxBalloonDriftOnXAxis/2,u=this.pathFunctions[i%e],f=Math.random(),m=a.a.getRandomInteger(this.attr.minInitialDelay,this.attr.minInitialDelay+this.attr.maxDelayAfterInital),p=Math.abs(d-c.xAxis),g=Math.abs(this.viewportSize.height-c.yAxis),v=this.balloonAnimationDuration(g,i);this.balloonsData.push({$node:s,state:this.animationStates.inProgress,delay:m,animationDuration:v,startPosition:c,scale:this.attr.scale[i%this.attr.scale.length],ySize:g,xSize:p,chosenPath:u,randomFactor:f})}},this.cleanUpBalloons=function(){this.balloonAnimationRequest&&window.cancelAnimationFrame(this.balloonAnimationRequest),this.balloonsData.forEach(function(t){return t.$node.remove()}),this.balloonsData=[],this.logFpsInfo()},this.calculateViewPortSize=function(){var e=t(window);this.viewportSize={height:e.height(),width:e.width()}},this.setWindowBlurredFlag=function(){this.windowWasBlurred=!0},this.resetControlVariables=function(){this.balloonsData=[],this.animationStep=void 0,this.animationStartTime=void 0,this.balloonAnimationRequest=void 0,this.viewportSize=void 0,this.lastAnimationStepTime=0,this.windowWasBlurred=!1},this.calculateFpsInfo=function(t){if(t>this.animationStartTime+this.attr.minInitialDelay+this.attr.maxDelayAfterInital/2){var e=Math.round(1e3/(t-this.lastAnimationStepTime)*100)/100;this.frameCount+=1,this.averageFps+=e,this.lowestFps=Math.min(this.lowestFps,e),this.highestFps=Math.max(this.highestFps,e)}},this.resetFpsInfo=function(){this.frameCount=0,this.averageFps=0,this.lowestFps=Number.MAX_VALUE,this.highestFps=0},this.logFpsInfo=function(){var t=console;n.a.fromQuery(window.location)[this.attr.debuggerBoxParam]&&(t.log("Average FPS: "+this.averageFps/this.frameCount),t.log("Lowest FPS: "+this.lowestFps),t.log("Highest FPS: "+this.highestFps))},this.after("initialize",function(){this.attr.autoPlayBalloonsAnimation&&this.on(document,"uiSwiftLoaded uiPageChanged",this.requestAnimation.bind(this,!0)),this.on(document,"uiBeforePageChanged",this.cleanUpBalloons),this.on(window,"blur",this.setWindowBlurredFlag),this.on(document,"uiBalloonAnimationRequested",this.requestAnimation.bind(this,!1))}),this.before("teardown",function(){this.cleanUpBalloons()})}var o=i("DBjh"),a=i("GGCE"),n=i("sxXh");e.a=Object(o.default)(s)}).call(e,i("4kSj"))},uI0b:function(t,e,i){"use strict";function s(t,e,i,s){var a="follower"===t?o.a.getFollowerStatPhrase:o.a.getFollowingStatPhrase,n=o.a.getCommaizedFormat(e),r=o.a.compactOrCommaize(e,s);return{highline_stat_phrase:a(e,n),highline_stat_value:o.a.getNumericStatText(e,n),html:o.a.getProfileFollowingStat(n,r),stat:t,user_id:i}}var o=i("ZNUT");e.a={getProfileStats:s}},w0oo:function(t,e,i){"use strict";(function(t){function i(){this.defaultAttrs({streamUserSelector:".stream-items .js-actionable-user"}),this.oldUsersDisplayed=function(t,e){var i=e.items||[],s=i.map(function(t){return{id:t.userId,impressionId:t.impressionId}});this.trigger("uiUsersDisplayed",{users:s})},this.usersDisplayed=function(){var e=this.select("streamUserSelector"),i=[];e.each(function(e,s){var o=t(s);i.push({id:o.attr("data-user-id"),impressionId:o.attr("data-impression-id")})}),this.trigger("uiUsersDisplayed",{users:i})},this.after("initialize",function(){this.usersDisplayed(),this.on("uiHasInjectedOldTimelineItems",this.oldUsersDisplayed)})}e.a=i}).call(e,i("4kSj"))},wTlF:function(t,e,i){"use strict";function s(){this.defaultAttrs({uploadType:"",enableEvent:"uiEditProfileStart",disableEvent:"uiEditProfileEnd"}),this.triggerGotProfileImageData=function(t){this.trigger("uiGotProfileImageData",{fileId:t.fileId,uploadType:this.attr.uploadType,wasDropped:!0})},this.getDroppedImageData=function(t,e){if(this.editing){var i=e.files&&e.files[0];!i||i.type&&!i.type.match(/^image\//)||(t.stopImmediatePropagation(),n.a.getFileInfo(i.name,i).then(this.triggerGotProfileImageData.bind(this)))}},this.enableDrop=function(){this.editing=!0},this.disableDrop=function(){this.editing=!1},this.after("initialize",function(){this.editing=!1,this.on(document,this.attr.enableEvent,this.enableDrop),this.on(document,this.attr.disableEvent,this.disableDrop),this.on("uiDrop",this.getDroppedImageData)})}var o=i("DBjh"),a=i("859Q"),n=i("+dWm");e.a=Object(o.default)(s,a.a)},wnHI:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({}),this.updateProfileStats=function(e,i){var s=this;i.stats&&i.stats.length&&t.each(i.stats,function(t,e){var i=s.statNode(e.user_id,e.stat),n=e.html;if(void 0!==e.delta){var r=i.data("count"),l=r+e.delta;l=l<0?0:l,i.data("count",l);n=o.a.getProfileStats(e.stat,l,e.user_id,a.a.language).html}s.isCompact(i)||i.html(n)})},this.statSelector=function(t,e){return'.stats[data-user-id="'+t+'"] a[data-element-term="'+e+'_stats"]'},this.statNode=function(t,e){return this.$node.find(this.statSelector(t,e))},this.isCompact=function(t){return!0===t.data("is-compact")},this.after("initialize",function(){this.on(document,"dataGotProfileStats",this.updateProfileStats)})}var o=i("uI0b"),a=i("v9EU");e.a=s}).call(e,i("4kSj"))},xiIe:function(t,e,i){"use strict";function s(){this.defaultAttrs({placeIdSelector:".GeoSearch-placeId",dropdownSelectedPlace:"",searchStatusSelector:".GeoSearch-searchStatus",searchResultsContainerSelector:".GeoSearch-resultsContainer"}),this.setDefaultProfileLocations=function(t,e){this.defaultProfileLocationsHtml=e.html||""},this.hasDefaultLocations=function(){return!!this.defaultProfileLocationsHtml},this.showDefaultLocations=function(){this.select("searchStatusSelector").hide(),this.select("searchResultsContainerSelector").html(this.defaultProfileLocationsHtml),this.applyAriaAttrsToResultsAndAnnounceNumResults()},this.prepareInitialDropdown=function(){var t=this.getQuery();this.lastQuery=t,t.trim()?this.selectedNewLocation||(this.trigger("uiShouldShowDropdown"),this.doSearch(t)):this.setDefaultDropdown(),this.selectedNewLocation=!1},this.setDefaultDropdown=function(){this.hasDefaultLocations()?(this.isTypeaheadSearch=!1,this.clearDropdownResults(),this.showDefaultLocations(),this.trigger("uiShouldShowDropdown"),this.applyAriaAttrsToResultsAndAnnounceNumResults()):this.isOpen()&&this.closeDropdown()},this.after("openDropdown",function(){this.isEditingProfileLocation||(this.isEditingProfileLocation=!0,this.trigger("uiLocationPickerOpened"))}),this.after("closeDropdown",function(){this.activeEl&&this.activeEl.innerHTML!==this.prevHtml&&this.setVisibleText(this.attr.dropdownSelectedPlace),this.clearDropdownResults()}),this.finishSaveLocation=function(){var t=this.getQuery();this.hasStructuredLocation()||this.trigger("uiLocationPickerInput",{context:"typeahead",referring_event:t})},this.clearDropdownResults=function(){this.select("searchResultsContainerSelector").html("")},this.clearPlaceId=function(){this.select("placeIdSelector").val("")},this.hasStructuredLocation=function(){return""!==this.select("placeIdSelector").val()},this.changeLocation=function(t,e){var i=this.getQuery(),s=e.placeId;e.placeName&&(this.select("querySelector").text(e.placeName),this.attr.dropdownSelectedPlace=e.placeName),s&&this.select("placeIdSelector").val(e.placeId),this.isEditingProfileLocation=!1,this.selectedNewLocation=!0,this.closeDropdown(),this.isTypeaheadSearch?this.trigger("uiLocationPickerSelect",{context:"typeahead",referring_event:i,message:s}):this.trigger("uiLocationPickerSelect",{context:"default",referring_event:i,message:s})},this.searchAutocomplete=function(){var t=this;setTimeout(function(){return t.searchIfQueryChanged()},0)},this.searchIfQueryChanged=function(){var t=this.getQuery();this.lastQuery!==t&&(this.lastQuery=t,this.clearPlaceId(),""===t?this.setDefaultDropdown():this.doSearch(t))},this.doSearch=function(t){this.isTypeaheadSearch=!0,this.select("searchStatusSelector").text(Object(a.default)("Searching places...")).show(),this.trigger("uiGeoProfileSearch",{query:t})},this.searchResults=function(t,e){var i=e.sourceEventData;i&&i.query===this.select("querySelector").text()&&("unavailable"===e.status?this.closeDropdown():(this.clearDropdownResults(),e.html?(this.trigger("uiShouldShowDropdown"),this.select("searchStatusSelector").hide(),this.select("searchResultsContainerSelector").html(e.html),this.applyAriaAttrsToResultsAndAnnounceNumResults()):this.closeDropdown()))},this.after("initialize",function(){this.initTextNode(),this.isEditingProfileLocation=!1,this.isTypeaheadSearch=!1,this.on(document,"uiEditProfileStart","uiRequestDefaultProfileLocations"),this.on(document,"uiEditProfileSaveLocation",this.finishSaveLocation),this.on(document,"dataDefaultProfileLocations",this.setDefaultProfileLocations),this.on(document,"dataProfileGeoSearchResults",this.searchResults),this.on(document,"dataProfileGeoSearchResultsUnavailable",this.closeDropdown),this.on("uiStartEditGeoLocation",{querySelector:this.prepareInitialDropdown}),this.on(this.select("querySelector"),"uiFinishEditGeoLocation",function(){this.isEditingProfileLocation=!1}),this.on("uiGeoSearchEnter",this.closeDropdown),this.on("uiGeoSearchTab",this.closeDropdown),this.on("uiGeoSearchChangeLocation",this.changeLocation),this.on("uiGeoSearchAutocomplete",this.searchAutocomplete)})}var o=i("DBjh"),a=i("0d4m"),n=i("+HBl"),r=i("q+ee"),l=i("84/5"),h=i("FBSA"),c=i("pUl/"),d=i("LcyA");e.a=Object(o.default)(r.a,s,c.a,l.a,h.a,d.a,n.a)},ykaF:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({changeLinkSelector:".change-trends",trendsInnerSelector:".trends-inner",trendItemSelector:".js-trend-item",trendLinkItemSelector:".js-trend-item a",itemType:"trend",displaySource:"module"}),this.openChangeTrendsDialog=function(t){this.trigger("uiShowTrendsLocationDialog"),t.preventDefault()},this.updateModuleContent=function(t,e){if(e.module_html){var i=this.$node.hasClass("hidden"),s=e.source;this.select("trendsInnerSelector").html(e.module_html),this.currentWoeid=e.woeid,this.$node.removeClass("hidden");var o=this.getTrendData(this.select("trendItemSelector"));this.trigger("uiTrendsDisplayed",{items:o,initial:i,source:s,scribeData:{woeid:this.currentWoeid}})}},this.trendSelected=function(e,i){var s=t(i.el).closest(this.attr.trendItemSelector),o=this.getTrendData(s)[0],n=s.index(),r={name:o.name,item_type:a.a.trend,item_query:o.name,position:n,token:o.token,id:o.id},l={position:n,query:o.name,url:s.find("a").attr("href"),woeid:this.currentWoeid};o.promotedTrendId&&(r.promoted_id=o.promotedTrendId,l.promoted=!0),l.items=[r],this.trigger("uiTrendSelected",{isPromoted:!!o.promotedTrendId,promotedTrendId:o.promotedTrendId,scribeContext:{element:"trend"},scribeData:l})},this.getTrendData=function(e){return e.map(function(){var e=t(this);return{name:e.attr("data-trend-name"),promotedTrendId:e.data("promoted-trend-id"),trendingEvent:e.hasClass("event-trend"),token:e.attr("data-trend-token"),id:e.attr("data-trends-id")}}).toArray()},this.after("initialize",function(){this.on(document,"dataTrendsRefreshed",this.updateModuleContent),this.on("click",{changeLinkSelector:this.openChangeTrendsDialog,trendLinkItemSelector:this.trendSelected}),this.trigger("uiRefreshTrends")})}var o=i("DBjh"),a=i("rbkv"),n=i("xgWv");e.a=Object(o.default)(s,n.a)}).call(e,i("4kSj"))},yxF7:function(t,e,i){"use strict";(function(t){function s(){var e={NOT_LOADED:"not-loaded",LOADING:"loading",LOADED:"loaded"};this.hasMoreItems=!0,this.defaultAttrs({profileUser:!1,gridPushState:!1,pushStateUrl:"/",defaultGalleryTitle:Object(r.default)("Media Gallery"),thumbnailSelector:".tweet-media-img-placeholder",thumbnailPlaceholderSelector:".thumbnail-placeholder.first",thumbnailNotLoadedSelector:'.tweet-media-img-placeholder[data-load-status="'+e.NOT_LOADED+'"]',thumbnailSize:90,thumbnailsVisible:6,showAllInlineMedia:!1,loadOnEventName:"uiLoadThumbnails",showSensitiveContent:!1,photoRailHeadingTextSelector:".PhotoRail-headingText",photoRailHeadingWithCountClass:"PhotoRail-headingText--withCount",photoRailHeadingWithoutCountClass:"PhotoRail-headingText--withoutCount",dataEvents:{requestItems:"uiWantsMoreMediaTimelineItems",gotItems:"dataGotMoreMediaTimelineItems"},defaultRequestData:{}}),this.thumbs=function(){return this.select("thumbnailSelector")},this.getMaxPosition=function(){var t=this.thumbs();if(t.length)return t.last().attr("data-status-id")},this.shouldGetMoreItems=function(e){t(e.target).attr("data-paged")||this.getMoreItems()},this.getMoreItems=function(){if(this.hasMoreItems){this.thumbs().attr("data-paged",!0),this.trigger(document,this.attr.dataEvents.requestItems,l({},this.attr.defaultRequestData,{max_position:this.maxPosition||this.getMaxPosition(),for_photo_rail:!0}))}},this.gotMoreItems=function(e,i){if(i.items_html&&t.trim(i.items_html).length){var s=t(t.isArray(i.items_html)?i.items_html.join(""):i.items_html);this.appendItems(s)}else this.hasMoreItems=!1;this.trigger(document,"dataGotMoreMediaItems",i),this.select("thumbnailSelector").length<this.attr.thumbnailsVisible&&this.hasMoreItems&&this.getMoreItems()},this.appendItems=function(t){this.attr.gridPushState&&(t.addClass("js-nav"),t.attr("href",this.attr.pushStateUrl)),this.select("thumbnailPlaceholderSelector").before(t),this.updateMaxPosition(),this.removeUnsupportedTypes(),this.renderVisible()},this.updateMaxPosition=function(){this.maxPosition=this.getMaxPosition()},this.removeUnsupportedTypes=function(){var e=this;this.select("thumbnailSelector").each(function(i,s){var o=t(s);!e.attr.showSensitiveContent&&o.data("possiblySensitive")&&o.remove()})},this.renderVisible=function(){var e=this.select("thumbnailSelector").slice(0,this.attr.thumbnailsVisible),i=e.filter(this.attr.thumbnailNotLoadedSelector),s=void 0;if(i.length){var o=this.select("photoRailHeadingTextSelector");i.length>=this.attr.thumbnailsVisible?(o.addClass(this.attr.photoRailHeadingWithCountClass),o.removeClass(this.attr.photoRailHeadingWithoutCountClass)):(o.addClass(this.attr.photoRailHeadingWithoutCountClass),o.removeClass(this.attr.photoRailHeadingWithCountClass)),this.loadThumbs(i),s={thumbnails:[]},i.each(function(e,i){return s.thumbnails.push(t(i).attr("data-image-url"))}),this.trigger("uiMediaThumbnailsVisible",s)}else e.length>0&&this.showThumbs();s={thumbnails:[]},i.each(function(e,i){return s.thumbnails.push(t(i).attr("data-image-url"))}),this.trigger("uiMediaThumbnailsVisible",s)},this.loadThumbs=function(t){t.attr("data-load-status",e.LOADING),t.each(this.loadThumb.bind(this))},this.loadThumb=function(e,i){var s=this,o=t(i),a=function(t){return s.loadThumbSuccess(o,t)},r=function(){return s.loadThumbFail(o)};n.a.load(o.attr("data-image-url")+":thumb",a,r)},this.loadThumbSuccess=function(t,i){t.attr("data-load-status",e.LOADED),i.css(a.a.getThumbnailOffset(i.get(0).height,i.get(0).width,this.attr.thumbnailSize)),i.attr("alt",t.attr("data-img-alt")),t.append(i),this.showThumbs()},this.loadThumbFail=function(t){t.remove(),this.renderVisible()},this.showThumbs=function(){this.$node.show(),this.$node.attr("data-loaded",!0)},this.thumbnailClick=function(e){e.stopPropagation(),e.preventDefault(),this.openGallery(e.target);var i=t(e.target);this.trigger("uiMediaThumbnailClick",{url:i.attr("data-image-url"),mediaType:"photo"})},this.openGallery=function(t){this.trigger(t,"uiOpenGallery")},this.removeThumbs=function(){this.thumbs().remove()},this.before("teardown",this.removeThumbs),this.after("initialize",function(){this.$node.attr("data-loaded")||(this.$node.hide(),this.trigger("uiMediaThumbnailsVisible",{thumbnails:[]}),this.thumbs().length>0&&this.renderVisible()),this.on("click",{thumbnailSelector:this.thumbnailClick}),this.on(document,this.attr.dataEvents.gotItems,this.gotMoreItems),this.on("uiGalleryMediaLoad",this.shouldGetMoreItems),this.attr.showAllInlineMedia?this.getMoreItems():this.on(document,"uiReloadThumbs",this.getMoreItems)})}var o=i("DBjh"),a=i("Ogfk"),n=i("/zmn"),r=i("0d4m"),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},h=Object(o.default)(s);e.a=h}).call(e,i("4kSj"))},z7B1:function(t,e,i){"use strict";function s(t){Object(o.a)(t),Object(a.a)(n({},t,{autoLoadPublisherIds:[]}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var o=i("NcZX"),a=i("t9Yq"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}},zAui:function(t,e,i){"use strict";(function(t){function s(){this.viewportHelpers=r.a,this.defaultAttrs({tweetSelector:".tweet",cursorSelector:".ThreadedConversation-showMoreThreads",itemType:"tweet",checkVisibilityInterval:500}),this.checkTweetVisibility=function(){var e=this,i=this.allVisibleTweets(),s=i.map(function(t){return this.interactionDataWithCard(t)},this),o=this.select("cursorSelector").filter(function(i,s){r.a.isWithinBounds(e.$window,t(s))}).toArray().map(function(e){return{type:t(e).data("cursor-type-name"),cursor:t(e).find("[data-cursor]").data("cursor")}});this.trigger("uiTweetsVisible",{tweetData:s,cursorData:o})},this.allVisibleTweets=function(){var t=this.select("tweetSelector"),e=this.findVisibleTweet(t);if(-1===e)return[];for(var i=[],s=e;t[s]&&r.a.isWithinBounds(this.$window,t.eq(s));)i.push(t[s]),s--;for(i.reverse(),s=e+1;t[s]&&r.a.isWithinBounds(this.$window,t.eq(s));)i.push(t[s]),s++;return i},this.findVisibleTweet=function(t){var e=r.a.getContainerRect(this.$window);return this.findVisibleTweetRecursive(t.length,0,t,0,e)},this.findVisibleTweetRecursive=function(t,e,i,s,o){var a=Math.floor((t-e)/2+e);return a===e||s>100?-1:r.a.isAboveViewport(this.$window,i.eq(a),0,o)?this.findVisibleTweetRecursive(t,a,i,s+1,o):r.a.isBelowViewport(this.$window,i.eq(a),0,o)?this.findVisibleTweetRecursive(a,e,i,s+1,o):a},this.before("teardown",function(){this.pollingInterval.clear()}),this.after("initialize",function(){this.$window=t(window),this.pollingInterval=n.default.setIntervalEvent("uiCheckTweetVisibility",this.attr.checkVisibilityInterval),this.on(document,"uiCheckTweetVisibility",this.checkTweetVisibility)})}var o=i("DBjh"),a=i("alSu"),n=i("r8Bt"),r=i("/LRg");e.a=Object(o.default)(s,a.a)}).call(e,i("4kSj"))},zca8:function(t,e,i){"use strict";function s(){this.after("initialize",function(){this.scribeOnEvent("uiScrollBumpViewMoreLinkClicked",{element:"view_more_link",action:"click"})})}var o=i("DBjh"),a=i("3oDc");e.a=Object(o.default)(a.a,s)},zgFR:function(t,e,i){"use strict";function s(){this.getNewestMembers=function(t,e){e.sourceEventData.listId===this.attr.listId&&this.get({url:this.attr.endPoint,data:{},eventData:e,success:"dataGotNewListMembers",error:"dataFailedToGetNewListMembers"})},this.after("initialize",function(){this.attr.listId=this.attr.list_id,this.attr.endPoint=this.attr.newest_members_url,this.on(document,"dataDidAddUserToList dataDidRemoveUserFromList",this.getNewestMembers)})}var o=i("DBjh"),a=i("VtWx");e.a=Object(o.default)(s,a.a)},zm5j:function(t,e,i){"use strict";(function(t){var i={scribeData:function(t){return{items:[{moments_details:t}]}},getClosestAttr:function(t,e){return t.closest("["+e+"]").attr(e)},getMomentMakerTopBarVisibility:function(){return t(".MomentMakerTopBar").attr("data-visibility-mode")}};e.a=i}).call(e,i("4kSj"))}});
//# sourceMappingURL=3.pages_profile.en.ea0de5847c47838f390c.js.map