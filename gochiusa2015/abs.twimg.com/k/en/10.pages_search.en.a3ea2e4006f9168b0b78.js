webpackJsonp([10],{"+NYY":function(t,e,i){"use strict";function s(){this.defaultAttrs({userGallerySelector:".AdaptiveStreamUserGallery",userGalleryItemSelector:".AdaptiveStreamUserGallery-user"}),this.getItemPosition=function(t){var e=t.closest(this.attr.userGalleryItemSelector);if(!(e.length>0))return-1;var i=e.closest(this.attr.userGallerySelector),s=i.find(this.attr.userGalleryItemSelector),n=s.index(e);return-1!==n?n:void 0}}e.a=s},"08to":function(t,e,i){"use strict";function s(){this.attributes({maxExcludedRecsInLocalStorage:100,endpoints:{users:{url:"/i/users/recommendations",method:"GET",successEvent:"dataDidGetUserRecommendations",errorEvent:"dataFailedToGetUserRecommendations"},dismiss:{url:"/i/users/recommendations/hide",method:"POST",successEvent:"dataDidDismissRecommendation",errorEvent:"dataFailedToDismissUserRecommendation"},promoted_self:{url:"/i/users/promoted_self",method:"GET",successEvent:"dataDidGetSelfPromotedAccount",errorEvent:"dataFailedToGetSelfPromotedAccount"}},endpointUrlOverrides:{}}),this.refreshEndpoint=function(t){return this.hitEndpoint(t,{"Cache-Control":"max-age=0",Pragma:"no-cache"})},this.hitEndpoint=function(t,e){var i=this;e=e||{};var s=this.attr.endpoints[t],n=this.attr.endpointUrlOverrides[t]||s.url;return function(t,a){a=a||{},a.excluded=a.excluded||[];var r=a.visible||[];delete a.visible,i.JSONRequest({type:s.method,url:n,headers:e,dataType:"json",data:o({},a,{excluded:i.storage.pushAll("excluded",a.excluded).concat(r).join(",")}),eventData:a,success:s.successEvent,error:s.errorEvent},s.method)}},this.excludeUsers=function(t,e){this.storage.pushAll("excluded",e.userIds),this.trigger("dataDidExcludeUserRecommendations",e)},this.excludeFollowed=function(t,e){e=e||{},"following"===e.newState&&e.userId&&this.storage.push("excluded",e.userId)},this.after("initialize",function(){var t=Object(a.a)({withArray:!0,withMaxElements:!0,withUniqueElements:!0});this.storage=new t("excluded_wtf_recs"),this.storage.setMaxElements("excluded",this.attr.maxExcludedRecsInLocalStorage),this.on(document,"uiRefreshUserRecommendations",this.refreshEndpoint("users")),this.on(document,"uiGetUserRecommendations",this.hitEndpoint("users")),this.on(document,"uiDismissUserRecommendation",this.hitEndpoint("dismiss")),this.on(document,"uiAddWtfBlacklistUsers",this.excludeUsers),this.on(document,"dataFollowStateChange",this.excludeFollowed),this.on(document,"uiPromptbirdWantsPromotedSelf",this.hitEndpoint("promoted_self"))})}var n=i("DBjh"),a=i("rWgq"),r=i("VtWx"),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},c=Object(n.default)(s,r.a);e.a=c},"08ua":function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({promotedTweetSelector:".promoted-tweet:not(.scribed)",promotedTweetForImpressionsSelector:".promoted-tweet:not(.presented)",scrollThrottle:100}),this.processTweets=function(){var e=this,i=r.a.getGlobalNavHeight(),s=this.$node.find(this.attr.promotedTweetSelector),n=this.$node.find(this.attr.promotedTweetForImpressionsSelector),a=s.filter(function(s,n){return r.a.isContainedInViewport(e.$window,t(n),i,0)}),o=n.filter(function(s,n){return r.a.isPartiallyContainedInViewport({$container:e.$window,$element:t(n),topThreshold:i,fractionInViewport:0})});if(o.length){o.addClass("presented");var c=o.map(function(e,i){return{impressionId:t(i).data("impression-id"),disclosureType:t(i).data("disclosure-type")}}).get();this.trigger("uiPromotedTweets1pxInViewport",{items:c})}if(a.length){a.addClass("scribed");var l=a.map(function(e,i){return{impressionId:t(i).data("impression-id"),disclosureType:t(i).data("disclosure-type")}}).get();this.trigger("uiPromotedTweetsInViewport",{items:l})}},this.after("initialize",function(e,i){this.$window=t(window),i&&i.inOverlay?this.on(e,"scroll resize",a.default.throttle(this.processTweets.bind(this),this.attr.scrollThrottle)):this.on(document,"scroll resize",a.default.throttle(this.processTweets.bind(this),this.attr.scrollThrottle)),this.on(document,"uiSwiftLoaded uiPageVisible uiPageChanged uiHasInjectedNewTimeline uiHasInjectedOldTimelineItems",this.processTweets)})}var n=i("DBjh"),a=i("YzIt"),r=i("/LRg");e.a=Object(n.default)(s)}).call(e,i("4kSj"))},"0iQm":function(t,e,i){"use strict";function s(){this.scribeTrendClick=function(t,e){this.scribe("search",e)},this.prepareScribeData=function(t){var e=t.initial?"initial":"newer",i={referring_event:e},s=!1;return i.items=t.items.map(function(t,e){var i={name:t.name,item_type:r.a.trend,item_query:t.name,position:e,token:t.token,id:t.id};return t.promotedTrendId&&(i.promoted_id=t.promotedTrendId,s=!0),i}),s&&(i.promoted=s),"clock"===t.source&&(i.event_initiator=o.a.clientSideApp),i},this.scribeTrendsResults=function(t,e){var i=this.prepareScribeData(e),s={element:i.referring_event,action:e.items&&e.items.length?"results":"no_results"};this.scribe(s,e,i),e.initial&&this.scribeTrendsImpression(e)},this.scribeTrendsImpression=function(t){this.scribe("impression",t)},this.__scribeChangeLocation=function(t,e){e.personalized&&this.scribe({component:"trends_location_dialog",element:"get_tailored_trends",action:"click"})},this.__scribeCustomizeLocation=function(t,e){this.scribe({component:"trends_location_dialog",element:"change_location",action:"click"})},this.after("initialize",function(){this.scribeOnEvent("uiTrendsDialogOpened","open"),this.on("uiTrendSelected",this.scribeTrendClick),this.on("uiTrendsDisplayed",this.scribeTrendsResults),this.on("uiChangeLocation",this.__scribeChangeLocation),this.on("uiTrendsDialogCustomizeLocation",this.__scribeCustomizeLocation)})}var n=i("DBjh"),a=i("3oDc"),r=i("rbkv"),o=i("UNvB");e.a=Object(n.default)(s,a.a)},"0iib":function(t,e,i){"use strict";function s(t){Object(a.a)(t),r.a.attachTo(document),l.a.attachTo(".AdaptiveNewsLargeImageHeadline",Object(n.a)(t,t.scribeComponent.newsGalleryLarge),{descriptionSelector:".AdaptiveNewsLargeImageHeadline-description",imageSelector:".AdaptiveNewsLargeImageHeadline-image",titleSelector:".AdaptiveNewsLargeImageHeadline-title"}),u.a.attachTo(".AdaptiveNewsLargeImageHeadline",Object(n.a)(t,t.scribeComponent.newsGalleryLarge)),l.a.attachTo(".AdaptiveNewsSmallImageHeadline",Object(n.a)(t,t.scribeComponent.newsGallerySmall),{descriptionSelector:".AdaptiveNewsSmallImageHeadline-description",imageSelector:".AdaptiveNewsSmallImageHeadline-image",titleSelector:".AdaptiveNewsSmallImageHeadline-title"}),u.a.attachTo(".AdaptiveNewsSmallImageHeadline",Object(n.a)(t,t.scribeComponent.newsGallerySmall)),l.a.attachTo(".AdaptiveNewsTextHeadline",Object(n.a)(t,t.scribeComponent.newsGalleryText),{descriptionSelector:".AdaptiveNewsTextHeadline-description",titleSelector:".AdaptiveNewsTextHeadline-title"}),u.a.attachTo(".AdaptiveNewsTextHeadline",Object(n.a)(t,t.scribeComponent.newsGalleryText)),l.a.attachTo(".AdaptiveNewsRelatedHeadlines",Object(n.a)(t,t.scribeComponent.relatedHeadlines),{descriptionSelector:".AdaptiveNewsRelatedHeadlines-description",titleSelector:".AdaptiveNewsRelatedHeadlines-title"}),u.a.attachTo(".AdaptiveNewsRelatedHeadlines",Object(n.a)(t,t.scribeComponent.relatedHeadlines)),u.a.attachTo(".AdaptiveStreamUserGallery",Object(n.a)(t,t.scribeComponent.userGallery)),o.a.attachTo(document),h.a.attachTo(".AdaptiveRelatedSearches",Object(n.a)(t,t.scribeComponent.relatedSearches)),c.a.attachTo(document),d.a.attachTo(".AdaptiveSpellingSuggestion",Object(n.a)(t,t.scribeComponent.spellingSuggestion))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=i("gNjh"),a=i("m+Fs"),r=i("lXMc"),o=i("Vf10"),c=i("yWM8"),l=i("y2UT"),h=i("PEGV"),d=i("LT15"),u=i("y9Hg")},"1q9j":function(t,e,i){"use strict";function s(){this.scribeHeadlineImpression=function(t,e){this.scribe("impression",e)},this.scribeOpenLink=function(t,e){this.scribe("open_link",e)},this.after("initialize",function(){this.on("uiAdaptivePlaceLoaded",this.scribeHeadlineImpression),this.on("uiAdaptivePlaceLinkOpened",this.scribeOpenLink)})}var n=i("DBjh"),a=i("3oDc");e.a=Object(n.default)(s,a.a)},"1zen":function(t,e,i){"use strict";function s(t){var e=f({},t,{endpoint:t.searchEndpoint});Object(n.a)(e),Object(a.a)("#timeline",f({},e,{excludeUserActions:!0,scrollTopOnNewItemsClick:!1}));var i=[l.a,h.a];c.a.attachTo(document),o.a.mixin.apply(this,i).attachTo("#timeline",e,{tweetItemSelector:".tweet, .grid-tweet"}),u.a.mixin(l.a).attachTo("#timeline",e);r.a.mixin(d.a).attachTo("#timeline",e,{showWithIdSelector:".show-popup-with-id, .js-user-profile-link, .ProfileCard-bg, .ProfileCard-avatarLink, .ProfileNameTruncated-link, .ProfileCard-screennameLink",tweetWithReplyDialogSelector:".grid-tweet",itemType:"tweet",eventData:{scribeContext:{component:"tweet"}}}),p.a.attachTo("#timeline",e)}var n=i("cuTm"),a=i("zqN9"),r=i("X18s"),o=i("mS8d"),c=i("DR2D"),l=i("+NYY"),h=i("jAyJ"),d=i("3UWX"),u=i("jctv"),p=i("08ua"),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=s},"3UWX":function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({promotedTweetStoreCookieName:"h"}),this.cookie=n.a,this.promotedTweetDismissed=function(t,e){e.impressionId&&this.removeFromPromotedTweetStoreCookie(e)},this.removePromotedTweetsFromBlockedUser=function(e,i){var s=this.$node.find("[data-user-id="+i.userId+"].js-stream-tweet.promoted-tweet"),n=this;t.each(s,function(e,i){var s=t(i).attr("data-tweet-id");s&&n.removeFromPromotedTweetStoreCookie({id:s})})},this.removeFromPromotedTweetStoreCookie=function(e){var i=void 0;try{i=JSON.parse(Object(n.a)(this.attr.promotedTweetStoreCookieName))}catch(t){i=[]}t.isArray(i)||(i=[i]),i=i.filter(function(t){return t&&t.tweet_id&&t.tweet_id!==e.id}),i=0===i.length?null:JSON.stringify(i),Object(n.a)(this.attr.promotedTweetStoreCookieName,i)},this.after("initialize",function(){this.on("uiTweetDismissed",this.promotedTweetDismissed),this.on(document,"jsClearReinjectionCookiesForUser",this.removePromotedTweetsFromBlockedUser)})}var n=i("dsp6");e.a=s}).call(e,i("4kSj"))},"3ZrE":function(t,e,i){"use strict";function s(){this.defaultAttrs({location:{},personalized:!1}),this.setLocationInfo=function(t,e){this.attr.personalized=!!e.personalized,this.attr.location=e.location||{},this.trigger("uiLocationInfoUpdated")},this.changeLocationInfo=function(t){this.trigger("uiChangeLocation",{location:t})},this.setPersonalizedTrends=function(){this.trigger("uiChangeLocation",{personalized:!0})},this.after("initialize",function(){this.on(document,"dataChangedTrendLocation",this.setLocationInfo)})}e.a=s},"45h/":function(t,e,i){"use strict";function s(t,e,i){var s=c({},t,{endpoint:e,itemType:i,eventData:{scribeContext:{component:i}}});Object(a.a)("#timeline",s),Object(n.a)(s),o.a.attachTo("#timeline",s,{tweetItemSelector:".grid-tweet"}),r.a.attachTo("#timeline",s)}var n=i("cuTm"),a=i("zqN9"),r=i("l7GE"),o=i("mS8d"),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=s},"6b+H":function(t,e,i){"use strict";function s(){var t=/:[A-Z0-9_-]+$/i;this.scribeMediaThumbnailResults=function(e,i){var s=i.thumbnails.length,n=s?"results":"no_results",a={};s&&(a.items=i.thumbnails.map(function(e){return{name:e.replace(t,"")}})),this.scribe({action:n},i,a)},this.scribeMediaThumbnailClick=function(e,i){var s={url:i.url&&i.url.replace(t,"")},n={element:i.mediaType,action:"click"};this.scribe(n,i,s)},this.after("initialize",function(){this.on(document,"uiMediaGalleryResults",this.scribeMediaThumbnailResults),this.on(document,"uiMediaThumbnailsVisible",this.scribeMediaThumbnailResults),this.on(document,"uiMediaThumbnailClick",this.scribeMediaThumbnailClick)})}var n=i("DBjh"),a=i("3oDc");e.a=Object(n.default)(s,a.a)},"74Qr":function(t,e,i){"use strict";function s(t){Object(a.a)(t),r.a.attachTo(document),o.a.attachTo(".AdaptiveGeoPlace--yelp",Object(n.a)(t,t.scribeComponent.placeYelp),{buttonSelector:".AdaptiveGeoPlace-linkButton"}),c.a.attachTo(".AdaptiveGeoPlace--yelp",Object(n.a)(t,t.scribeComponent.placeYelp)),o.a.attachTo(".AdaptiveGeoPlace--foursquare",Object(n.a)(t,t.scribeComponent.placeFoursquare),{buttonSelector:".AdaptiveGeoPlace-linkButton"}),c.a.attachTo(".AdaptiveGeoPlace--foursquare",Object(n.a)(t,t.scribeComponent.placeFoursquare))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=i("gNjh"),a=i("m+Fs"),r=i("1q9j"),o=i("FgpN"),c=i("y9Hg")},"8/ii":function(t,e,i){"use strict";function s(){this.attributes({storeName:"follow_search_nux",closeSelector:".js-action-dismiss"}),this.initStore=function(){this.store||(this.store=new a.a(this.attr.storeName+"_"+r.a.user.id))},this.shouldShowModule=function(){return this.initStore(),!this.store.getItem("seen_nux")&&(this.store.setItem("seen_nux","1"),!0)},this.showModule=function(){this.shouldShowModule()&&(this.$node.removeClass("u-hidden"),this.trigger("uiFollowSearchNuxImpression"))},this.hideModule=function(){this.$node.fadeOut()},this.after("initialize",function(){this.on(document,"uiSwiftLoaded uiPageChanged",this.showModule),this.on("click",{closeSelector:this.hideModule})})}var n=i("DBjh"),a=i("WODX"),r=i("IAMj");e.a=Object(n.default)(s)},"8PbC":function(t,e,i){"use strict";(function(t){function i(){this.defaultAttrs({viewAllSelector:"button.view-all-supplements",interactionsPageViewAllToggleSelector:".stream-item-activity-notification button.view-all-supplements",additionalStreamItemsSelector:".sub-stream-item-showing, .sub-stream-item-hidden"}),this.toggleInteractionsSupplements=function(e,i){var s=t(i.el),n=s.hasClass("show");this.toggleSupplementTrigger(s,n),this.toggleSubStreamItemsVisibility(s.parent(),n)},this.toggleSupplementTrigger=function(t,e){t.toggleClass("hide",e).toggleClass("show",!e)},this.toggleSubStreamItemsVisibility=function(t,e){t.find(this.attr.additionalStreamItemsSelector).toggleClass("sub-stream-item-hidden",!e).toggleClass("sub-stream-item-showing",e)},this.after("initialize",function(){this.on("click",{interactionsPageViewAllToggleSelector:this.toggleInteractionsSupplements})})}e.a=i}).call(e,i("4kSj"))},"8hg/":function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({regionsSelector:'select[name="regions"]',citiesSelector:'select[name="cities"]'}),this.initializeCities=function(){var e=this;this.citiesByRegionWoeid={},this.$cities.find("option").each(function(i,s){var n=t(s),a=n.data("woeid");e.citiesByRegionWoeid[a]||(e.citiesByRegionWoeid[a]=[]),e.citiesByRegionWoeid[a].push(n)})},this.updateDropdown=function(){var t=this.$regions.val(),e=this.citiesByRegionWoeid[t]||"";this.$cities.empty(),this.$cities.html(e)},this.updateRegion=function(){this.updateDropdown();var t=this.$cities.children().first();t.length&&(t.prop("selected",!0),t.change())},this.updateCity=function(){var t=this.$cities.find("option:selected"),e=parseInt(t.val(),10),i=t.data("name");this.currentSelection=e,this.changeLocationInfo({woeid:e,name:i})},this.possiblyClearSelection=function(){this.currentSelection!==this.attr.location.woeid&&this.reset()},this.reset=function(){this.currentSelection=null,this.$regions.find('option[value=""]').prop("selected",!0),this.updateDropdown()},this.after("initialize",function(){this.$regions=this.select("regionsSelector"),this.$cities=this.select("citiesSelector"),this.initializeCities(),this.on(this.$regions,"change",this.updateRegion),this.on(this.$cities,"change",this.updateCity),this.on(document,"uiTrendsDialogReset",this.reset),this.on("uiLocationInfoUpdated",this.possiblyClearSelection),this.updateDropdown()})}var n=i("DBjh"),a=i("3ZrE");e.a=Object(n.default)(s,a.a)}).call(e,i("4kSj"))},"8mUk":function(t,e,i){"use strict";var s=i("4Pj3"),n=i("GbBZ"),a=i("k1OA"),r=i("8PbC"),o=i("CA0f"),c=i("E+fT"),l=i("xgWv"),h=i("bgdb"),d=i("jyKx"),u=i("CNhr"),p=i("Pp1+"),f=s.a.mixin(n.a,a.a,r.a,o.a,c.a,l.a,h.a,d.a,u.a,p.a);e.a=f},"9n2V":function(t,e,i){"use strict";function s(t,e,i){var s=c({},e,i,{eventData:{scribeContext:{component:"user_recommendations"}}});o.a.attachTo(t,s),n.a.attachTo(t,s),a.a.attachTo(document,s),r.a.attachTo(t,s)}e.a=s;var n=i("F3RN"),a=i("08to"),r=i("hYUW"),o=i("IF4z"),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}},BVZ3:function(t,e,i){!function(e){var s=i("4kSj");!function(t){function e(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var t=new Date;return e(t.getFullYear(),t.getMonth(),t.getDate())}function s(t){return function(){return this[t].apply(this,arguments)}}function n(e,i){function s(_,t){return t.toLowerCase()}var n,a=t(e).data(),r={},o=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var c in a)i.test(c)&&(n=c.replace(o,s),r[n]=a[c]);return r}function a(e){var i={};if(p[e]||(e=e.split("-")[0],p[e])){var s=p[e];return t.each(u,function(t,e){e in s&&(i[e]=s[e])}),i}}var r=t(window),o=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,s=this.length;i<s;i++)if(this[i].valueOf()===e)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.splice(0)},copy:function(){var t=new o;return t.replace(this),t}};return function(){var i=[];return i.push.apply(i,arguments),t.extend(i,e),i}}(),c=function(e,s){this.dates=new o,this.viewDate=i(),this.focusDate=null,this._process_options(s),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(f.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};c.prototype={constructor:c,_process_options:function(e){this._o=t.extend({},this._o,e);var i=this.o=t.extend({},this._o),s=i.language;switch(p[s]||(s=s.split("-")[0],p[s]||(s=d.language)),i.language=s,i.startView){case 2:case"decade":i.startView=2;break;case 1:case"year":i.startView=1;break;default:i.startView=0}switch(i.minViewMode){case 1:case"months":i.minViewMode=1;break;case 2:case"years":i.minViewMode=2;break;default:i.minViewMode=0}i.startView=Math.max(i.startView,i.minViewMode),!0!==i.multidate&&(i.multidate=Number(i.multidate)||!1,!1!==i.multidate?i.multidate=Math.max(0,i.multidate):i.multidate=1),i.multidateSeparator=String(i.multidateSeparator),i.weekStart%=7,i.weekEnd=(i.weekStart+6)%7;var n=f.parseFormat(i.format);i.startDate!==-1/0&&(i.startDate?i.startDate instanceof Date?i.startDate=this._local_to_utc(this._zero_time(i.startDate)):i.startDate=f.parseDate(i.startDate,n,i.language):i.startDate=-1/0),i.endDate!==1/0&&(i.endDate?i.endDate instanceof Date?i.endDate=this._local_to_utc(this._zero_time(i.endDate)):i.endDate=f.parseDate(i.endDate,n,i.language):i.endDate=1/0),i.daysOfWeekDisabled=i.daysOfWeekDisabled||[],t.isArray(i.daysOfWeekDisabled)||(i.daysOfWeekDisabled=i.daysOfWeekDisabled.split(/[,\s]*/)),i.daysOfWeekDisabled=t.map(i.daysOfWeekDisabled,function(t){return parseInt(t,10)});var a=String(i.orientation).toLowerCase().split(/\s+/g),r=i.orientation.toLowerCase();if(a=t.grep(a,function(t){return/^auto|left|right|top|bottom$/.test(t)}),i.orientation={x:"auto",y:"auto"},r&&"auto"!==r)if(1===a.length)switch(a[0]){case"top":case"bottom":i.orientation.y=a[0];break;case"left":case"right":i.orientation.x=a[0]}else r=t.grep(a,function(t){return/^left|right$/.test(t)}),i.orientation.x=r[0]||"auto",r=t.grep(a,function(t){return/^top|bottom$/.test(t)}),i.orientation.y=r[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,i,s,n=0;n<t.length;n++)e=t[n][0],2===t[n].length?(i=void 0,s=t[n][1]):3===t[n].length&&(i=t[n][1],s=t[n][2]),e.on(s,i)},_unapplyEvents:function(t){for(var e,i,s,n=0;n<t.length;n++)e=t[n][0],2===t[n].length?(s=void 0,i=t[n][1]):3===t[n].length&&(s=t[n][1],i=t[n][2]),e.off(i,s)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var s=i||this.dates.get(-1),n=this._utc_to_local(s);this.element.trigger({type:e,date:n,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return f.formatDate(i,e,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:s("setDates"),setUTCDate:s("setUTCDates"),setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change()},getFormattedDate:function(e){void 0===e&&(e=this.o.format);var i=this.o.language;return t.map(this.dates,function(t){return f.formatDate(t,e,i)}).join(this.o.multidateSeparator)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=this.picker.outerWidth(),i=this.picker.outerHeight(),s=r.width(),n=r.height(),a=r.scrollTop(),o=parseInt(this.element.parents().filter(function(){return"auto"!==t(this).css("z-index")}).first().css("z-index"))+10,c=this.component?this.component.parent().offset():this.element.offset(),l=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),d=c.left,u=c.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(d-=e-h)):(this.picker.addClass("datepicker-orient-left"),c.left<0?d-=c.left-10:c.left+e>s&&(d=s-e-10));var p,f,m=this.o.orientation.y;"auto"===m&&(p=-a+c.top-i,f=a+n-(c.top+l+i),m=Math.max(p,f)===f?"top":"bottom"),this.picker.addClass("datepicker-orient-"+m),"top"===m?u+=l:u-=i+parseInt(this.picker.css("padding-top")),this.picker.css({top:u,left:d,zIndex:o})}},_allow_update:!0,update:function(){if(this._allow_update){var e=this.dates.copy(),i=[],s=!1;arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),s=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=t.map(i,t.proxy(function(t){return f.parseDate(t,this.o.format,this.o.language)},this)),i=t.grep(i,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),s?this.setValue():i.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';e+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+p[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;e<12;)t+='<span class="month">'+p[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],s=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),a=new Date;return e.getUTCFullYear()<s||e.getUTCFullYear()===s&&e.getUTCMonth()<n?i.push("old"):(e.getUTCFullYear()>s||e.getUTCFullYear()===s&&e.getUTCMonth()>n)&&i.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===a.getFullYear()&&e.getUTCMonth()===a.getMonth()&&e.getUTCDate()===a.getDate()&&i.push("today"),-1!==this.dates.contains(e)&&i.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&i.push("selected")),i},fill:function(){var i,s=new Date(this.viewDate),n=s.getUTCFullYear(),a=s.getUTCMonth(),r=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,o=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,h=p[this.o.language].today||p.en.today||"",d=p[this.o.language].clear||p.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(p[this.o.language].months[a]+" "+n),this.picker.find("tfoot th.today").text(h).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot th.clear").text(d).toggle(!1!==this.o.clearBtn),this.updateNavArrows(),this.fillMonths();var u=e(n,a-1,28),m=f.getDaysInMonth(u.getUTCFullYear(),u.getUTCMonth());u.setUTCDate(m),u.setUTCDate(m-(u.getUTCDay()-this.o.weekStart+7)%7);var g=new Date(u);g.setUTCDate(g.getUTCDate()+42),g=g.valueOf();for(var v,S=[];u.valueOf()<g;){if(u.getUTCDay()===this.o.weekStart&&(S.push("<tr>"),this.o.calendarWeeks)){var w=new Date(+u+(this.o.weekStart-u.getUTCDay()-7)%7*864e5),b=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),T=new Date(Number(T=e(b.getUTCFullYear(),0,1))+(11-T.getUTCDay())%7*864e5),y=(b-T)/864e5/7+1;S.push('<td class="cw">'+y+"</td>")}if(v=this.getClassNames(u),v.push("day"),this.o.beforeShowDay!==t.noop){var C=this.o.beforeShowDay(this._utc_to_local(u));void 0===C?C={}:"boolean"==typeof C?C={enabled:C}:"string"==typeof C&&(C={classes:C}),!1===C.enabled&&v.push("disabled"),C.classes&&(v=v.concat(C.classes.split(/\s+/))),C.tooltip&&(i=C.tooltip)}v=t.unique(v),S.push('<td class="'+v.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+u.getUTCDate()+"</td>"),u.getUTCDay()===this.o.weekEnd&&S.push("</tr>"),u.setUTCDate(u.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(S.join(""));var D=this.picker.find(".datepicker-months").find("th:eq(1)").text(n).end().find("span").removeClass("active");t.each(this.dates,function(t,e){e.getUTCFullYear()===n&&D.eq(e.getUTCMonth()).addClass("active")}),(n<r||n>c)&&D.addClass("disabled"),n===r&&D.slice(0,o).addClass("disabled"),n===c&&D.slice(l+1).addClass("disabled"),S="",n=10*parseInt(n/10,10);var k=this.picker.find(".datepicker-years").find("th:eq(1)").text(n+"-"+(n+9)).end().find("td");n-=1;for(var I,j=t.map(this.dates,function(t){return t.getUTCFullYear()}),O=-1;O<11;O++)I=["year"],-1===O?I.push("old"):10===O&&I.push("new"),-1!==t.inArray(n,j)&&I.push("active"),(n<r||n>c)&&I.push("disabled"),S+='<span class="'+I.join(" ")+'">'+n+"</span>",n+=1;k.html(S)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(i){i.preventDefault();var s,n,a,r=t(i.target).closest("span, td, th");if(1===r.length)switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=f.modes[this.viewMode].navStep*("prev"===r[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var c=new Date;c=e(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0),this.showMode(-2);var l="linked"===this.o.todayBtn?null:"view";this._setDate(c,l);break;case"clear":var h;this.isInput?h=this.element:this.component&&(h=this.element.find("input")),h&&h.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":r.is(".disabled")||(this.viewDate.setUTCDate(1),r.is(".month")?(a=1,n=r.parent().find("span").index(r),s=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(n),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(e(s,n,a))):(a=1,n=0,s=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(s),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(e(s,n,a))),this.showMode(-1),this.fill());break;case"td":r.is(".day")&&!r.is(".disabled")&&(a=parseInt(r.text(),10)||1,s=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),r.is(".old")?0===n?(n=11,s-=1):n-=1:r.is(".new")&&(11===n?(n=0,s+=1):n+=1),this._setDate(e(s,n,a)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t?-1!==e?this.dates.remove(e):this.dates.push(t):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,e){if(t){if(!e)return t;var i,s,n=new Date(t.valueOf()),a=n.getUTCDate(),r=n.getUTCMonth(),o=Math.abs(e);if(e=e>0?1:-1,1===o)s=-1===e?function(){return n.getUTCMonth()===r}:function(){return n.getUTCMonth()!==i},i=r+e,n.setUTCMonth(i),(i<0||i>11)&&(i=(i+12)%12);else{for(var c=0;c<o;c++)n=this.moveMonth(n,e);i=n.getUTCMonth(),n.setUTCDate(a),s=function(){return i!==n.getUTCMonth()}}for(;s();)n.setUTCDate(--a),n.setUTCMonth(i);return n}},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27===t.keyCode&&this.show());var e,s,n,a=!1,r=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(s=this.moveYear(this.dates.get(-1)||i(),e),n=this.moveYear(r,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(s=this.moveMonth(this.dates.get(-1)||i(),e),n=this.moveMonth(r,e),this._trigger("changeMonth",this.viewDate)):(s=new Date(this.dates.get(-1)||i()),s.setUTCDate(s.getUTCDate()+e),n=new Date(r),n.setUTCDate(r.getUTCDate()+e)),this.dateWithinRange(s)&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(s=this.moveYear(this.dates.get(-1)||i(),e),n=this.moveYear(r,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(s=this.moveMonth(this.dates.get(-1)||i(),e),n=this.moveMonth(r,e),this._trigger("changeMonth",this.viewDate)):(s=new Date(this.dates.get(-1)||i()),s.setUTCDate(s.getUTCDate()+7*e),n=new Date(r),n.setUTCDate(r.getUTCDate()+7*e)),this.dateWithinRange(s)&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:r=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(r),a=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(a){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+f.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var l=function(e,i){this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,t(this.inputs).datepicker(i).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};l.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var i=t(e.target).data("datepicker"),s=i.getUTCDate(),n=t.inArray(e.target,this.inputs),a=this.inputs.length;if(-1!==n){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(s)}),s<this.dates[n])for(;n>=0&&s<this.dates[n];)this.pickers[n--].setUTCDate(s);else if(s>this.dates[n])for(;n<a&&s>this.dates[n];)this.pickers[n++].setUTCDate(s);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var h=t.fn.datepicker;t.fn.datepicker=function(e){var i=Array.apply(null,arguments);i.shift();var s;return this.each(function(){var r=t(this),o=r.data("datepicker"),h="object"==typeof e&&e;if(!o){var u=n(this,"date"),p=t.extend({},d,u,h),f=a(p.language),m=t.extend({},d,f,u,h);if(r.is(".input-daterange")||m.inputs){var g={inputs:m.inputs||r.find("input").toArray()};r.data("datepicker",o=new l(this,t.extend(m,g)))}else r.data("datepicker",o=new c(this,m))}if("string"==typeof e&&"function"==typeof o[e]&&void 0!==(s=o[e].apply(o,i)))return!1}),void 0!==s?s:this};var d=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},u=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=c;var p=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},f={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return[31,f.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\0").split("\0"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(i,s,n){function a(){var t=this.slice(0,d[l].length);return t===d[l].slice(0,t.length)}if(i){if(i instanceof Date)return i;"string"==typeof s&&(s=f.parseFormat(s));var r,o,l,h=/([\-+]\d+)([dmwy])/,d=i.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){for(i=new Date,l=0;l<d.length;l++)switch(r=h.exec(d[l]),o=parseInt(r[1]),r[2]){case"d":i.setUTCDate(i.getUTCDate()+o);break;case"m":i=c.prototype.moveMonth.call(c.prototype,i,o);break;case"w":i.setUTCDate(i.getUTCDate()+7*o);break;case"y":i=c.prototype.moveYear.call(c.prototype,i,o)}return e(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}d=i&&i.match(this.nonpunctuation)||[],i=new Date;var u,m,g={},v=["yyyy","yy","M","MM","m","mm","d","dd"],S={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};S.M=S.MM=S.mm=S.m,S.dd=S.d,i=e(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var w=s.parts.slice();if(d.length!==w.length&&(w=t(w).filter(function(e,i){return-1!==t.inArray(i,v)}).toArray()),d.length===w.length){var b;for(l=0,b=w.length;l<b;l++){if(u=parseInt(d[l],10),r=w[l],isNaN(u))switch(r){case"MM":m=t(p[n].months).filter(a),u=t.inArray(m[0],p[n].months)+1;break;case"M":m=t(p[n].monthsShort).filter(a),u=t.inArray(m[0],p[n].monthsShort)+1}g[r]=u}var T,y;for(l=0;l<v.length;l++)(y=v[l])in g&&!isNaN(g[y])&&(T=new Date(i),S[y](T,g[y]),isNaN(T)||(i=T))}return i}},formatDate:function(e,i,s){if(!e)return"";"string"==typeof i&&(i=f.parseFormat(i));var n={d:e.getUTCDate(),D:p[s].daysShort[e.getUTCDay()],DD:p[s].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:p[s].monthsShort[e.getUTCMonth()],MM:p[s].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m,e=[];for(var a=t.extend([],i.separators),r=0,o=i.parts.length;r<=o;r++)a.length&&e.push(a.shift()),e.push(n[i.parts[r]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};f.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+f.headTemplate+"<tbody></tbody>"+f.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+f.headTemplate+f.contTemplate+f.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+f.headTemplate+f.contTemplate+f.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=f,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=h,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),i.datepicker("show"))}),t(function(){t('[data-provide="datepicker-inline"]').datepicker()})}(s),t.exports=s}()},CZUl:function(t,e,i){"use strict";function s(t){Object(a.a)(t),h.a.attachTo(".AdaptiveStreamUserGallery",Object(n.a)(t,t.scribeComponent.userGallery)),r.a.attachTo(document),c.a.attachTo(".AdaptiveRelatedSearches",Object(n.a)(t,t.scribeComponent.relatedSearches)),o.a.attachTo(document),l.a.attachTo(".AdaptiveSpellingSuggestion",Object(n.a)(t,t.scribeComponent.spellingSuggestion))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=i("gNjh"),a=i("m+Fs"),r=i("Vf10"),o=i("yWM8"),c=i("PEGV"),l=i("LT15"),h=i("y9Hg")},DJnx:function(t,e,i){"use strict";(function(t){function i(){this.defaultAttrs({selectedStreamItemSelector:".selected-stream-item",ownTweetSelector:".my-tweet"}),this.isSelected=function(e,i,s){var n=this.select("selectedStreamItemSelector"),a=n[0],r=e.target;return n.is(r)||!(!a||!t.contains(a,r))},this.getSelectedTweet=function(t,e,i){var s=this.select("selectedStreamItemSelector").find(this.attr.tweetItemSelector),n=!!s.length;return n&&(i.$tweet=s),n},this.after("initialize",function(){if(this.attr.loggedIn){var t=this.mkTweetDataCollectorForAction(this.interactionDataWithCard),e=this.mkTweetDataCollectorForAction(this.interactionDataWithCard,this.getDataForReply);this.on("uiShortcutFavorite",this.composeHandler(this.isSelected,this.getSelectedTweet,t,this.toggleFavorite)),this.on("uiShortcutRetweet",this.composeHandler(this.isSelected,this.getSelectedTweet,t,this.toggleRetweet)),this.on("uiShortcutReply",this.composeHandler(this.isSelected,this.getSelectedTweet,e,this.triggerTweetAction("uiReplyToTweet")))}})}e.a=i}).call(e,i("4kSj"))},F3RN:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({dashboardSelector:".dashboard-user-recommendations",recUserSelector:".js-actionable-user",dismissRecSelector:".js-action-dismiss",viewAllSelector:".js-view-all-link",findFriendsSelector:".js-find-friends-link"}),this.dismissRecommendation=function(e,i){if(!this.currentlyRefreshing){this.currentlyDismissing=!0;var s=t(e.target).closest(this.attr.recSelector),n=s.attr("data-user-id");this.trigger("uiDismissUserRecommendation",{recommended_user_id:n,impressionId:s.attr("data-impression-id"),excluded:[n],visible:this.getVisibleIds(s),token:s.attr("data-feedback-token"),dismissable:this.attr.wtfOptions.dismissable,refreshUserId:n}),this.animateContentOut(s,"animationCallback")}},this.handleDismissResponse=function(e,i){var s=this;if(i=i||{},this.currentlyDismissing=!1,i.user_recommendations_html){var n=this.currentlyRefreshingUser(i),a=t(i.user_recommendations_html),r=a.attr("data-user-id");if(this.select("recSelector").is("[data-user-id="+r+"]"))return void n.find(this.attr.dismissRecSelector).click();var o=this.getItemPosition(n);this.animateContentIn(n,"animationCallback",i.user_recommendations_html,{modOp:"replaceWith",scribeCallback:function(){var t={oldUser:s.interactionData(n,{position:o})};a.length&&(t.newUser=s.interactionData(a,{position:o})),s.trigger("uiDidDismissUserRecommendation",t)}})}else this.handleEmptyDismissResponse(i)},this.handleDismissError=function(t,e){this.handleEmptyDismissResponse(e)},this.handleEmptyDismissResponse=function(t){var e=this.currentlyRefreshingUser(t);e&&e.remove(),this.select("recSelector").length||(this.trigger("uiShowMessage",{message:Object(n.default)("You have no more recommendations today!")}),this.$node.remove())},this.enable=function(){this.disabled=!1,this.refreshRecommendations({type:"empty-timeline"}),this.$node.show()},this.initRecommendations=function(t,e){this.disabled?this.$node.hide():this.verifyInitialRecommendations(t,e)},this.reset=function(){this.currentlyRefreshing||this.currentlyDismissing?this.select("dashboardSelector").html(""):(this.select("dashboardSelector").css("opacity",1),this.select("recUserSelector").css("opacity",1))},this.expandWhoToFollow=function(t,e){this.currentlyExpanding=!0;var i=h({},this.attr.wtfOptions,{limit:3,visible:this.getVisibleIds(t),refreshUserId:e.userId,get_replacement:!0});this.trigger("uiGetUserRecommendations",i)},this.triggerLinkClickScribes=function(e){var i=this,s={import_link:this.attr.findFriendsSelector,view_all_link:this.attr.viewAllSelector,refresh_link:this.attr.refreshRecsSelector},n=t(e.target);t.each(s,function(t,e){n.is(e)&&i.trigger(document,"uiClickedWtfLink",{element:t})})},this.getNewRecommendations=function(t,e,i){"wtf-component"===this.attr.wtfOptions.display_location&&!this.currentlyExpanding&&this.getVisibleIds(null,!0).length<=3?this.expandWhoToFollow(e,i):t(e,i)},this.after("initialize",function(){this.disabled=!!this.attr.wtfOptions&&this.attr.wtfOptions.disabled,this.on(document,"dataDidDismissRecommendation",this.handleDismissResponse),this.on(document,"dataFailedToDismissUserRecommendation",this.handleDismissError),this.on(document,"uiDidHideEmptyTimelineModule",this.enable),this.on(document,"uiSwiftLoaded uiPageChanged",this.initRecommendations),this.on(document,"uiBeforePageChanged",this.reset),this.on("click",{dismissRecSelector:this.dismissRecommendation,viewAllSelector:this.triggerLinkClickScribes,findFriendsSelector:this.triggerLinkClickScribes,refreshRecsSelector:this.triggerLinkClickScribes}),this.around("cycleRecommendation",function(t,e,i){this.getNewRecommendations(t,e,i)})})}var n=i("0d4m"),a=i("DBjh"),r=i("El2S"),o=i("xgWv"),c=i("e6X4"),l=i("PtJB"),h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(a.default)(s,r.a,o.a,c.a,l.a)}).call(e,i("4kSj"))},FgpN:function(t,e,i){"use strict";function s(){this.defaultAttrs({buttonSelector:".AdaptiveGeoPlace-linkButton"}),this.onClickLink=function(t){this.trigger("uiAdaptivePlaceLinkOpened",{scribeContext:{element:t}})},this.after("initialize",function(_,t){this.on("click",{buttonSelector:this.onClickLink.bind(this,"button")}),this.trigger("uiAdaptivePlaceLoaded")})}var n=i("DBjh");e.a=Object(n.default)(s)},"G/Dn":function(t,e,i){"use strict";function s(){}var n=i("DBjh"),a=i("Oofp");e.a=Object(n.default)(s,a.a)},G3LU:function(t,e,i){"use strict";(function(t){function i(){this.aroundGetOldItemsData=function(e){var i=e();return this.attr.useExcludedIdsPagination&&(i.excluded=this.select("excludedUserSelector").map(function(){return t(this).attr("data-user-id")}).toArray().join(","),i.cursor=void 0),i},this.after("initialize",function(){this.around("getOldItemsData",this.aroundGetOldItemsData)})}e.a=i}).call(e,i("4kSj"))},H1y1:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({collapseToggleSelector:".SidebarFilterModule-toggle",filterSelectSelector:".SidebarFilterModule-select"}),this.onChangeFilter=function(e){var i=t(e.target);this.trigger("uiNavigate",{href:i.val()}),this.trigger("uiSearchSidebarFilterClicked",{scribeContext:{element:i.find("option:selected").attr("data-nav")},url:i.val()})},this.onToggleClick=function(e){var i=t(e.target);this.$node.hasClass("is-collapsed")?(i.text(Object(a.default)("Hide")),this.$node.removeClass("is-collapsed"),this.trigger("uiSearchSidebarModuleExpanded")):(i.text(Object(a.default)("Show")),this.$node.addClass("is-collapsed"),this.trigger("uiSearchSidebarModuleCollapsed")),i.blur()},this.after("initialize",function(){this.on("change",{filterSelectSelector:this.onChangeFilter}),this.on("click",{collapseToggleSelector:this.onToggleClick})})}var n=i("DBjh"),a=i("0d4m");e.a=Object(n.default)(s)}).call(e,i("4kSj"))},HjF0:function(t,e,i){"use strict";function s(){this.defaultAttrs({listContainerSelector:".trend-location-picker"}),this.loadTrendLocations=function(t,e){var i=e.trendLocations;this.$list.empty(),i.forEach(function(t){var e=this.$template.clone(!1),i=e.find("button");i.text(t.name),i.attr("data-woeid",t.woeid),i.attr("data-name",t.name),this.$list.append(e)},this),this.$node.toggle(i.length>0)},this.after("initialize",function(){this.$list=this.select("listContainerSelector"),this.$template=this.$list.find("li:first").clone(!1),this.on(document,"dataGotRecentTrendLocations",this.loadTrendLocations),this.trigger("uiWantsRecentTrendLocations")})}var n=i("DBjh"),a=i("Oofp");e.a=Object(n.default)(s,a.a)},IF4z:function(t,e,i){"use strict";function s(){this.scribeImpression=function(t,e){this.scribe(r({},e.scribeContext,{element:"wtf_import_prompt",action:"impression"}))},this.scribeToggle=function(t,e){this.scribe(r({},e.scribeContext,{element:"wtf_import_prompt",action:e.action}),{section:"other_services"})},this.after("initialize",function(){this.on("uiWTFImportPromptImpression",this.scribeImpression),this.on("uiWTFImportPromptToggle",this.scribeToggle)})}var n=i("DBjh"),a=i("3oDc"),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(n.default)(s,a.a)},JnjQ:function(t,e,i){"use strict";function s(){this.defaultAttrs({scribeInterval:6e4,page:void 0}),this.getTime=function(){return Date.now()},this.handleTweetsVisible=function(t,e){this.recordVisibleTweets(e.tweetData),e.cursorData&&this.recordVisibleCursors(e.cursorData)},this.recordVisibleCursors=function(t){var e=this,i={};t.forEach(function(t){e.visibleCursors[t.cursor]&&(e.previouslyVisibleCursors[t.cursor]=t.type),i[t.cursor]=t.type}),this.visibleCursors=i},this.recordVisibleTweets=function(t){var e={},i=this.getTime();t.forEach(function(t){this.visibleTweets[t.tweetId]?e[t.tweetId]=c({},this.visibleTweets[t.tweetId],{visibility_end:i}):e[t.tweetId]=c({},t,{visibility_start:i,visibility_end:i})},this),this.visibleTweetKeys().forEach(function(t){var i=this.visibleTweets[t],s=!e[t],n=i.visibility_start!==i.visibility_end;s&&n&&this.previouslyVisibleTweets.push(this.visibleTweets[t])},this),this.visibleTweets=e},this.flushVisibleTweets=function(t,e){var i=this.getTime();this.visibleTweetKeys().forEach(function(t){this.visibleTweets[t].visibility_end=i},this),this.recordVisibleTweets([]),this.scribeVisibilityResults()},this.onScribeVisibilityResults=function(t,e){e.page===this.attr.page&&(this.scribeVisibilityResults(),this.scribeCursorVisibilityResults())},this.scribeCursorVisibilityResults=function(){var t=this;if(Object.keys(this.previouslyVisibleCursors).length){var e={component:"tweet",element:"cursor",action:"impression"};Object.keys(this.previouslyVisibleCursors).forEach(function(i){t.previouslyScribedCursors[i]||(t.scribe(e,{event_info:t.previouslyVisibleCursors[i]}),t.previouslyScribedCursors[i]=!0)}),this.previouslyVisibleCursors={}}},this.scribeVisibilityResults=function(){if(this.previouslyVisibleTweets.length){var t={component:"stream",element:"linger",action:"results"},e={items:this.previouslyVisibleTweets.map(function(t){return this.interactionItem(t)},this)};this.previouslyVisibleTweets=[],this.scribe(t,e)}},this.visibleTweetKeys=function(){return Object.keys(this.visibleTweets).filter(function(t){return this.visibleTweets.propertyIsEnumerable(t)},this)},this.before("teardown",function(){this.pollingInterval.clear()}),this.after("initialize",function(){this.visibleTweets={},this.previouslyVisibleTweets=[],this.visibleCursors={},this.previouslyVisibleCursors={},this.previouslyScribedCursors={},this.pollingInterval=o.default.setIntervalEvent("uiScribeVisibilityResults",this.attr.scribeInterval,{page:this.attr.page}),this.on(document,"uiScribeVisibilityResults",this.onScribeVisibilityResults),this.on(document,"uiBeforePageChanged uiTeardown",this.flushVisibleTweets),this.on("uiTweetsVisible",this.handleTweetsVisible)})}var n=i("DBjh"),a=i("3oDc"),r=i("gcfh"),o=i("r8Bt"),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(n.default)(s,a.a,r.a)},Jz6c:function(t,e,i){"use strict";function s(t){Object(n.a)(t),c.attachTo(".AdaptiveStickersPage-title",o({},t,{itemType:"user"}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=i("m+Fs"),a=i("DBjh"),r=i("xgWv"),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},c=Object(a.default)(r.a)},KtwL:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function s(e){Object(n.a)(e),Object(a.a)(d({},e,{src:"search-home",show_context:!1})),r.a.attachTo("#search-home-form",d({},e,{magnifyingGlassSelector:".search-btn",inputFieldSelector:"#search-home-input",eventData:{scribeContext:{component:"search_home_searchbox",element:""}}})),l.a.attachTo("#search-home-form",{noTeardown:!0}),c.a.attachTo("#search-home-form",{inputSelector:"#search-home-input"}),o.a.attachTo("#search-home-form",{inputSelector:"#search-home-input",nextElementSelector:".search-btn",accountsShortcutShow:!0,autocompleteAccounts:!1,parseHashflags:!0,typeaheadSrc:"SEARCH_BOX",datasourceRenders:[["recentSearches",["recentSearches"]],["savedSearches",["savedSearches"]],["followedSearches",["followedSearches"]],["topics",["topics"]],["accounts",["accounts"]]],deciders:d({},e.typeaheadData,{showSocialContext:e.typeaheadData.showSearchAccountSocialContext}),eventData:{scribeContext:{component:"search_home_searchbox",element:"typeahead"}}}),h.a.attachTo("#search-operators-dialog"),t("#search-home-input").focus()}e.default=s;var n=i("hhhH"),a=i("smxC"),r=i("ZRHz"),o=i("cCv7"),c=i("aRgS"),l=i("nrgU"),h=i("sup2"),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}}.call(e,i("4kSj"))},LT15:function(t,e,i){"use strict";function s(){this.defaultAttrs({originalQuerySelector:".AdaptiveSpellingSuggestion-originalQuery",correctedQuerySelector:".AdaptiveSpellingSuggestion-correctedQuery"}),this.onClickOriginalQuery=function(){this.trigger("uiSpellingSuggestionOriginalQueryClicked")},this.onClickCorrectedQuery=function(){this.trigger("uiSpellingSuggestionCorrectedQueryClicked")},this.after("initialize",function(){this.on("click",{originalQuerySelector:this.onClickOriginalQuery,correctedQuerySelector:this.onClickCorrectedQuery})})}var n=i("DBjh");e.a=Object(n.default)(s)},Nx8E:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({loggedIn:!1,language:t("html").attr("lang")||"en",searchButtonSelector:".submit",searchFormSelector:".twitter-form",geoPickerSelector:".geo-picker",geoPickerParentSelector:".geo .txt",datePickerSelector:".input-daterange",sinceInputSelector:".input-since",untilInputSelector:".input-until"}),this.serializeAdvancedForm=function(){var t=this.select("searchFormSelector"),e=t.serializeArray(),i=[];return e.forEach(function(e){var s=e.value,n=t.find("select[name=within]").val()+t.find("input:radio[name=units]:checked").val();if(s){var a=void 0,r=void 0,o=void 0,c=void 0;switch(e.name){case"ands":i.push(s);break;case"ors":r=s.split(" "),o=this.sanitize(r),i.push(o.join(" OR "));break;case"phrase":i.push('"'+s+'"');break;case"nots":r=("-"+s).split(" "),o=this.sanitize(r),i.push(o.join(" -"));break;case"tag":r=("#"+s.replace(/#+/g,"")).split(" "),o=this.sanitize(r),i.push(o.join(" OR #"));break;case"from":r=("from:"+s.replace(/@+/g,"")).split(" "),o=this.sanitize(r),i.push(o.join(" OR from:"));break;case"to":r=("to:"+s.replace(/@+/g,"")).split(" "),o=this.sanitize(r),i.push(o.join(" OR to:"));break;case"ref":r=("@"+s.replace(/@+/g,"")).split(" "),o=this.sanitize(r),i.push(o.join(" OR @"));break;case"near":i.push('near:"'+s+'" within:'+n);break;case"place_id":a=t.find(".geo-picker .geo-status").text(),i.push('near:"'+a+'" within:'+n);break;case"since":c=this.getUTCyyyymmdd(this.select("sinceInputSelector").datepicker("getUTCDate")),i.push("since:"+c);break;case"until":c=this.getUTCyyyymmdd(this.select("untilInputSelector").datepicker("getUTCDate")),i.push("until:"+c)}}},this),i.join(" ").trim()},this.searchLanguage=function(){var t=this.select("searchFormSelector").find("#lang").val();return"all"===t?"":t},this.sanitize=function(t){return t.filter(function(t){return""!==t})},this.searchFormSubmit=function(t){t.preventDefault();var e=this.serializeAdvancedForm();if(e){this.trigger("uiSearchQuery",{query:e,source:"search"});var i={q:e,src:"typd"};i.l=this.searchLanguage();var s="/search?"+r.a.encode(i);this.trigger("uiNavigate",{href:s})}},this.initializeGeoPicker=function(){var t=this.select("geoPickerParentSelector");a.a.attachTo(t,{eventData:{scribeContext:{element:"geo_picker"}}}),this.trigger(t,"uiPrepareGeoPicker")},this.initializeDatePicker=function(){this.select("datePickerSelector").datepicker({format:"yyyy-mm-dd",startDate:"2006-03-21",endDate:new Date,autoclose:!0,todayHighlight:!0,language:this.attr.language})},this.setUntilMinDate=function(t){this.select("untilInputSelector").datepicker("setStartDate",t.date)},this.setSinceMaxDate=function(t){this.select("sinceInputSelector").datepicker("setEndDate",t.date)},this.getUTCyyyymmdd=function(t){var e=t.getUTCFullYear().toString(),i=(t.getUTCMonth()+1).toString(),s=i[1]?i:"0"+i[0];return t=t.getUTCDate().toString(),e+"-"+s+"-"+(t[1]?t:"0"+t[0])},this.after("initialize",function(){this.attr.loggedIn&&this.initializeGeoPicker(),this.initializeDatePicker(),this.on("click",{searchButtonSelector:this.searchFormSubmit}),this.on(this.select("searchFormSelector"),"submit",this.searchFormSubmit),this.on(this.select("sinceInputSelector").datepicker(),"changeDate",this.setUntilMinDate),this.on(this.select("untilInputSelector").datepicker(),"changeDate",this.setSinceMaxDate)})}var n=i("DBjh"),a=i("8N88"),r=i("TX0g"),o=i("ce4z");e.a=Object(n.default)(s,o.a)}).call(e,i("4kSj"))},O1q0:function(t,e,i){"use strict";function s(){this.defaultAttrs({storageName:"recent_trend_locations",storageKey:"locations",maxRecentLocations:5}),this.initializeStorage=function(){var t=Object(a.a)({withArray:!0,withMaxElements:!0});this.storage=new t(this.attr.storageName),this.storage.setMaxElements(this.attr.storageKey,this.attr.maxRecentLocations)},this.getRecentTrendLocations=function(){this.trigger("dataGotRecentTrendLocations",{trendLocations:this.storage.getArray(this.attr.storageKey)})},this.saveRecentLocation=function(t,e){var i=e.location||{};i.woeid&&!this.hasRecentLocation(i.woeid)&&(this.storage.push(this.attr.storageKey,i),this.getRecentTrendLocations())},this.hasRecentLocation=function(t){return this.storage.getArray(this.attr.storageKey).some(function(e){return e.woeid===t})},this.after("initialize",function(){this.initializeStorage(),this.on("uiWantsRecentTrendLocations",this.getRecentTrendLocations),this.on("dataChangedTrendLocation",this.saveRecentLocation)})}var n=i("DBjh"),a=i("rWgq"),r=i("VtWx");e.a=Object(n.default)(s,r.a)},Oofp:function(t,e,i){"use strict";(function(t){function s(){n.default.mixin(this,[a.a]),this.defaultAttrs({locationSelector:".trend-location-picker-item",selectedAttr:"selected"}),this.selectLocation=function(e,i){e.preventDefault();var s=t(i.el),n={woeid:s.data("woeid"),name:s.data("name")};this.changeLocationInfo(n),this.showSelected(n.woeid,!1)},this.showSelected=function(t,e){var i=this.select("locationSelector");i.removeClass(this.attr.selectedAttr),!e&&t&&i.filter('[data-woeid="'+t+'"]').addClass(this.attr.selectedAttr)},this.locationInfoUpdated=function(){this.showSelected(this.attr.location.woeid,this.attr.personalized)},this.after("initialize",function(){this.on("uiLocationInfoUpdated",this.locationInfoUpdated),this.on("click",{locationSelector:this.selectLocation}),this.showSelected(this.attr.location.woeid,this.attr.personalized)})}var n=i("q9/C"),a=i("3ZrE");e.a=s}).call(e,i("4kSj"))},PEGV:function(t,e,i){"use strict";function s(){this.defaultAttrs({relatedSearchSelector:".AdaptiveRelatedSearches-item"}),this.onClickRelatedSearch=function(){this.trigger("uiRelatedSearchClicked")},this.after("initialize",function(){this.on("click",{relatedSearchSelector:this.onClickRelatedSearch})})}var n=i("DBjh");e.a=Object(n.default)(s)},PtJB:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({refreshAnimationDuration:200,cycleTimeout:1e3,experimentCycleTimeout:300,wtfOptions:{},selfPromotedAccountHtml:"",$accountPriorToPreview:null,successClass:"has-content",recListSelector:".js-recommended-followers",recSelector:".js-actionable-user",refreshRecsSelector:".js-refresh-suggestions",expandedContainerSelector:".js-expanded-container",itemType:"user"}),this.refreshRecommendations=function(t,e){if(!this.currentlyRefreshing){this.currentlyRefreshing=!0;var i=this.getVisibleIds(null,!0).length||this.attr.wtfOptions.limit;this.trigger("uiRefreshUserRecommendations",a({},this.attr.wtfOptions,{excluded:this.getVisibleIds(),limit:i,refreshType:t.type})),this.hideRecommendations()}},this.sendGetRecommendationEvent=function(t,e){this.trigger("uiGetUserRecommendations",a({},this.attr.wtfOptions,t||{}))},this.getUserRecommendations=function(t,e){this.sendGetRecommendationEvent(t,e),this.hideRecommendations()},this.hideRecommendations=function(){this.animateContentOut(this.select("recListSelector"),"animationCallback")},this.isNewUserDuplicate=function(t){return-1!==this.getVisibleIds().indexOf(t)},this.handleRecommendationsResponse=function(e,i){var s=this,n=this.getVisibleIds();if(!this.disabled){i=i||{},this.hasRecommendations()||(i=a({},i,{initialResults:!0}));var r=t.trim(i.user_recommendations_html);if(r){var o=this.currentlyRefreshingUser(i);if(this.$node.addClass(this.attr.successClass),this.shouldExpandWtf(i)){var c=t(r),l=c.filter(this.attr.recSelector).first(),h=c.filter(this.attr.expandedContainerSelector),d=h.find(".js-actionable-user").filter(function(){return-1===n.indexOf(t(this).data("user-id")+"")});h.empty(),d.each(function(){h.append(this)}),o&&!this.isNewUserDuplicate(l.data("user-id")+"")&&this.animateContentIn(o,"animationCallback",t("<div>").append(l).html(),{modOp:"replaceWith",scribeCallback:function(){s.currentlyExpanding?s.pendingScribe=!0:s.reportUsersDisplayed(i)}}),h.length&&this.animateExpansion(h,i)}else{if(this.isNewUserDuplicate(t(r).data("user-id")+""))return;var u=this.select("recListSelector"),p=void 0;o&&(u=o,p="replaceWith"),this.animateContentIn(u,"animationCallback",r,{modOp:p,scribeCallback:function(){return s.reportUsersDisplayed(i)}})}}else this.handleEmptyRefreshResponse(e,i),this.trigger("uiGotEmptyRecommendationsResponse",i)}},this.handleRefreshError=function(t,e){this.handleEmptyRefreshResponse(t,e)},this.handleEmptyRefreshResponse=function(t,e){if(this.select("recSelector").length){if(this.currentlyExpanding){var i=this.currentlyRefreshingUser(e);if(e&&e.sourceEventData&&e.sourceEventData.clusterfollow&&i)return this.currentlyExpanding=!1,void this.replenishWhoToFollowDashboard(i)}var s=this.select("recListSelector"),n=this.currentlyRefreshingUser(e);n&&(s=n),this.animateContentIn(s,"animationCallback",s.html())}},this.getVisibleIds=function(e,i){var s=this.select("recSelector").not(e);return i||(s=s.not(".promoted-account")),s.map(function(){return t(this).attr("data-user-id")}).toArray()},this.originalItemCount=function(){return t(this.attr.recListSelector).children(this.attr.recSelector).length},this.doAfterFollowAction=function(t,e){var i=this;if(!this.disabled&&"following"===e.newState){var s=this.expandBucket?this.attr.experimentCycleTimeout:this.attr.cycleTimeout;setTimeout(function(){if(!i.currentlyRefreshing){var t=i.select("recSelector").filter("[data-user-id='"+e.userId+"']");t.length&&i.cycleRecommendation(t,e)}},s)}},this.cycleRecommendation=function(t,e){this.animateContentOut(t,"animationCallback");var i=a({},this.attr.wtfOptions,{limit:1,visible:this.getVisibleIds(t),refreshUserId:e.userId});this.trigger("uiGetUserRecommendations",i)},this.animateExpansion=function(t,e){var i=this.select("recListSelector"),s=this.select("expandedContainerSelector"),n=function(){this.pendingScribe&&(this.reportUsersDisplayed(e),this.pendingScribe=!1),this.currentlyExpanding=!1};s.length?s.html(t.html()):i.append(t),t.is(":visible")?n.bind(this)():t.slideDown("slow",n.bind(this))},this.animateContentIn=function(t,e,i,s){var n=this;if(t.length){s=s||{};var a=function(){t.is(n.attr.recListSelector)&&(n.currentlyRefreshing=!1),t[s.modOp||"html"](i).animate({opacity:1},n.attr.refreshAnimationDuration),s.scribeCallback&&s.scribeCallback()};t.is(":animated")?this[e]=a:a()}},this.animateContentOut=function(t,e){var i=this;t.animate({opacity:0},{duration:this.attr.refreshAnimationDuration,complete:function(){i[e]&&i[e](),i[e]=null}})},this.getItemPosition=function(t){var e=this.originalItemCount();return t.closest(this.attr.expandedContainerSelector).length?e+t.closest(this.attr.recSelector).index():t.closest(this.attr.recSelector).index()},this.currentlyRefreshingUser=function(t){return t&&t.sourceEventData&&t.sourceEventData.refreshUserId?this.select("recSelector").filter("[data-user-id="+t.sourceEventData.refreshUserId+"]"):null},this.shouldExpandWtf=function(t){return!!(t&&t.sourceEventData&&t.sourceEventData.get_replacement)},this.getUsersDisplayed=function(){var e=this.select("recSelector"),i=[];return e.each(function(e,s){var n=t(s);i.push({id:n.attr("data-user-id"),impressionId:n.attr("data-impression-id")})}),i},this.reportUsersDisplayed=function(t){var e=this.getUsersDisplayed();this.trigger("uiUsersDisplayed",{users:e}),this.trigger("uiDidGetRecommendations",t)},this.verifyInitialRecommendations=function(t,e){this.hasRecommendations()?this.reportUsersDisplayed({initialResults:!0}):this.sendGetRecommendationEvent({initialResults:!0})},this.hasRecommendations=function(){return this.select("recSelector").length>0},this.storeSelfPromotedAccount=function(t,e){e.html&&(this.selfPromotedAccountHtml=e.html)},this.replaceUser=function(t,e){t.tooltip("hide"),t.parent().hasClass("preview-wrapper")&&t.unwrap(),t.replaceWith(e)},this.replaceUserAnimation=function(e,i){e.tooltip("hide"),this.before("teardown",function(){this.replaceUser(e,i)});var s=t("<div/>",{class:e.attr("class"),style:e.attr("style")}).addClass("preview-wrapper");e.wrap(s);var n=e.css("minHeight");e.css({minHeight:0}).slideUp(70,function(){i.attr("style",e.attr("style")),e.replaceWith(i),i.delay(350).slideDown(70,function(){i.css({minHeight:n}),i.unwrap(),setTimeout(function(){i.tooltip("show"),setTimeout(function(){return i.tooltip("hide")},8e3)},500)})})},this.handlePreviewPromotedAccount=function(){if(!this.disabled&&this.selfPromotedAccountHtml){var e=t(this.selfPromotedAccountHtml),i=this.select("recSelector").first();this.attr.$accountPriorToPreview=i.clone(),this.replaceUserAnimation(i,e),e.find("a").on("click",function(t){t.preventDefault(),t.stopPropagation()})}},this.maybeRestoreAccountPriorToPreview=function(){var t=this.attr.$accountPriorToPreview;t&&(this.replaceUser(this.select("recSelector").first(),t),this.attr.$accountPriorToPreview=null)},this.after("initialize",function(){this.on(document,"dataDidGetUserRecommendations",this.handleRecommendationsResponse),this.on(document,"dataFailedToGetUserRecommendations",this.handleRefreshError),this.on(document,"dataFollowStateChange",this.doAfterFollowAction),this.on("click",{refreshRecsSelector:this.refreshRecommendations}),this.on(document,"dataDidGetSelfPromotedAccount",this.storeSelfPromotedAccount),this.on(document,"uiPromptbirdPreviewPromotedAccount",this.handlePreviewPromotedAccount),this.on(document,"uiPromptbirdDismissPrompt",this.maybeRestoreAccountPriorToPreview)})}var n=i("/eMm"),a=(i.n(n),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t});e.a=s}).call(e,i("4kSj"))},SACP:function(t,e,i){"use strict";function s(){this.defaultAttrs({filteringCheckboxSelector:".SearchSettings-toggleInput--sensitive",blockingCheckboxSelector:".SearchSettings-toggleInput--accounts"}),this.toggleSettings=function(t,e){this.state={optInFiltering:e.optInFiltering,optInBlocking:e.optInBlocking},this.dom.$filteringCheckbox.prop("checked",this.state.optInFiltering).prop("disabled",!1),this.dom.$blockingCheckbox.prop("checked",this.state.optInBlocking).prop("disabled",!1),this.trigger("uiSafeSearchSettingsDisplayed",this.state)},this.onSave=function(t,e){var i=this.dom.$filteringCheckbox.is(":checked"),s=this.dom.$blockingCheckbox.is(":checked");this.state.optInFiltering!==i||this.state.optInBlocking!==s?this.trigger(document,"uiSearchSettingsSave",{optInFiltering:i,optInBlocking:s}):this.trigger(document,"uiSearchSettingsNoChange")},this.onCancel=function(t,e){this.dom.$filteringCheckbox.prop("checked",this.state.optInFiltering),this.dom.$blockingCheckbox.prop("checked",this.state.optInBlocking)},this.after("initialize",function(){this.dom={$filteringCheckbox:this.select("filteringCheckboxSelector"),$blockingCheckbox:this.select("blockingCheckboxSelector")},this.state={optInFiltering:null,optInBlocking:null},this.on(document,"uiSafeSearchSettingsCancel",this.onCancel),this.on(document,"uiSafeSearchSettingWantsSave",this.onSave),this.on(document,"uiSwiftLoaded uiPageChanged","uiSearchSettingsGet"),this.on(document,"dataSearchSettingsGetSuccess",this.toggleSettings)})}var n=i("DBjh"),a=Object(n.default)(s);e.a=a},SGKn:function(t,e,i){"use strict";(function(t){function s(){this.attributes({query:"",buttonSelector:".FollowSearchButton--srp",followButtonSelector:".FollowSearchButton--srp .FollowSearchButton-follow",unfollowButtonSelector:".FollowSearchButton--srp .FollowSearchButton-unfollow"}),this.getFollowButtonState=function(t,e){this.trigger("uiGetFollowSearchStatus",{query:this.attr.query})},this.showFollowButton=function(t,e){this.updateFollowButtonState(e.isFollowing),this.select("buttonSelector").removeClass("u-hidden")},this.followSearch=function(e,i){var s=t(e.target).closest("[data-component-context]").data("component-context");this.updateFollowButtonState(!0),this.trigger("uiAddFollowSearch",{query:this.attr.query,scribeComponent:s})},this.unfollowSearch=function(e,i){var s=t(e.target).closest("[data-component-context]").data("component-context");this.updateFollowButtonState(!1),this.trigger("uiRemoveFollowSearch",{query:this.attr.query,scribeComponent:s})},this.updateFollowButtonStateWithData=function(t,e){this.updateFollowButtonState(e.isFollowing)},this.updateFollowButtonState=function(t){this.select("buttonSelector").toggleClass("following",!!t),this.select("buttonSelector").toggleClass("not-following",!t)},this.after("initialize",function(){this.on("click",{followButtonSelector:this.followSearch,unfollowButtonSelector:this.unfollowSearch}),this.on(document,"uiSwiftLoaded uiPageChanged",this.getFollowButtonState),this.on(document,"dataGetFollowSearchStatusSuccess",this.showFollowButton),this.on(document,"dataUpdateFollowSearchButtonState",this.updateFollowButtonStateWithData)})}var n=i("DBjh");e.a=Object(n.default)(s)}).call(e,i("4kSj"))},UOpA:function(t,e,i){"use strict";function s(){this.scribeImpression=function(t,e){this.scribe({component:"safe_search_settings",action:"impression"})},this.scribeSettingsSave=function(t,e){this.scribe({component:"safe_search_settings",element:"filtering",action:e.optInFiltering?"on":"off"}),this.scribe({component:"safe_search_settings",element:"blocking",action:e.optInBlocking?"on":"off"})},this.after("initialize",function(){this.on("uiSearchSettingsDialogOpen",this.scribeImpression),this.on("uiSearchSettingsSave",this.scribeSettingsSave)})}var n=i("DBjh"),a=i("3oDc");e.a=Object(n.default)(s,a.a)},VbtH:function(t,e,i){"use strict";function s(){this.defaultAttrs({inputSelector:"input.trends-location-search-input"}),this.executeTypeaheadSelection=function(t,e){if(-1===e.item.woeid)return void this.trigger("uiTrendsLocationSearchNoResults");this.currentSelection=e.item,this.changeLocationInfo({woeid:e.item.woeid,name:e.item.name})},this.possiblyClearSelection=function(){this.currentSelection&&this.currentSelection.woeid!==this.attr.location.woeid&&this.reset()},this.reset=function(t,e){this.currentSelection=null,this.$input.val("")},this.after("initialize",function(){this.$input=this.select("inputSelector"),this.on("uiTypeaheadItemSelected uiTypeaheadItemComplete",this.executeTypeaheadSelection),this.on("uiLocationInfoUpdated",this.possiblyClearSelection),this.on(document,"uiTrendsDialogReset",this.reset),o.a.attachTo(this.$node,{inputSelector:this.attr.inputSelector}),r.a.attachTo(this.$node,{inputSelector:this.attr.inputSelector,hideOnEmptyQuery:!0,blockLinkActions:!0,datasourceRenders:[["trendLocations",["trendLocations"]]],deciders:this.attr.typeaheadData,eventData:{scribeContext:{component:"trends_location_search"}}})})}var n=i("DBjh"),a=i("3ZrE"),r=i("cCv7"),o=i("aRgS");e.a=Object(n.default)(s,a.a)},VeSc:function(t,e,i){"use strict";(function(t){function s(){n.default.mixin(this,[a.a]);this.defaultAttrs({streamItemsSelector:".stream-items",socialProofSelector:".tweet-stats-container"}),this.autoplayNewItems=function(t){if(t){var e=this.$window.scrollTop(),i=e+this.$window.height(),s=this.$promotedItem.length&&this.$promotedItem.offset().top>i,n=this.injectNewItems({},{autoplay:!0}),a=this.select("streamItemsSelector");this.travelingPTw&&s&&this.repositionPromotedItem(function(t){n.first().before(t),n=n.add(t),this.trigger(t,"uiShouldFixMargins")});var r=n.first().offset().top,o=r>e&&r<i,c=a.offset().top,l=n.last().next().offset().top-c+1;o?(a.css("marginTop",-l),this.animateBlockOfItems()):this.setScrollerScrollTop(e+l)}},this.animateBlockOfItems=function(){var t=this,e=this.select("streamItemsSelector"),i=this.$window.scrollTop(),s=parseFloat(e.css("marginTop"));e.parent().css("overflow","hidden"),e.animate({marginTop:0},{duration:700+Math.abs(s),step:function(e){t.lockedTimelineScroll&&t.setScrollerScrollTop(i+Math.abs(s-Math.ceil(e)))},complete:function(){e.parent().css("overflow","inherit"),t.afterAnimationQueue.forEach(function(t){t.call(this)},t),t.afterAnimationQueue=[]}})},this.setScrollerScrollTop=function(e){(this.attr.overflowScroll?this.$node:t(window)).scrollTop(e)},this.enableAutoplay=function(){this.autoplay=!0,this.travelingPTw=this.attr.travelingPTw,this.lockedTimelineScroll=!1,this.afterAnimationQueue=[],this.newItemsXLine=0,this.$window=this.attr.overflowScroll?this.$node:t(window),this.on("mouseover",function(){this.lockedTimelineScroll=!0}),this.on("mouseleave",function(){this.lockedTimelineScroll=!1})},this.after("initialize",function(){this.attr.autoplay&&this.enableAutoplay()})}var n=i("q9/C"),a=i("bgdb");e.a=s}).call(e,i("4kSj"))},Vf10:function(t,e,i){"use strict";function s(){this.scribeRelatedSearchClicked=function(t,e){this.scribe("search",e)},this.after("initialize",function(){this.on("uiRelatedSearchClicked",this.scribeRelatedSearchClicked)})}var n=i("DBjh"),a=i("3oDc");e.a=Object(n.default)(s,a.a)},VnB0:function(t,e,i){"use strict";function s(){this.defaultAttrs({navigationContainerSelector:".GridTimeline-items > .Grid, .GridTimeline-items > .ScrollBump",navigationContainerCellSelector:".Grid-cell"}),this.around("next",function(t,e){var i=e.closest(this.attr.navigationContainerCellSelector).next().find(this.attr.genericItemSelector).first();return 0===i.length&&(i=e.closest(this.attr.navigationContainerSelector).next().find(this.attr.genericItemSelector).first()),i}),this.around("prev",function(t,e){var i=e.closest(this.attr.navigationContainerCellSelector).prev().find(this.attr.genericItemSelector).first();return 0===i.length&&(i=e.closest(this.attr.navigationContainerSelector).prev().find(this.attr.genericItemSelector).last()),i})}e.a=s},Vppf:function(t,e,i){"use strict";function s(){this.defaultAttrs({personalizedSelector:".js-location-personalized",nonpersonalizedSelector:".js-location-nonpersonalized",currentLocationSelector:".current-location"}),this.updateView=function(){this.attr.personalized||this.select("currentLocationSelector").text(this.attr.location.name),this.select("nonpersonalizedSelector").toggle(!this.attr.personalized),this.select("personalizedSelector").toggle(!!this.attr.personalized)},this.after("initialize",function(){this.updateView(),this.on("uiLocationInfoUpdated",this.updateView)})}var n=i("DBjh"),a=i("3ZrE");e.a=Object(n.default)(s,a.a)},X18s:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({separationModuleSelector:".AdaptiveSearchTimeline-separationModule",prevToModuleClass:"AdaptiveSearchTimeline-beforeModule"}),this.setPrevToModuleClass=function(){this.select("separationModuleSelector").prev().addClass(this.attr.prevToModuleClass)},this.initialItemsDisplayed=function(){for(var e=this,i=this.select("genericItemSelector"),s=[],n=0,a=i.length;n<a;n++)!function(i,n){if(t(n).data("item-type")){var a=t(n),r=e.findFirstItemContent(a);!r.length&&a.is(e.attr.streamItemContentsSelector)&&(r=a);var o=e.interactionData(r);switch(o.itemType){case"user":s.push(o)}}}(0,i[n]);this.reportUsers(s)},this.reportItemsDisplayed=function(t,e){var i=[];e.items.forEach(function(t){switch(t.itemType){case"user":i.push(t)}}),this.reportUsers(i)},this.reportUsers=function(t){this.trigger("uiUsersDisplayed",{users:t})},this.after("initialize",function(){this.setPrevToModuleClass(),this.initialItemsDisplayed(),this.on("uiHasInjectedNewTimeline uiHasInjectedOldTimelineItems uiHasInjectedRangeTimelineItems",this.reportItemsDisplayed),this.on("uiHasInjectedNewTimeline uiHasInjectedOldTimelineItems uiHasInjectedRangeTimelineItems",this.setPrevToModuleClass)})}var n=i("8mUk"),a=i("G/SW"),r=i("aRtI"),o=i("El2S"),c=i("alSu"),l=i("+NYY");e.a=n.a.mixin(s,a.a,r.a,o.a,c.a,l.a)}).call(e,i("4kSj"))},YBY8:function(t,e,i){"use strict";function s(t){Object(n.a)({endpoint:t.timeline_url});var e=r.a.mixin(o.a,p.a,c.a,l.a,h.a,d.a,u.a);a.a.attachTo(document,t),e.attachTo(".GridTimeline",t,{containerSelector:".GridTimeline-items",itemsSelector:".GridTimeline-items",timelineEndSelector:".GridTimeline-end",errorMessageSelector:".GridTimeline-footer .Icon--fail",streamItemsSelector:".GridTimeline-items",streamUserSelector:".GridTimeline-items .js-actionable-user",disableProfilePopup:null==t.disableProfilePopup||t.disableProfilePopup,selectedClass:"is-selected",selectedSelector:".js-stream-item.is-selected",firstItemSelector:".js-stream-item:first-child",profileCardSelector:".ProfileCard",itemType:"user",eventData:{scribeContext:{component:"user"}}})}var n=i("cuTm"),a=i("MZZR"),r=i("4Pj3"),o=i("GbBZ"),c=i("xgWv"),l=i("El2S"),h=i("w0oo"),d=i("G3LU"),u=i("VnB0"),p=i("G/SW");e.a=s},aRtI:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({scribeMediaGridResults:!1,mediaGalleryScribeComponent:"media_gallery",keepUnrenderedMediaItems:!1,numMediaItemsToKeep:30,gridNumRowsLimit:2,gridRowHeight:180,gridMargin:1.5,gridRowRatio:2.5,gridPanoramaRatio:3,gridContainerSelector:"#stream-items-id",mediaSelector:".AdaptiveStreamGridImage",mediaOverlaySelector:".media-overlay",requiredAttrsForGallery:["data-resolved-url-large","data-source-url","data-tweet-id","data-status-id","data-height","data-width","class"]}),this.renderAll=function(){clearTimeout(this.renderDelay),this.renderDelay=setTimeout(this.render.bind(this),20)},this.render=function(){this.currentRow=this.getCurrentRow();var t=this.getUnprocessedMedia();if(!t.length)return void this.scribeResults();for(var e=0,i=0,s=[],n=0;n<t.length;n++){if(this.attr.gridNumRowsLimit&&this.currentRow>this.attr.gridNumRowsLimit){if(this.attr.keepUnrenderedMediaItems&&n<this.attr.numMediaItemsToKeep){this.processHiddenMedia(t.eq(n));continue}t.slice(n).remove();break}var a=t.eq(n);!e&&(e=parseInt(a.attr("data-height")));var r=this.scaleGridMedia(a,e);isNaN(r)?a.remove():(i+=r,s.push(a),i/e>=this.attr.gridRowRatio&&(this.renderGridRow(s,i,e),this.currentRow++,this.setCurrentRow(),i=0,e=0,s=[]))}this.renderLastRow(),this.scribeResults()},this.getCurrentRow=function(){var t=parseInt(this.$node.attr("data-processed-rows"));return this.currentRow=t||1,this.currentRow},this.setCurrentRow=function(){this.$node.attr("data-processed-rows",this.currentRow)},this.processHiddenMedia=function(e){var i=this.attr.requiredAttrsForGallery,s=[];t.each(e[0].attributes,function(){this.specified&&i.indexOf(this.name)<0&&s.push(this.name)}),s.forEach(function(t){return e.removeAttr(t)}),e.attr("data-grid-processed","true"),e.hide(),e.empty()},this.scaleGridMedia=function(t,e,i){var s=parseInt(t.attr("data-height")),n=parseInt(t.attr("data-width")),a=e/s*n,r=s/n;return n/s>this.attr.gridPanoramaRatio&&(t.attr("data-pano","true"),a=e*this.attr.gridPanoramaRatio,r=1/this.attr.gridPanoramaRatio),t.attr({"scaled-width":a,"height-width-ratio":r}),i&&(t.height(e),t.width(a)),a},this.renderGridRow=function(e,i,s){var n=this,a=this.currentGridWidth-e.length*this.attr.gridMargin,r=a/i,o=s*r;t.each(e,function(e,i){var s=t(i),a=parseInt(s.attr("scaled-width"))*r,c=a/n.currentGridWidth;s.height(o),s.width(Math.round(a)),s.attr("scaled-width-ratio",c),s.attr("data-grid-processed","true"),s.addClass("enabled"),0===e&&s.addClass("clear"),1===n.currentRow&&s.addClass("first-row"),s.removeAttr("scaled-width"),n.renderMediaImage(s)})},this.renderLastRow=function(){var e=this,i=this.getUnprocessedMedia();i.length&&i.each(function(i,s){var n=t(s);e.scaleGridMedia(n,e.attr.gridRowHeight,!0),e.renderMediaImage(n),n.addClass("enabled")})},this.renderMediaImage=function(t){var e=this;if(!t.attr("data-loaded")){var i=function(i){return e.loadMediaSuccess(t,i)},s=function(){return e.loadMediaFail(t)};a.a.load(t.attr("data-resolved-url-small"),i,s)}},this.loadMediaSuccess=function(t,e){if(t.attr("data-pano")){var i=Math.round(t.height()/parseInt(t.attr("data-height"))*parseInt(t.attr("data-width")));e.width(i),e.css("margin-left",(t.width()-i)/2)}t.hide().prepend(e).fadeIn(),t.attr("data-loaded",!0)},this.loadMediaFail=function(t){this.markFailedMedia(t),t.remove()},this.markFailedMedia=function(t){var e=void 0;if(t.hasClass("clear")){if(e=t.next(this.attr.mediaSelector),!e.length)return}else for(e=t.prev(this.attr.mediaSelector);e.length&&!e.hasClass("clear");)e=e.prev(this.attr.mediaSelector);e.attr("data-grid-processed","false"),e.nextAll(this.attr.mediaSelector).attr("data-grid-processed","false"),e.nextAll(this.attr.mediaSelector).removeClass("clear"),clearTimeout(this.resetTimer),this.resetTimer=setTimeout(this.render.bind(this),50)},this.possiblyResizeMediaDimensions=function(){var t=this.currentGridWidth,e=this.getGridWidth(),i=this.getProcessedMedia();if(e===t||!i.length)return void this.trigger("uiMediaGridDidNotResize");for(var s=0;s<i.length;s++){var n=i.eq(s),a=parseFloat(n.attr("scaled-width-ratio")),r=parseFloat(n.attr("height-width-ratio"));if(!isNaN(a)&&!isNaN(r)){var o=a*e,c=r*o;if(n.attr("data-pano")){var l=n.find("img"),h=l.width()/t*e;l.width(Math.round(h)),l.css("margin-left",(o-h)/2)}n.width(Math.floor(o)),n.height(Math.floor(c))}}this.trigger("uiMediaGridDidResize"),this.currentGridWidth=e},this.getGridWidth=function(){var t=this.select("gridContainerSelector").length&&this.select("gridContainerSelector")[0];return Math.floor(t.getBoundingClientRect().width)},this.getMedia=function(){return this.select("mediaSelector")},this.getProcessedMedia=function(){return this.getMedia().filter('[data-grid-processed="true"]')},this.getUnprocessedMedia=function(){return this.getMedia().filter(':not([data-grid-processed="true"])')},this.getUnscribedMedia=function(){return this.getMedia().filter(':not([data-scribed="true"])[data-grid-processed="true"]')},this.openGallery=function(e){e.preventDefault(),e.stopPropagation();var i=t(e.target).closest(this.attr.mediaSelector),s=i.hasClass("video");this.trigger(e.target,"uiOpenGallery");var n=i.attr("data-url"),a=s?"video":"photo",r={url:n,mediaType:a,scribeContext:{component:this.attr.mediaGalleryScribeComponent}};this.trigger("uiMediaThumbnailClick",r)},this.scribeResults=function(){if(this.attr.scribeMediaGridResults){var e=this.getUnscribedMedia(),i={thumbnails:[],scribeContext:{component:this.attr.mediaGalleryScribeComponent}};t.each(e,function(e,s){i.thumbnails.push(t(s).attr("data-url")),t(s).attr("data-scribed",!0)}),this.trigger("uiMediaGalleryResults",i)}},this.after("initialize",function(){this.select("gridContainerSelector").length&&(this.possiblyResizeMediaDimensions(),this.currentGridWidth=this.getGridWidth(),this.render(),this.on("uiHasInjectedOldTimelineItems",this.renderAll),this.on("click",{mediaOverlaySelector:this.openGallery}),this.on(window,"resize",n.default.throttle(this.possiblyResizeMediaDimensions.bind(this),100)))})}var n=i("YzIt"),a=i("/zmn");e.a=s}).call(e,i("4kSj"))},bgdb:function(t,e,i){"use strict";function s(){this.repositionPromotedItem=function(t){t.call(this,this.$promotedItem.detach())},this.after("initialize",function(){this.$promotedItem=this.$node.find(".promoted-tweet").first().closest(".stream-item")})}e.a=s},ce4z:function(t,e,i){"use strict";(function(t){function s(){var e=t("html").attr("lang"),i="rtl"===t("body").attr("dir");t.fn.datepicker.dates[e]={days:[Object(n.default)("Sunday"),Object(n.default)("Monday"),Object(n.default)("Tuesday"),Object(n.default)("Wednesday"),Object(n.default)("Thursday"),Object(n.default)("Friday"),Object(n.default)("Saturday"),Object(n.default)("Sunday")],daysShort:[Object(n.default)("Sun"),Object(n.default)("Mon"),Object(n.default)("Tue"),Object(n.default)("Wed"),Object(n.default)("Thu"),Object(n.default)("Fri"),Object(n.default)("Sat"),Object(n.default)("Sun")],daysMin:[Object(n.default)("Su"),Object(n.default)("Mo"),Object(n.default)("Tu"),Object(n.default)("We"),Object(n.default)("Th"),Object(n.default)("Fr"),Object(n.default)("Sa"),Object(n.default)("Su")],months:[Object(n.default)("January"),Object(n.default)("February"),Object(n.default)("March"),Object(n.default)("April"),Object(n.default)("May"),Object(n.default)("June"),Object(n.default)("July"),Object(n.default)("August"),Object(n.default)("September"),Object(n.default)("October"),Object(n.default)("November"),Object(n.default)("December")],monthsShort:[Object(n.default)("Jan"),Object(n.default)("Feb"),Object(n.default)("Mar"),Object(n.default)("Apr"),Object(n.default)("May"),Object(n.default)("Jun"),Object(n.default)("Jul"),Object(n.default)("Aug"),Object(n.default)("Sep"),Object(n.default)("Oct"),Object(n.default)("Nov"),Object(n.default)("Dec")],today:Object(n.default)("Today"),clear:Object(n.default)("Clear"),rtl:i}}var n=i("0d4m"),a=i("BVZ3");i.n(a);e.a=s}).call(e,i("4kSj"))},ciCv:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({triggerSelector:".js-openSearchSettings",confirmSelector:".js-confirm",cancelSelector:".js-close",settingsDropdownSubtextSelector:".SearchExtrasDropdown-settings .SearchExtrasDropdown-subtext"}),this.before("openWhenTriggerClicked",function(t,e){this.trigger(document,"uiSearchSettingsDialogOpen")}),this.setupDialog=function(t,e){this.state={optInFiltering:e.optInFiltering,optInBlocking:e.optInBlocking},this.dom.$filteringCheckbox.prop("checked",this.state.optInFiltering).prop("disabled",!1),this.dom.$blockingCheckbox.prop("checked",this.state.optInBlocking).prop("disabled",!1),this.updateDropdownSubtext()},this.updateDropdownSubtext=function(t,e){var i="";this.state=e,this.state.optInFiltering&&this.state.optInBlocking?i=l.BOTH_ENABLED:!this.state.optInFiltering&&this.state.optInBlocking?i=l.FILTERING_DISABLED:this.state.optInFiltering&&!this.state.optInBlocking?i=l.BLOCKING_DISABLED:this.state.optInFiltering||this.state.optInBlocking||(i=l.BOTH_DISABLED),this.dom.$settingsDropdownSubtext.text(i)},this.onCancel=function(t,e){this.dom.$filteringCheckbox.prop("checked",this.state.optInFiltering),this.dom.$blockingCheckbox.prop("checked",this.state.optInBlocking)},this.onConfirm=function(t,e){var i=this.dom.$filteringCheckbox.is(":checked"),s=this.dom.$blockingCheckbox.is(":checked");this.state.optInFiltering===i&&this.state.optInBlocking===s||this.trigger(document,"uiSearchSettingsSave",{optInFiltering:i,optInBlocking:s}),this.close()},this.onCancel=function(t,e){this.dom.$filteringCheckbox.prop("checked",this.state.optInFiltering),this.dom.$blockingCheckbox.prop("checked",this.state.optInBlocking)},this.onSaveSuccess=function(){this.trigger("uiShowMessage",{message:Object(r.default)("Search settings updating...")}),setTimeout(this.refreshPage,1e3)},this.refreshPage=function(){document.location.reload(!0)},this.onSaveError=function(){this.trigger("uiShowError",{message:Object(r.default)("Something went wrong. Give it a minute, then try again.")})},this.after("initialize",function(){this.attachChild(c.a,this.$node),this.state={optInFiltering:null,optInBlocking:null},this.dom={$settingsDropdownSubtext:t(this.attr.settingsDropdownSubtextSelector)},this.on(document,"dataSearchSettingsSaveSuccess",this.onSaveSuccess),this.on(document,"dataSearchSettingsSaveError",this.onSaveError),this.on("uiSafeSearchSettingsDisplayed",this.updateDropdownSubtext),this.on("uiSearchSettingsSave",this.close),this.on("click",{confirmSelector:"uiSafeSearchSettingWantsSave",cancelSelector:"uiSafeSearchSettingsCancel"})})}var n=i("DBjh"),a=i("UHc7"),r=i("0d4m"),o=i("AJAn"),c=i("SACP");e.a=Object(n.default)(a.a,o.a,s);var l={BOTH_ENABLED:Object(r.default)("Hiding sensitive content"),FILTERING_DISABLED:Object(r.default)("Safe search off"),BLOCKING_DISABLED:Object(r.default)("Blocked and muted accounts included"),BOTH_DISABLED:Object(r.default)("Showing sensitive content")}}).call(e,i("4kSj"))},e6X4:function(t,e,i){"use strict";function s(){this.defaultAttrs({connectOtherSelector:".js-connect-other",otherServicesSelector:".other-services"}),this.toggleOtherServices=function(){var t=this.select("otherServicesSelector"),e=void 0;t.hasClass("hidden")?(t.removeClass("hidden"),e="open"):(t.addClass("hidden"),e="close"),this.trigger("uiWTFImportPromptToggle",{action:e})},this.after("initialize",function(){this.trigger("uiWTFImportPromptImpression"),this.on("click",{connectOtherSelector:this.toggleOtherServices})})}e.a=s},gNjh:function(t,e,i){"use strict";function s(t,e){return n({},t,{eventData:{scribeContext:{component:e}}})}e.a=s;var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}},hYUW:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({userSelector:".js-actionable-user",itemType:"user"}),this.scribeDismissRecommendation=function(t,e){this.scribeInteraction("dismiss",e.oldUser),e.newUser&&this.scribeInteraction({element:"replace",action:"results"},e.newUser,{referring_event:"replace"})},this.scribeRecommendationResults=function(e,i){var s=this,n=[];e.emptyResponse||this.$node.find(this.attr.userSelector).map(function(e,i){return n.push(s.interactionData(t(i),{position:e}))});var a=e.emptyResponse?"no_results":"results";this.scribeInteractiveResults({element:i,action:a},n,e,{referring_event:i})},this.scribeRecommendations=function(t,e){var i=e.sourceEventData||{};e.initialResults||i.initialResults?(this.scribeRecommendationResults(e,"initial"),e.emptyResponse||this.scribeRecommendationImpression(e)):(this.scribe({action:"refresh"},e,{event_info:i.refreshType}),this.scribeRecommendationResults(e,"newer"))},this.scribeEmptyRecommendationsResponse=function(t,e){this.scribeRecommendations(t,o({},e,{emptyResponse:!0}))},this.scribeRecommendationImpression=function(t){this.scribe("impression",t)},this.scribeLinkClicks=function(t,e){this.scribe({component:"user_recommendations",element:e.element,action:"click"})},this.after("initialize",function(){this.on(document,"uiDidDismissUserRecommendation",this.scribeDismissRecommendation),this.on(document,"uiDidGetRecommendations",this.scribeRecommendations),this.on(document,"uiGotEmptyRecommendationsResponse",this.scribeEmptyRecommendationsResponse),this.on(document,"uiClickedWtfLink",this.scribeLinkClicks)})}var n=i("DBjh"),a=i("alSu"),r=i("gcfh"),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a=Object(n.default)(s,a.a,r.a)}).call(e,i("4kSj"))},jAyJ:function(t,e,i){"use strict";function s(){this.defaultAttrs({dismissTweetSelector:".tweet .js-action-dismiss"}),this.after("initialize",function(){var t=this.mkTweetDataCollectorForAction(this.interactionDataWithCard);this.on("click",{dismissTweetSelector:this.composeHandler(this.getClosestTweet,t,this.triggerTweetAction("uiDismissTweet"))})})}e.a=s},jBlE:function(t,e,i){"use strict";function s(){this.scribeSidebarFilterClicked=function(t,e){this.scribe("navigate",e,{url:e.url})},this.scribeSidebarModuleCollapseClicked=function(t,e){this.scribe("collapse",e)},this.scribeSidebarModuleExpandClicked=function(t,e){this.scribe("expand",e)},this.after("initialize",function(){this.on("uiSearchSidebarFilterClicked",this.scribeSidebarFilterClicked),this.on("uiSearchSidebarModuleCollapsed",this.scribeSidebarModuleCollapseClicked),this.on("uiSearchSidebarModuleExpanded",this.scribeSidebarModuleExpandClicked)})}var n=i("DBjh"),a=i("3oDc");e.a=Object(n.default)(s,a.a)},jyKx:function(t,e,i){"use strict";function s(){this.defaultAttrs({pinnedStreamItemSelector:"li.js-pinned"}),this.keepPinnedStreamItemsOnTop=function(){this.$pinnedStreamItems.length&&(this.$pinnedStreamItems.first().css("margin-top","0"),this.$items.prepend(this.$pinnedStreamItems.detach()))},this.after("initialize",function(){this.$items=this.select("itemsSelector"),this.$pinnedStreamItems=this.select("pinnedStreamItemSelector"),this.on("uiHasInjectedNewTimeline",this.keepPinnedStreamItemsOnTop)})}e.a=s},k1OA:function(t,e,i){"use strict";(function(t){function s(){this.injectNewItems=function(t,e){if(this.timelineCacheTTLTimer&&(clearTimeout(this.timelineCacheTTLTimer),this.timelineCacheTTLTimer=null),!(this.latentItems.length<1)){e&&e.wasPeriodPress&&this.trigger("uiUserPressedPeriodAndSawNewTweets"),e&&e.wasPushStateInjection&&this.trigger("uiUserPushStateInjectedTweets"),e&&e.wasTopBarBirdClick&&this.trigger("uiUserClickedTopBarBirdAndSawNewTweets"),e&&e.wasComposedTweet&&this.trigger("uiUserComposedTweet"),this.trigger("uiHideNewItemsBar");var i=this.injectItems("prepend",this.latentItems.join(""),"uiHasInjectedNewTimeline",e);return this.resetLatentItems(),i}},n.default.mixin(this,[a.a,r.a]),this.defaultAttrs({streamItemSelector:".js-stream-item:not(.js-stream-item .js-stream-item)",refreshOnReturn:!0}),this.getNewItems=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.getInitial,s=void 0!==i&&i,n=e.injectImmediately,a=void 0!==n&&n,r=Object.keys(this.composedThenInjectedTweetIds),c=s?this.getInitialItemsData():this.getNewItemsData(),l=s?{}:this.getNewItemsCountData&&this.getNewItemsCountData();this.trigger("uiWantsMoreTimelineItems",o({include_new_items_bar:!a,latent_count:this.latentCount,composed_count:r.length,composed_ids:r},c,l,e)),s&&this.trigger("uiShowGlobalLoadingIndicator")},this.notifyNewItems=function(t){if(t.items_html&&t.items_html.trim()){var e=t.sourceEventData||{};if(this.resetStateVariables(t),t.items_html){if(this.latentItems=this.htmlToItemArray(t.items_html).concat(this.latentItems),this.latentCount=t.new_latent_count,t.new_tweets_bar_html){var i=t.new_tweets_bar_html;this.autoplay?this.autoplayNewItems(t.new_tweets_bar_html):e.injectImmediately||(this.trigger("uiUpdateNewItemsBar",{html:i}),this.trigger("uiAddPageCount",{count:this.latentCount}))}if(e.injectImmediately||e.timeline_empty){var s={startTimeMs:e.startTimeMs};this.trigger("uiInjectNewItems",s)}e.scrollToTop&&this.scrollToTop(),e.selectTopTweet&&this.trigger("uiSelectTopTweet")}}},this.htmlToItemArray=function(e){return t("<div>").html(e).find(this.attr.streamItemSelector).toArray().map(function(e){return t("<div>").append(e).html()})},this.saveLatentItems=function(t,e){var i=this.select("containerSelector");i.attr("data-latent-items",this.latentItems.join("")),i.attr("data-latent-count",this.latentCount)},this.resetLatentItems=function(){var t=this.select("containerSelector"),e=t.attr("data-latent-items");t.removeAttr("data-latent-items"),this.latentItems=this.htmlToItemArray(e),this.latentCount=parseInt(t.attr("data-latent-count"),10)||0,t.removeAttr("data-latent-count")},this.refreshOnNavigate=function(t,e){(this.isPollingStopped||e.fromCache&&this.attr.refreshOnReturn)&&this.trigger("uiTimelineShouldRefresh",{navigated:!0})},this.refreshAndSelectTopTweet=function(t,e){this.trigger("uiTimelineShouldRefresh",{injectImmediately:!0,selectTopTweet:!0,getInitial:this.shouldGetInitialTimeline})},this.injectComposedTweet=function(e,i){if(!i.in_reply_to_status_id&&i.tweet_html){this.injectNewItems();var s=t(i.tweet_html).filter(this.attr.streamItemSelector).first().attr("data-item-id");this.$node.find(".original-tweet[data-tweet-id='"+s+"']:first").length||(this.latentItems=this.htmlToItemArray(i.tweet_html),this.injectNewItems(null,{wasComposedTweet:"dataTweetSuccess"===e.type}),this.composedThenInjectedTweetIds[i.tweet_id]=window.location.href)}},this.refreshAndInjectImmediately=function(t,e){this.trigger("uiTimelineShouldRefresh",{injectImmediately:!0,selectTopTweet:1===this.$selected.length,getInitial:this.shouldGetInitialTimeline})},this.resetCacheOfComposedInjectedTweets=function(t,e){this.composedThenInjectedTweetIds=c={}},this.addPageCount=function(t,e){this.latentCount&&this.trigger("uiAddPageCount",{count:this.latentCount})},this.after("initialize",function(){var t=this;this.latentItems=[],this.latentCount=0,this.isPollingStopped=!1,this.timelineCacheTTLTimer=null,this.shouldGetInitialTimeline=!1,this.composedThenInjectedTweetIds=c,this.resetLatentItems(),this.injectNewItems(null,{wasPushStateInjection:!0}),this.on("uiInjectNewItems",this.injectNewItems),this.on(document,"uiTimelineShouldRefresh",this.getNewItems),this.on(document,"uiBeforePageChanged",function(){t.isPollingStopped?t.resetLatentItems():t.saveLatentItems()}),this.on(document,"uiPageChanged",this.refreshOnNavigate),this.on(document,"uiGotoTopOfScreen",this.refreshAndInjectImmediately),this.on(document,"uiShortcutGotoTopOfScreen",this.refreshAndSelectTopTweet),this.on(document,"dataPageMutated",this.resetCacheOfComposedInjectedTweets),this.on(document,"uiPageNeedsCount",this.addPageCount),this.on(document,"uiPollingStopped",function(){t.isPollingStopped=!0,t.attr.timelineCacheTTLMillis&&(t.timelineCacheTTLTimer=setTimeout(function(){t.resetLatentItems(),clearTimeout(t.timelineCacheTTLTimer),t.timelineCacheTTLTimer=null,t.trigger("uiTimelineCacheInvalidated"),t.shouldGetInitialTimeline=!0},t.attr.timelineCacheTTLMillis))}),this.on(document,"uiPollingStarted",function(){t.isPollingStopped=!1,t.shouldGetInitialTimeline=!1}),this.attr.injectComposedTweets&&this.on(document,"dataTweetSuccess",this.injectComposedTweet)})}var n=i("q9/C"),a=i("VeSc"),r=i("p067"),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},c={};e.a=s}).call(e,i("4kSj"))},k4mc:function(t,e,i){"use strict";function s(){this.defaultAttrs({saveOrRemoveSelector:".js-toggle-saved-search-link",addSavedSearchSelector:".js-add-search",removeSavedSearchSelector:".js-remove-search",textLabelSelector:".SearchExtrasDropdown-label",addSavedSearchClass:"js-add-search",removeSavedSearchClass:"js-remove-search",dataIdAttr:"data-id",dataOriginalTitleAttr:"data-original-title",query:""}),this.addSavedSearch=function(t,e){t.preventDefault(),this.trigger("uiAddSavedSearch",{query:this.attr.query,scribeComponent:"search_dropdown"}),this.trigger("uiCloseDropdowns")},this.removeSavedSearch=function(t,e){t.preventDefault(),this.savedSearchId=this.select("removeSavedSearchSelector").attr(this.attr.dataIdAttr),this.trigger("uiRemoveSavedSearch",{id:this.savedSearchId,scribeComponent:"search_dropdown"}),this.trigger("uiCloseDropdowns")},this.savedSearchAdded=function(t,e){this.trigger("uiShowMessage",{message:Object(a.default)("Saved search added successfully.")}),this.select("saveOrRemoveSelector").removeClass(this.attr.addSavedSearchClass).addClass(this.attr.removeSavedSearchClass).attr(this.attr.dataIdAttr,e.id_str).attr(this.attr.dataOriginalTitleAttr,Object(a.default)("Remove this saved search")),this.select("textLabelSelector").text(Object(a.default)("Remove this saved search"))},this.savedSearchRemoved=function(t,e){this.trigger("uiShowMessage",{message:Object(a.default)("Saved search removed successfully.")}),this.savedSearchId=this.select("removeSavedSearchSelector").attr(this.attr.dataIdAttr),e.id_str===this.savedSearchId&&(this.select("saveOrRemoveSelector").removeClass(this.attr.removeSavedSearchClass).addClass(this.attr.addSavedSearchClass).attr(this.attr.dataOriginalTitleAttr,Object(a.default)("Save this search")).removeAttr(this.attr.dataIdAttr),this.select("textLabelSelector").text(Object(a.default)("Save this search")))},this.after("initialize",function(){this.on("click",{addSavedSearchSelector:this.addSavedSearch,removeSavedSearchSelector:this.removeSavedSearch}),this.on(document,"dataAddedSavedSearch",this.savedSearchAdded),this.on(document,"dataRemovedSavedSearch",this.savedSearchRemoved)})}var n=i("DBjh"),a=i("0d4m");e.a=Object(n.default)(s)},kku7:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({contentSelector:"#trends_dialog_content",quickSelectSelector:"#trend-locations-quick-select",dropdownSelector:"#trend-locations-dropdown-select",personalizedSelector:".trends-personalized",nonPersonalizedSelector:".trends-by-location",changeTrendsSelector:".customize-by-location",showDropdownSelector:".js-show-dropdown-select",showQuickSelectSelector:".js-show-quick-select",searchSelector:".trends-search-locations",nearbySelector:".trends-nearby-locations",recentSelector:".trends-recent-locations",currentLocationSelector:".trends-current-location",loadingSelector:"#trend-locations-loading",defaultSelector:".select-default",doneSelector:".done",errorSelector:".trends-dialog-error p",errorClass:"has-error"}),this.openDialog=function(t,e){this.trigger("uiTrendsDialogOpened"),this.initialized?this.setCurrentView():(this.trigger("uiWantsTrendsLocationDialog"),this.initialized=!0),this.$node.removeClass("has-error"),this.open()},this.setCurrentView=function(){this.attr.personalized?this.showPersonalizedView():this.showNonpersonalizedView(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showPersonalizedView=function(){this.select("nonPersonalizedSelector").hide(),this.select("personalizedSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showNonpersonalizedView=function(){this.select("personalizedSelector").hide(),this.select("nonPersonalizedSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showQuickSelectContainer=function(t,e){this.showNonpersonalizedView(),this.select("dropdownSelector").hide(),this.select("quickSelectSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showDropdownContainer=function(t,e){this.showNonpersonalizedView(),this.select("quickSelectSelector").hide(),this.select("dropdownSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.hideViews=function(){this.select("personalizedSelector").hide(),this.select("nonPersonalizedSelector").hide()},this.showError=function(t,e){this.hideViews(),this.hideLoading(),this.initialized=!1,this.$node.addClass(this.attr.errorClass),this.select("errorSelector").html(e.message),this.trigger(this.$dialog,"uiDialogContentChanged")},this.selectDefault=function(e,i){var s=t(e.target);!s.data("personalized")?this.changeLocationInfo({name:s.data("name"),woeid:s.data("woeid")}):this.setPersonalizedTrends(),this.close()},this.reset=function(t,e){this.showQuickSelectContainer(),this.trigger("uiTrendsDialogReset")},this.initializeDialog=function(t,e){this.select("contentSelector").html(e.dialog_html),this.setLocationInfo(t,e),this.initializeComponents(),this.setCurrentView()},this.showLoading=function(){this.select("loadingSelector").show(),this.trigger(this.$dialog,"uiDialogContentChanged")},this.hideLoading=function(){this.select("loadingSelector").hide()},this.__handleChangeTrendsClick=function(){this.showNonpersonalizedView(),this.trigger("uiTrendsDialogCustomizeLocation")},this.initializeComponents=function(t,e){c.a.attachTo(this.attr.currentLocationSelector,{location:this.attr.location,personalized:this.attr.personalized}),o.a.attachTo(this.attr.searchSelector,{typeaheadData:this.attr.typeaheadData}),r.a.attachTo(this.attr.dropdownSelector),l.a.attachTo(this.attr.nearbySelector,{location:this.attr.location,personalized:this.attr.personalized}),h.a.attachTo(this.attr.recentSelector,{location:this.attr.location,personalized:this.attr.personalized})},this.after("initialize",function(){this.hideViews(),this.on("uiChangeLocation",this.showLoading),this.on("uiTrendsLocationSearchNoResults",this.showDropdownContainer),this.on(document,"uiShowTrendsLocationDialog",this.openDialog),this.on("uiDialogClosed",this.reset),this.on(document,"dataGotTrendsLocationDialog",this.initializeDialog),this.on(document,"dataGotTrendsLocationDialogError",this.showError),this.on("uiLocationInfoUpdated",this.hideLoading),this.on("click",{doneSelector:this.close,defaultSelector:this.selectDefault,changeTrendsSelector:this.__handleChangeTrendsClick,showDropdownSelector:this.showDropdownContainer,showQuickSelectSelector:this.showQuickSelectContainer})})}var n=i("DBjh"),a=i("UHc7"),r=i("8hg/"),o=i("VbtH"),c=i("Vppf"),l=i("G/Dn"),h=i("HjF0"),d=i("3ZrE");e.a=Object(n.default)(s,a.a,d.a)}).call(e,i("4kSj"))},l7GE:function(t,e,i){"use strict";function s(){this.defaultAttrs({itemType:"media"}),this.after("initialize",function(){this.attr.allowInfiniteScroll||this.hideMoreSpinner()})}var n=i("4Pj3"),a=i("GbBZ"),r=i("aRtI"),o=i("G/SW"),c=i("xgWv");e.a=n.a.mixin(s,o.a,a.a,c.a,r.a)},lXMc:function(t,e,i){"use strict";function s(){this.scribeHeadlineImpression=function(t,e){this.scribe("impression",e)},this.scribeOpenLink=function(t,e){this.scribe("open_link",e)},this.after("initialize",function(){this.on("uiAdaptiveNewsHeadlineLoaded",this.scribeHeadlineImpression),this.on("uiAdaptiveNewsHeadlineLinkOpened",this.scribeOpenLink)})}var n=i("DBjh"),a=i("3oDc");e.a=Object(n.default)(s,a.a)},"m+Fs":function(t,e,i){"use strict";function s(t){Object(r.a)(t),Object(o.default)(t),u.a.scribeData.search_details=t.searchDetails,Object(l.a)(t),Object(d.a)(".js-wtf-module",t,{wtfOptions:t.wtfOptions}),b.a.attachTo(document,{containerSelector:"#timeline"}),T.a.attachTo(document),C.a.attachTo("#timeline",{eventData:t.eventData}),v.a.attachTo("#timeline",{page:"search"}),p.a.attachTo(document,t),t.isUserGridTimeline?Object(h.a)(R({},t,{disableProfilePopup:!1,showWithIdSelector:".ProfileCard-bg, .ProfileCard-avatarLink, .ProfileNameTruncated-link, .ProfileCard-screennameLink, .js-user-profile-link",timeline_url:t.searchEndpoint})):t.isMediaGridTimeline?Object(c.a)(R({},t,{itemsSelector:"#stream-items-id",tweetWithReplyDialogSelector:".grid-tweet",gridNumRowsLimit:null,mediaGalleryScribeComponent:"tweet"}),t.searchEndpoint,"tweet"):Object(a.a)(t),k.a.attachTo("#search-settings-dialog"),f.a.attachTo(document),m.a.attachTo(document),y.a.attachTo(".AdaptiveFiltersBar-target",Object(n.a)(t,"search_filter")),t.typeaheadData.followedSearches.enabled&&(j.a.attachTo(document,t),D.a.attachTo(".FollowSearchNux")),w.a.attachTo(".SearchExtrasDropdown"),S.a.attachTo(".SearchExtrasDropdown-savedSearch",t),y.a.attachTo(".SearchExtrasDropdown-target",Object(n.a)(t,"search_dropdown")),g.a.attachTo(document),I.a.attachTo(".SidebarFilterModule",Object(n.a)(t,t.scribeComponent.sidebarFilterModule)),y.a.attachTo(".SidebarFilterModule-advanced",Object(n.a)(t,t.scribeComponent.sidebarFilterModule)),O.a.setGlobalNavSelector(".SearchNavigation")}e.a=s;var n=i("gNjh"),a=i("1zen"),r=i("hhhH"),o=i("DNqT"),c=i("45h/"),l=i("smxC"),h=i("YBY8"),d=i("9n2V"),u=i("NNES"),p=i("6b+H"),f=i("xFDt"),m=i("UOpA"),g=i("jBlE"),v=i("JnjQ"),S=i("k4mc"),w=i("r2dR"),b=i("A1Ox"),T=i("9RxZ"),y=i("y9Hg"),C=i("zAui"),D=i("8/ii"),k=i("ciCv"),I=i("H1y1"),j=i("SGKn"),O=i("reQR"),R=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}},mS8d:function(t,e,i){"use strict";var s=i("Ny+n"),n=i("DJnx");e.a=s.a.mixin(n.a)},nB7e:function(t,e,i){"use strict";function s(){this.getTrendsLocationDialog=function(t,e){var i=function(t){this.trigger("dataGotTrendsLocationDialog",t),t.trendLocations&&this.trigger("dataLoadedTrendLocations",{trendLocations:t.trendLocations})};this.get({url:"/trends/location_dialog",eventData:e,success:i.bind(this),error:"dataGotTrendsLocationDialogError"})},this.updateTrendsLocation=function(t,e){var i=e.location||{},s={woeid:i.woeid,personalized:e.personalized,pc:!0},n=function(t){this.trigger("dataChangedTrendLocation",{personalized:t.personalized,location:i}),t.trends_cache_key&&(this.trigger("dataTempTrendsCacheKeyChanged",{trendsCacheKey:t.trends_cache_key}),this.trigger("dataPageMutated")),t.update_module_html&&this.trigger("uiRefreshTrends",t)};this.post({url:"/trends/dialog",eventData:e,data:s,success:n.bind(this),error:"dataGotTrendsLocationDialogError"})},this.after("initialize",function(){this.on("uiWantsTrendsLocationDialog",this.getTrendsLocationDialog),this.on("uiChangeLocation",this.updateTrendsLocation)})}var n=i("DBjh"),a=i("VtWx");e.a=Object(n.default)(s,a.a)},"nD+w":function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({src:"module",$backoffNode:t(window),trendsModuleEndpoint:"/i/trends",trendsCacheKey:null,show_context:!0,trendsPollingOptions:{focusedInterval:3e5,blurredInterval:12e5,eventData:{source:"clock"}}}),this.makeTrendsRequest=function(t){var e=t.woeid,i=t.source,s=function(t){t.source=i,this.trigger("dataTrendsRefreshed",t)};this.get({url:this.attr.trendsModuleEndpoint,eventData:t,data:{k:this.currentCacheKey,woeid:e,pc:!0,personalized:t.personalized,src:this.attr.src,show_context:this.attr.show_context,profileUserId:this.attr.profileUserId,query:this.attr.query},success:s.bind(this),error:"dataTrendsRefreshedError"})},this.makeTrendsDialogRequest=function(t,e){var i={woeid:t.woeid,personalized:t.personalized,pc:!0},s=function(t){this.trigger("dataGotTrendsDialog",t),this.currentWoeid&&this.currentWoeid!==t.woeid&&this.trigger("dataTrendsLocationChanged"),this.currentWoeid=t.woeid,t.trends_cache_key&&(this.currentCacheKey=t.trends_cache_key,this.trigger("dataPageMutated")),t.update_module_html&&this.trigger("uiRefreshTrends",t)};(e?this.post:this.get).call(this,{url:"/trends/dialog",eventData:t,data:i,success:s.bind(this),error:"dataGotTrendsDialogError"})},this.changeTrendsLocation=function(t,e){this.makeTrendsDialogRequest(e,!0)},this.refreshTrends=function(t,e){e=e||{},this.makeTrendsRequest(e)},this.getTrendsDialog=function(t,e){e=e||{},this.makeTrendsDialogRequest(e)},this.updateTrendsCacheKey=function(t,e){this.currentCacheKey=e.trendsCacheKey},this.after("initialize",function(){this.currentCacheKey=this.attr.trendsCacheKey,this.timer=Object(a.a)("uiRefreshTrends",this.attr.$backoffNode,this.attr.trendsPollingOptions),this.on("uiWantsTrendsDialog",this.getTrendsDialog),this.on("uiChangeTrendsLocation",this.changeTrendsLocation),this.on("uiRefreshTrends",this.refreshTrends),this.on("dataTempTrendsCacheKeyChanged",this.updateTrendsCacheKey)})}var n=i("DBjh"),a=i("11Yp"),r=i("VtWx");e.a=Object(n.default)(s,r.a)}).call(e,i("4kSj"))},p067:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({pollingWatchNode:t(window),pollingEnabled:!0}),this.shouldStopPolling=function(t){return!!(this.attr.pollingOptions&&this.attr.pollingOptions.pauseItemCount&&t>=this.attr.pollingOptions.pauseItemCount)},this.startPolling=function(){this.pollingTimer&&this.pollingTimer.clear(),this.pollingTimer=Object(n.a)("uiTimelinePollForNewItems",this.attr.pollingWatchNode,this.attr.pollingOptions),this.resetPolling()},this.pausePolling=function(){this.pollingTimer.pause(),this.pollingPaused=!0},this.resetPolling=function(){this.backoffEmptyResponseCount=0,this.pollingPaused=!1,this.trigger("uiPollingStarted")},this.stopPolling=function(){this.pollingTimer&&(this.pollingTimer.clear(),this.trigger("uiPollingStopped"))},this.pollForNewItems=function(t,e){this.trigger("uiTimelineShouldRefresh",{injectImmediately:!1,interval:this.pollingTimer.interval,fromPolling:!0})},this.onGotMoreTimelineItems=function(t,e){if(this.attr.pollingOptions&&this.attr.pollingOptions.pauseAfterBackoff&&e&&e.sourceEventData){if(e.focused_refresh_interval){var i=this.attr.pollingOptions.blurredInterval/this.attr.pollingOptions.focusedInterval;this.stopPolling(),this.attr.pollingOptions.focusedInterval=e.focused_refresh_interval,this.attr.pollingOptions.blurredInterval=e.focused_refresh_interval*i,this.startPolling()}var s=e.sourceEventData;s.fromPolling&&(this.shouldStopPolling(e.new_latent_count)?this.stopPolling():this.isNewItem(e)||s.interval<this.attr.pollingOptions.blurredInterval?this.resetPolling():++this.backoffEmptyResponseCount>=this.attr.pollingOptions.backoffEmptyResponseLimit&&this.pausePolling())}},this.getNewItemsCountData=function(t){if(this.pollingPaused&&this.attr.pollingOptions)return this.resetPolling(),{count:this.attr.pollingOptions.resumeItemCount}},this.possiblyRefreshBeforeInject=function(t,e,i){return this.pollingPaused&&i&&i.fromClick&&this.trigger("uiTimelineShouldRefresh",{injectImmediately:!0}),t(e,i)},this.around("injectNewItems",this.possiblyRefreshBeforeInject),this.before("teardown",function(){this.stopPolling()}),this.after("initialize",function(){this.attr.pollingEnabled&&(this.on(document,"uiTimelinePollForNewItems",this.pollForNewItems),this.on(document,"dataGotMoreTimelineItems",this.onGotMoreTimelineItems),this.on(document,"uiHasInjectedNewTimeline",this.startPolling),this.startPolling())})}var n=i("11Yp");e.a=s}).call(e,i("4kSj"))},qX0T:function(t,e,i){"use strict";function s(t){Object(n.a)(t),a.a.attachTo(".advanced-search",t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=i("hhhH"),a=i("Nx8E")},r2dR:function(t,e,i){"use strict";var s=i("DBjh"),n=i("mGri");e.a=Object(s.default)(n.a)},smxC:function(t,e,i){"use strict";function s(t){o.a.attachTo(document),n.a.attachTo(document,{src:t.src,trendsCacheKey:t.trendsCacheKey,trendsModuleEndpoint:t.trendsEndpoint,show_context:t.show_context,profileUserId:t.profile_id,query:t.query}),c.a.attachTo(".module.trends",{loggedIn:t.loggedIn,displaySource:t.src,eventData:{scribeContext:{component:"trends"}}}),a.a.attachTo(document),r.a.attachTo(document),l.a.attachTo("#trends_dialog",{typeaheadData:t.typeaheadData,eventData:{scribeContext:{component:"trends_location_dialog"}}})}e.a=s;var n=i("nD+w"),a=i("nB7e"),r=i("O1q0"),o=i("0iQm"),c=i("ykaF"),l=i("kku7")},sup2:function(t,e,i){"use strict";function s(){this.defaultAttrs({searchOperatorsLinkSelector:".search-operators-link"}),this.after("initialize",function(){this.on(document,"click",{searchOperatorsLinkSelector:this.open})})}var n=i("DBjh"),a=i("UHc7");e.a=Object(n.default)(s,a.a)},w0oo:function(t,e,i){"use strict";(function(t){function i(){this.defaultAttrs({streamUserSelector:".stream-items .js-actionable-user"}),this.oldUsersDisplayed=function(t,e){var i=e.items||[],s=i.map(function(t){return{id:t.userId,impressionId:t.impressionId}});this.trigger("uiUsersDisplayed",{users:s})},this.usersDisplayed=function(){var e=this.select("streamUserSelector"),i=[];e.each(function(e,s){var n=t(s);i.push({id:n.attr("data-user-id"),impressionId:n.attr("data-impression-id")})}),this.trigger("uiUsersDisplayed",{users:i})},this.after("initialize",function(){this.usersDisplayed(),this.on("uiHasInjectedOldTimelineItems",this.oldUsersDisplayed)})}e.a=i}).call(e,i("4kSj"))},xFDt:function(t,e,i){"use strict";function s(){this.getSettings=function(t,e){this.get({url:this.getUrl(),success:"dataSearchSettingsGetSuccess",error:"dataSearchSettingsGetError",useOAuthSessionAuth:!0})},this.saveSettings=function(t,e){this.post({acceptEmptyStringAsJsonResponse:!0,url:this.saveUrl(),data:e,dataType:this.DATA_TYPES.TEXT,success:"dataSearchSettingsSaveSuccess",error:"dataSearchSettingsSaveError",useOAuthSessionAuth:!0,contentType:this.CONTENT_TYPES.APPLICATION_JSON})},this.getUserId=function(){return r.a.user.id},this.getUrl=function(){return"https://api.twitter.com/1.1/strato/column/User/"+this.getUserId()+"/search/searchSafetyReadonly"},this.saveUrl=function(){return"https://api.twitter.com/1.1/strato/column/User/"+this.getUserId()+"/search/searchSafety"},this.after("initialize",function(){this.on("uiSearchSettingsGet",this.getSettings),this.on("uiSearchSettingsSave",this.saveSettings)})}var n=i("DBjh"),a=i("VtWx"),r=i("IAMj");e.a=Object(n.default)(s,a.a)},y2UT:function(t,e,i){"use strict";function s(){this.defaultAttrs({descriptionSelector:null,imageSelector:null,titleSelector:null,userSelector:".AdaptiveNewsHeadlineDetails-user"}),this.onClickLink=function(t){this.trigger("uiAdaptiveNewsHeadlineLinkOpened",{scribeContext:{element:t}})},this.after("initialize",function(_,t){r.attachTo(this.select("userSelector"),t,{itemType:"user",showWithIdSelector:this.attr.userSelector}),this.on("click",{descriptionSelector:this.onClickLink.bind(this,"description"),imageSelector:this.onClickLink.bind(this,"image"),titleSelector:this.onClickLink.bind(this,"title")}),this.trigger("uiAdaptiveNewsHeadlineLoaded")})}var n=i("DBjh"),a=i("xgWv");e.a=Object(n.default)(s);var r=Object(n.default)(a.a)},yWM8:function(t,e,i){"use strict";function s(){this.scribeOriginalQueryClicked=function(t,e){this.scribe({element:"spelling_revert",action:"search"},e)},this.scribeCorrectedQueryClicked=function(t,e){this.scribe({element:"corrected_query",action:"search"},e)},this.after("initialize",function(){this.on("uiSpellingSuggestionOriginalQueryClicked",this.scribeOriginalQueryClicked),this.on("uiSpellingSuggestionCorrectedQueryClicked",this.scribeCorrectedQueryClicked)})}var n=i("DBjh"),a=i("3oDc");e.a=Object(n.default)(s,a.a)},ykaF:function(t,e,i){"use strict";(function(t){function s(){this.defaultAttrs({changeLinkSelector:".change-trends",trendsInnerSelector:".trends-inner",trendItemSelector:".js-trend-item",trendLinkItemSelector:".js-trend-item a",itemType:"trend",displaySource:"module"}),this.openChangeTrendsDialog=function(t){this.trigger("uiShowTrendsLocationDialog"),t.preventDefault()},this.updateModuleContent=function(t,e){if(e.module_html){var i=this.$node.hasClass("hidden"),s=e.source;this.select("trendsInnerSelector").html(e.module_html),this.currentWoeid=e.woeid,this.$node.removeClass("hidden");var n=this.getTrendData(this.select("trendItemSelector"));this.trigger("uiTrendsDisplayed",{items:n,initial:i,source:s,scribeData:{woeid:this.currentWoeid}})}},this.trendSelected=function(e,i){var s=t(i.el).closest(this.attr.trendItemSelector),n=this.getTrendData(s)[0],r=s.index(),o={name:n.name,item_type:a.a.trend,item_query:n.name,position:r,token:n.token,id:n.id},c={position:r,query:n.name,url:s.find("a").attr("href"),woeid:this.currentWoeid};n.promotedTrendId&&(o.promoted_id=n.promotedTrendId,c.promoted=!0),c.items=[o],this.trigger("uiTrendSelected",{isPromoted:!!n.promotedTrendId,promotedTrendId:n.promotedTrendId,scribeContext:{element:"trend"},scribeData:c})},this.getTrendData=function(e){return e.map(function(){var e=t(this);return{name:e.attr("data-trend-name"),promotedTrendId:e.data("promoted-trend-id"),trendingEvent:e.hasClass("event-trend"),token:e.attr("data-trend-token"),id:e.attr("data-trends-id")}}).toArray()},this.after("initialize",function(){this.on(document,"dataTrendsRefreshed",this.updateModuleContent),this.on("click",{changeLinkSelector:this.openChangeTrendsDialog,trendLinkItemSelector:this.trendSelected}),this.trigger("uiRefreshTrends")})}var n=i("DBjh"),a=i("rbkv"),r=i("xgWv");e.a=Object(n.default)(s,r.a)}).call(e,i("4kSj"))},zAui:function(t,e,i){"use strict";(function(t){function s(){this.viewportHelpers=o.a,this.defaultAttrs({tweetSelector:".tweet",cursorSelector:".ThreadedConversation-showMoreThreads",itemType:"tweet",checkVisibilityInterval:500}),this.checkTweetVisibility=function(){var e=this,i=this.allVisibleTweets(),s=i.map(function(t){return this.interactionDataWithCard(t)},this),n=this.select("cursorSelector").filter(function(i,s){o.a.isWithinBounds(e.$window,t(s))}).toArray().map(function(e){return{type:t(e).data("cursor-type-name"),cursor:t(e).find("[data-cursor]").data("cursor")}});this.trigger("uiTweetsVisible",{tweetData:s,cursorData:n})},this.allVisibleTweets=function(){var t=this.select("tweetSelector"),e=this.findVisibleTweet(t);if(-1===e)return[];for(var i=[],s=e;t[s]&&o.a.isWithinBounds(this.$window,t.eq(s));)i.push(t[s]),s--;for(i.reverse(),s=e+1;t[s]&&o.a.isWithinBounds(this.$window,t.eq(s));)i.push(t[s]),s++;return i},this.findVisibleTweet=function(t){var e=o.a.getContainerRect(this.$window);return this.findVisibleTweetRecursive(t.length,0,t,0,e)},this.findVisibleTweetRecursive=function(t,e,i,s,n){var a=Math.floor((t-e)/2+e);return a===e||s>100?-1:o.a.isAboveViewport(this.$window,i.eq(a),0,n)?this.findVisibleTweetRecursive(t,a,i,s+1,n):o.a.isBelowViewport(this.$window,i.eq(a),0,n)?this.findVisibleTweetRecursive(a,e,i,s+1,n):a},this.before("teardown",function(){this.pollingInterval.clear()}),this.after("initialize",function(){this.$window=t(window),this.pollingInterval=r.default.setIntervalEvent("uiCheckTweetVisibility",this.attr.checkVisibilityInterval),this.on(document,"uiCheckTweetVisibility",this.checkTweetVisibility)})}var n=i("DBjh"),a=i("alSu"),r=i("r8Bt"),o=i("/LRg");e.a=Object(n.default)(s,a.a)}).call(e,i("4kSj"))}});
//# sourceMappingURL=10.pages_search.en.a3ea2e4006f9168b0b78.js.map